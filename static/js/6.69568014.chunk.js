(this["webpackJsonpmove-oba"]=this["webpackJsonpmove-oba"]||[]).push([[6],{1218:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),l=s(646),i=s(677),a=s(70),r=s(289),d=s(3),o=s(966),j=s.n(o),b=s(461),g=s.n(b),h=s(1216),O=s(1220),p=s(38),u=s(15),y=s(17),x=s(765),m=s(4),v=s(74),f=s.n(v),k=s(795),w=s(27),T=s(826),A=s.n(T),N=s(7),C=s(0);const B=70,z=110,D=5,L=10,I=182,M=72,P=6,S=118,U=353,q=6,E=375,H=25,R=52,W=200,V=305,_=355,Q=405,G=455,F=15,J=10,X=(e,t,s,c)=>({top:e,left:t,fontSize:s,width:c||220,border:0,margin:0,padding:0}),K=(e,t,s,c)=>({top:e,left:t,fontSize:s,width:c,border:0,position:"absolute"}),Y=e=>({["pack"+e+"no"]:K(E+F*e,H,J,20),["pack"+e+"type"]:K(E+F*e,R,J,130),["pack"+e+"size"]:K(E+F*e,W,J-1,80),["pack"+e+"quantity"]:K(E+F*e,V,J,30),["pack"+e+"weight"]:K(E+F*e,_,J,30),["pack"+e+"volume"]:K(E+F*e,Q,J,30),["pack"+e+"remarks"]:K(E+F*e,G,J,120)}),Z=x.f.create(Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)({pageBackground:{position:"absolute",display:"block",height:854910/1042,width:590},barcode:{position:"absolute",top:152,left:5,height:55,width:250},date:X(B+0*D,z+0,L),time:X(B+1*D,z+0,L),cargoType:X(B+2*D,z+0,L),destination:X(B+3*D,z+0,L),hbl:X(B+4*D,z+0,L),name:X(I+0*P,M+0,8),name2:X(I+1*P,M+0,8),address:X(I+2*P,M+0,8),address2:X(I+3*P,M+0,8),qid:X(I+4*P+5,M+0,9),contact:X(I+5*P+6,M+0,9),ppNo:X(I+6*P+7,M+0,9),slName:X(S+0*q,U+0,8),slName2:X(S+1*q,U+0,8),slAddress:X(S+2*q,U+0,8),slAddress2:X(S+3*q,U+0,8),slQid:X(S+4*q+2,U+0,9),slContact:X(S+5*q+3,U+0,9),slPpNo:X(S+6*q+4,U+0,9)},Y(0)),Y(1)),Y(2)),Y(3)),Y(4)),Y(5)),Y(6)),Y(7)),Y(8)),Y(9)),Y(10)),Y(11)),Y(12)),Y(13)),Y(14)),Y(15)),{},{totalQuantity:K(620,105,10),totalVolume:K(635,105,10),totalWeight:K(650,105,10),totalAmount:K(620,360,10),totalPaid:K(635,360,10),amountInWords:K(675,80,9),note:K(800,20,10)}));var $=e=>{var t,s,c,n,l,i,a,r;const{cargo:d,packages:o}=e,j=[...o.slice(0,16)];let b;b=document.createElement("canvas"),A()(b,d.hbl,{displayValue:!1});const g=b.toDataURL(),h=Object(N.b)(d.branch);return Object(C.jsxs)(x.e,{size:"A4",orientation:"portrait",children:[Object(C.jsx)(x.b,{src:"/app/images/"+h.parent+"/"+d.branch+"/hbl.jpg",style:Z.pageBackground}),Object(C.jsx)(x.b,{src:g,style:Z.barcode}),Object(C.jsx)(x.g,{style:Z.date,children:d.pickedUpDate||d.pickupDate}),Object(C.jsx)(x.g,{style:Z.time,children:d.pickedUpTime||d.pickupTime}),Object(C.jsxs)(x.g,{style:Z.cargoType,children:[d.cargoMode,"/",d.deliveryType]}),Object(C.jsx)(x.g,{style:Z.destination,children:d.warehouseLocation||"-"}),Object(C.jsx)(x.g,{style:Z.hbl,children:d.hbl}),Object(C.jsx)(x.g,{style:Z.name,children:(null===(t=d.name)||void 0===t?void 0:t.substring(0,47))||"-"}),Object(C.jsx)(x.g,{style:Z.name2,children:(null===(s=d.name)||void 0===s?void 0:s.substring(47))||"  "}),Object(C.jsx)(x.g,{style:Z.address,children:(null===(c=d.address)||void 0===c?void 0:c.substring(0,47))||"-"}),Object(C.jsx)(x.g,{style:Z.address2,children:(null===(n=d.address)||void 0===n?void 0:n.substring(47))||"  "}),Object(C.jsx)(x.g,{style:Z.qid,children:d.qid||"-"}),Object(C.jsx)(x.g,{style:Z.contact,children:d.contact||"-"}),Object(C.jsx)(x.g,{style:Z.ppNo,children:d.ppNo||"-"}),Object(C.jsx)(x.g,{style:Z.slName,children:(null===(l=d.slName)||void 0===l?void 0:l.substring(0,47))||"-"}),Object(C.jsx)(x.g,{style:Z.slName2,children:(null===(i=d.slName)||void 0===i?void 0:i.substring(47))||"  "}),Object(C.jsx)(x.g,{style:Z.slAddress,children:(null===(a=d.slAddress)||void 0===a?void 0:a.substring(0,47))||"-"}),Object(C.jsx)(x.g,{style:Z.slAddress2,children:(null===(r=d.slAddress)||void 0===r?void 0:r.substring(47))||"  "}),Object(C.jsx)(x.g,{style:Z.slQid,children:"  "}),Object(C.jsx)(x.g,{style:Z.slContact,children:d.slContact||"-"}),Object(C.jsx)(x.g,{style:Z.slPpNo,children:d.slPpNo||"-"}),Object(C.jsx)(x.g,{style:Z.totalQuantity,children:f()(o,(e,t)=>e+t.quantity,0)||"-"}),Object(C.jsx)(x.g,{style:Z.totalVolume,children:Object(w.h)(o)||"-"}),Object(C.jsx)(x.g,{style:Z.totalWeight,children:Object(w.i)(o)||"-"}),Object(C.jsx)(x.g,{style:Z.totalAmount,children:d.paid+" "+d.currency||"-"}),Object(C.jsx)(x.g,{style:Z.totalPaid,children:d.paid+" "+d.currency||"-"}),Object(C.jsx)(x.g,{style:Z.amountInWords,children:(Object(k.a)(d.paid)+" only"||!1).toUpperCase()}),Object(C.jsx)(x.g,{style:Z.note,children:d.note||"-"}),j.map((e,t)=>Object(C.jsx)(x.g,{style:Z["pack"+t+"no"],children:t+1})),j.map((e,t)=>Object(C.jsx)(x.g,{style:Z["pack"+t+"type"],children:e.type})),j.map((e,t)=>Object(C.jsx)(x.g,{style:Z["pack"+t+"size"],children:e.length+" X "+e.breadth+" X "+e.height})),j.map((e,t)=>Object(C.jsx)(x.g,{style:Z["pack"+t+"quantity"],children:e.quantity})),j.map((e,t)=>Object(C.jsx)(x.g,{style:Z["pack"+t+"weight"],children:e.weight})),j.map((e,t)=>Object(C.jsx)(x.g,{style:Z["pack"+t+"volume"],children:Object(w.f)(e)})),j.map((e,t)=>Object(C.jsx)(x.g,{style:Z["pack"+t+"remarks"],children:e.remarks}))]})};var ee=e=>{const{details:t}=e;return 0===t.length?Object(C.jsx)(x.a,{}):Object(C.jsx)(x.a,{children:t.map(e=>Object(C.jsx)($,{cargo:e.cargo,packages:e.packages}))})};const te=125,se=20,ce=10,ne=(e,t,s,c)=>({top:e,left:t,fontSize:s,width:c,border:0,position:"absolute"}),le=x.f.create({pageBackground:{position:"absolute",display:"block",height:854910/1042,width:590},hbl:ne(te+0,se+355,ce),date:ne(te+12,se+355,ce),time:ne(te+24,se+355,ce),driver:ne(te+36,se+355,ce),name:ne(te+12,se+27,ce),name2:ne(te+24,se+27,ce),address:ne(te+40,se+27,ce),address2:ne(te+52,se+27,ce),row1:ne(te+130,se+30,ce),row2:ne(te+130,se+155,ce),row3:ne(te+130,se+290,ce),row4:ne(te+130,se+455,ce),total:ne(te+403,se+455,ce-1),discount:ne(te+413,se+455,ce-1),net:ne(te+426,se+455,ce-1),amountInWords:ne(te+442,se+110,ce-1),remarks:ne(te+480,se+40,ce-1),cash:ne(te+532,se+220,ce-1),finalTotal:ne(te+573,se+220,ce-1)});var ie=e=>{var t,s,c,n;const{cargo:l}=e;if(!l)return Object(C.jsx)(x.a,{});const i=Object(N.b)(l.branch);return Object(C.jsx)(x.a,{children:Object(C.jsxs)(x.e,{size:"A4",orientation:"portrait",children:[Object(C.jsx)(x.b,{src:"/app/images/"+i.parent+"/"+l.branch+"/cr.jpg",style:le.pageBackground}),Object(C.jsx)(x.g,{style:le.hbl,children:l.hbl+2777}),Object(C.jsx)(x.g,{style:le.date,children:l.pickedUpDate||l.pickupDate}),Object(C.jsx)(x.g,{style:le.time,children:l.pickedUpTime||l.pickupTime}),Object(C.jsx)(x.g,{style:le.driver,children:l.auth||"-"}),Object(C.jsx)(x.g,{style:le.name,children:(null===(t=l.name)||void 0===t?void 0:t.substring(0,42))||"-"}),Object(C.jsx)(x.g,{style:le.name2,children:null===(s=l.name)||void 0===s?void 0:s.substring(42)}),Object(C.jsx)(x.g,{style:le.address,children:(null===(c=l.address)||void 0===c?void 0:c.substring(0,42))||"-"}),Object(C.jsx)(x.g,{style:le.address2,children:null===(n=l.address)||void 0===n?void 0:n.substring(42)}),Object(C.jsx)(x.g,{style:le.row1,children:"1"}),Object(C.jsx)(x.g,{style:le.row2,children:l.hbl}),Object(C.jsx)(x.g,{style:le.row3,children:l.cargoMode+"\\"+l.deliveryType}),Object(C.jsx)(x.g,{style:le.row4,children:l.paid+" "+l.currency}),Object(C.jsx)(x.g,{style:le.total,children:l.paid+" "+l.currency}),Object(C.jsx)(x.g,{style:le.discount,children:"-"}),Object(C.jsx)(x.g,{style:le.net,children:l.paid+" "+l.currency}),Object(C.jsx)(x.g,{style:le.amountInWords,children:Object(k.a)(l.paid)+" only"||!1}),Object(C.jsx)(x.g,{style:le.remarks,children:l.remarks||"-"}),Object(C.jsx)(x.g,{style:le.cash,children:"cash"}),Object(C.jsx)(x.g,{style:le.finalTotal,children:l.paid+" "+l.currency})]})})},ae=s(19);const re=0,de=0,oe=(e,t,s,c)=>({top:e,left:t,fontSize:s,width:c,border:0,position:"absolute"}),je=e=>({top:e,borderBottom:1,width:290,position:"absolute"}),be=x.f.create({barcode:{position:"absolute",top:450,left:20,height:120,width:250},logo:{position:"absolute",top:30,left:20,height:38,width:42},date:oe(re+10,de+10,8),hotline:oe(re+10,de+115,8),website:oe(re+10,de+225,8),packageCountStr:oe(re+28,de+225,7),packageCount:oe(re+35,de+225,24),cargoMode:oe(re+32,de+105,13),deliveryType:oe(re+45,de+105,13),from:oe(re+72,de+10,8),name:oe(re+80,de+10,10),name2:oe(re+90,de+10,10),address:oe(re+102,de+10,10),address2:oe(re+112,de+10,10),contact:oe(re+124,de+10,10),to:oe(re+152,de+10,8),slName:oe(re+160,de+10,10),slName2:oe(re+170,de+10,10),slAddress:oe(re+182,de+10,10),slAddress2:oe(re+192,de+10,10),slContact:oe(re+204,de+10,10),originText:oe(re+232,de+10,8),destinationText:oe(re+232,de+150,8),origin:oe(re+240,de+10,18),destination:oe(re+240,de+150,18),weightText:oe(re+287,de+10,8),volumeText:oe(re+287,de+150,8),weight:oe(re+295,de+10,14),volume:oe(re+295,de+150,14),hblText:oe(re+322,de+10,8),packPid:oe(re+322,de+150,8),packType:oe(re+330,de+150,14),mhblText:oe(re+370,de+10,8),hbl:oe(re+330,de+10,30)});var ge=e=>{const{cargo:t,packages:s}=e;if(!t)return Object(C.jsx)(x.a,{});const c=[];s.forEach(e=>{let s;s=document.createElement("canvas"),A()(s,t.hbl+"|"+e.id,{displayValue:!1});const n=s.toDataURL();c.push(n)});const n=Object(N.b)(t.branch);return Object(C.jsx)(x.a,{children:s.map((e,l)=>{var i,a,r,d,o,j,b,g;return Object(C.jsxs)(x.e,{size:{width:"102mm",height:"203mm"},children:[Object(C.jsxs)(x.g,{style:be.date,children:["Date: ",t.pickedUpDate||t.pickupDate," ",t.pickedUpTime||t.pickupTime]}),Object(C.jsx)(x.g,{style:be.hotline,children:n.phone}),Object(C.jsx)(x.g,{style:be.website,children:n.website}),Object(C.jsx)(x.g,{style:je(0),children:"  "}),Object(C.jsx)(x.b,{src:"/app/images/"+n.parent+"/"+t.branch+"/logo_client.jpg",style:be.logo}),Object(C.jsx)(x.g,{style:be.packageCountStr,children:"PACKAGES"}),Object(C.jsxs)(x.g,{style:be.packageCount,children:["1/",Object(ae.size)(s)]}),Object(C.jsx)(x.g,{style:be.cargoMode,children:t.cargoMode}),Object(C.jsx)(x.g,{style:be.deliveryType,children:t.deliveryType}),Object(C.jsx)(x.g,{style:je(50),children:"  "}),Object(C.jsx)(x.g,{style:be.from,children:"FROM:"}),Object(C.jsx)(x.g,{style:be.name,children:null===(i=t.name)||void 0===i?void 0:i.substring(0,45)}),Object(C.jsx)(x.g,{style:be.name2,children:null===(a=t.name)||void 0===a?void 0:a.substring(45)}),Object(C.jsx)(x.g,{style:be.address,children:null===(r=t.address)||void 0===r?void 0:r.substring(0,45)}),Object(C.jsx)(x.g,{style:be.address2,children:null===(d=t.address)||void 0===d?void 0:d.substring(45)}),Object(C.jsx)(x.g,{style:be.contact,children:t.contact}),Object(C.jsx)(x.g,{style:je(120),children:"  "}),Object(C.jsx)(x.g,{style:be.to,children:"TO:"}),Object(C.jsx)(x.g,{style:be.slName,children:null===(o=t.slName)||void 0===o?void 0:o.substring(0,45)}),Object(C.jsx)(x.g,{style:be.slName2,children:null===(j=t.slName)||void 0===j?void 0:j.substring(45)}),Object(C.jsx)(x.g,{style:be.slAddress,children:null===(b=t.slAddress)||void 0===b?void 0:b.substring(0,45)}),Object(C.jsx)(x.g,{style:be.slAddress2,children:null===(g=t.slAddress)||void 0===g?void 0:g.substring(45)}),Object(C.jsx)(x.g,{style:be.slContact,children:t.slContact}),Object(C.jsx)(x.g,{style:je(200),children:"  "}),Object(C.jsx)(x.g,{style:be.originText,children:"ORIGIN:"}),Object(C.jsx)(x.g,{style:be.origin,children:"DOH"}),Object(C.jsx)(x.g,{style:be.destinationText,children:"DESTINATION:"}),Object(C.jsx)(x.g,{style:be.destination,children:"CMB"}),Object(C.jsx)(x.g,{style:je(260),children:"  "}),Object(C.jsx)(x.g,{style:be.weightText,children:"WEIGHT:"}),Object(C.jsx)(x.g,{style:be.weight,children:e.weight||"-"}),Object(C.jsx)(x.g,{style:be.volumeText,children:"VOLUME:"}),Object(C.jsx)(x.g,{style:be.volume,children:Object(w.f)(e)}),Object(C.jsx)(x.g,{style:je(295),children:"  "}),Object(C.jsx)(x.g,{style:be.hblText,children:"HBL:"}),Object(C.jsx)(x.g,{style:be.hbl,children:t.hbl}),Object(C.jsxs)(x.g,{style:be.packPid,children:["PID: ",e.id]}),Object(C.jsx)(x.g,{style:be.packType,children:e.type}),Object(C.jsx)(x.g,{style:be.mhblText,children:"MHBL:"}),Object(C.jsx)(x.g,{style:je(410),children:"  "}),Object(C.jsx)(x.b,{src:c[l],style:be.barcode})]})})})};const he=["HBL","CR","BAR"];t.default=e=>{const{enqueueSnackbar:t}=Object(y.b)(),s=e.match.params.id,c=e.match.params.branch,o=+(e.match.params.tab||1)-1,b=Object(l.a)("print"),[m,v]=n.a.useState(he[o]),[f,k]=n.a.useState([]),[w,T]=n.a.useState(!1);return n.a.useEffect(()=>{N.f.getBranchDetails(c).then(e=>{p.a.getLoadedCargos(s).then(e=>{const s=Object(ae.orderBy)(e,"cargo.hbl");Object(N.d)().branch===s[0].cargo.branch||Object(N.d)().branch===s[0].cargo.destination?k(s):t("You are not Authorized",{variant:"warning"})}).catch(e=>{t("Could not fetch",{variant:"error"})}).finally(e=>T(!1))}).catch(e=>{T(!1),t("Could not fetch",{variant:"error"})})},[t,s,c]),Object(C.jsxs)(i.a,{children:[!b&&Object(C.jsxs)(i.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between",style:{padding:20,marginBottom:20,background:u.a.shades.light},children:[Object(C.jsx)(d.j,{size:4,title:"Print All HBL",subtitle:"OBA"}),Object(C.jsxs)(i.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10},children:[Object(C.jsx)(O.a,{value:m,onChange:(e,t)=>v(t),exclusive:!0,children:Object(C.jsxs)(h.a,{value:he[0],style:m===he[0]?{background:u.a.shades.green}:{},children:[Object(C.jsx)(j.a,{}),Object(C.jsx)(a.a,{children:"\xa0 ALL HBL"})]})}),Object(C.jsx)("div",{children:!w&&Object(C.jsx)(x.c,{document:m===he[0]?Object(C.jsx)(ee,{details:f}):m===he[1]?Object(C.jsx)(ie,{cargo:f.cargo}):Object(C.jsx)(ge,{cargo:f.cargo,packages:f.packages}),fileName:m+"_full_loading_"+c+"_"+s+".pdf",children:e=>{let{blob:t,url:s,loading:c,error:n}=e;return console.log("file error",n),c?"Loading...":Object(C.jsx)(r.a,{startIcon:Object(C.jsx)(g.a,{}),color:"primary",variant:"contained",size:"large",style:{marginLeft:10},children:"Print PDF"})}})})]})]}),!w&&Object(C.jsx)(i.a,{style:{padding:30},children:Object(C.jsx)(x.d,{width:1100,height:800,children:m===he[0]?Object(C.jsx)(ee,{details:f}):m===he[2]?Object(C.jsx)(ge,{cargo:f.cargo,packages:f.packages}):Object(C.jsx)(ie,{cargo:f.cargo})})})]})}},795:function(e,t,s){"use strict";s.d(t,"a",function(){return o});var c=["","one","two","three","four","five","six","seven","eight","nine"],n=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"],l=["ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"];function i(e){return e>=1e6?i(Math.floor(e/1e6))+" million "+a(e%1e6):a(e)}function a(e){return e>=1e3?r(Math.floor(e/1e3))+" thousand "+r(e%1e3):r(e)}function r(e){return e>99?c[Math.floor(e/100)]+" hundred "+d(e%100):d(e)}function d(e){return e<10?c[e]:e>=10&&e<20?l[e-10]:n[Math.floor(e/10)]+" "+c[e%10]}function o(e){return void 0===e?"":0===e?"zero":i(e)}},878:function(e,t){},879:function(e,t){},899:function(e,t){},900:function(e,t){}}]);
//# sourceMappingURL=6.69568014.chunk.js.map