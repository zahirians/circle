(this["webpackJsonpmove-oba"]=this["webpackJsonpmove-oba"]||[]).push([[5],{1219:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),a=s(646),i=s(677),l=s(70),r=s(289),o=(s(3),s(966)),d=s.n(o),j=s(461),b=s.n(j),h=s(1216),g=s(1220),u=s(55),p=s(15),O=s(17),x=s(765),y=s(4),m=(s(74),s(795)),v=s(27),f=s(826),k=s.n(f),w=s(7),T=s(415),A=s(11),M=s.n(A),N=s(0);const C=175,D=172,I=5,S=10,B=182,z=72,E=6,q=118,P=353,R=6,L=775,U=125,H=52,W=200,V=305,Y=355,G=405,_=455,F=15,J=10,Q=(e,t,s,c)=>({top:e,left:t,fontSize:s,width:c||220,border:0,margin:0,padding:0}),X=(e,t,s,c)=>({top:e,left:t,fontSize:s,width:c,border:0,position:"absolute"}),K=e=>({["pack"+e+"no"]:X(L+F*e,U,J,20),["pack"+e+"type"]:X(L+F*e,H,J,130),["pack"+e+"size"]:X(L+F*e,W,J-1,80),["pack"+e+"quantity"]:X(L+F*e,V,J,30),["pack"+e+"weight"]:X(L+F*e,Y,J,30),["pack"+e+"volume"]:X(L+F*e,G,J,30),["pack"+e+"remarks"]:X(L+F*e,_,J,120)}),Z=x.f.create(Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)({pageBackground:{position:"absolute",display:"block",height:854910/1042,width:590},barcode:{position:"absolute",top:152,left:5,height:55,width:250},qrcode:{position:"absolute",top:135,left:185,height:75,width:80},date:Q(C+0*I,D+0,S),name:Q(C+32*I,D+10,S+1),cargoType:Q(C+2*I,D+0,S),destination:Q(C+3*I,D+0,S),hbl:Q(C+4*I,D+0,S),name1:Q(B+0*E,z+0,8),name2:Q(B+1*E,z+0,8),address:Q(B+2*E,z+0,8),address2:Q(B+3*E,z+0,8),qid:Q(B+4*E+5,z+0,9),contact:Q(B+5*E+6,z+0,9),ppNo:Q(B+6*E+7,z+0,9),slName:Q(q+0*R,P+0,8),slName2:Q(q+1*R,P+0,8),slAddress:Q(q+2*R,P+0,8),slAddress2:Q(q+3*R,P+0,8),slQid:Q(q+4*R+2,P+0,9),slContact:Q(q+5*R+3,P+0,9),slPpNo:Q(q+6*R+4,P+0,9)},K(0)),K(1)),K(2)),K(3)),K(4)),K(5)),K(6)),K(7)),K(8)),K(9)),K(10)),K(11)),K(12)),K(13)),K(14)),K(15)),{},{totalQuantity:X(620,105,10),totalVolume:X(637,105,10),totalWeight:X(655,105,10),totalAmount1:X(620,305,10),totalAmount2:X(637,305,10),totalAmount3:X(655,305,10),totalAmount4:X(620,495,10),totalAmount5:X(637,495,10),totalAmount6:X(655,495,10),amountInWords:X(675,80,9),note:X(800,20,10)}));var $=e=>{const{all:t}=e,s=[...(null===t||void 0===t?void 0:t.education)||[]],[c,a]=n.a.useState(null);if(n.a.useEffect(()=>{t.name||setTimeout(()=>{const e=document.getElementById("qrcode-mw");e&&a(e.toDataURL())},1500)},[t.name]),!t)return Object(N.jsx)(x.a,{});let i;i=document.createElement("canvas"),k()(i,t.hbl,{displayValue:!1});const l=i.toDataURL(),r=Object(w.b)(t.branch);Object(T.b)(r.printPriceBreakdown,t);return Object(N.jsx)(x.a,{children:Object(N.jsxs)(x.e,{size:"A4",orientation:"portrait",children:[Object(N.jsx)(x.b,{src:"/app/images/docs/doc.jpg",style:Z.pageBackground}),r.barcode&&Object(N.jsx)(x.b,{src:l,style:Z.barcode}),r.qrcode&&c&&Object(N.jsx)(x.b,{src:c,style:Z.qrcode}),Object(N.jsx)(x.g,{style:Z.date,children:M()().format("YYYY-MM-DD")}),Object(N.jsx)(x.g,{style:Z.name,children:t.fullName||"-"}),s.map((e,t)=>Object(N.jsx)(x.g,{style:Z["pack"+t+"no"],children:t+1})),s.map((e,t)=>Object(N.jsx)(x.g,{style:Z["pack"+t+"type"],children:e.type})),s.map((e,t)=>Object(N.jsx)(x.g,{style:Z["pack"+t+"size"],children:e.length+" X "+e.breadth+" X "+e.height})),s.map((e,t)=>Object(N.jsx)(x.g,{style:Z["pack"+t+"quantity"],children:e.quantity})),s.map((e,t)=>Object(N.jsx)(x.g,{style:Z["pack"+t+"weight"],children:e.weight})),s.map((e,t)=>Object(N.jsx)(x.g,{style:Z["pack"+t+"volume"],children:Object(v.f)(e)})),s.map((e,t)=>Object(N.jsx)(x.g,{style:Z["pack"+t+"remarks"],children:e.remarks}))]})})};const ee=125,te=20,se=10,ce=(e,t,s,c)=>({top:e,left:t,fontSize:s,width:c,border:0,position:"absolute"}),ne=x.f.create({pageBackground:{position:"absolute",display:"block",height:854910/1042,width:590},hbl:ce(ee+0,te+355,se),date:ce(ee+12,te+355,se),time:ce(ee+24,te+355,se),driver:ce(ee+36,te+355,se),name:ce(ee+12,te+27,se),name2:ce(ee+24,te+27,se),address:ce(ee+40,te+27,se),address2:ce(ee+52,te+27,se),row1:ce(ee+130,te+30,se),row2:ce(ee+130,te+155,se),row3:ce(ee+130,te+290,se),row4:ce(ee+130,te+455,se),total:ce(ee+403,te+455,se-1),discount:ce(ee+413,te+455,se-1),net:ce(ee+426,te+455,se-1),amountInWords:ce(ee+442,te+110,se-1),remarks:ce(ee+480,te+40,se-1),cash:ce(ee+532,te+220,se-1),finalTotal:ce(ee+573,te+220,se-1)});var ae=e=>{var t,s,c,n;const{cargo:a}=e;if(!a)return Object(N.jsx)(x.a,{});const i=Object(w.b)(a.branch);return Object(N.jsx)(x.a,{children:Object(N.jsxs)(x.e,{size:"A4",orientation:"portrait",children:[Object(N.jsx)(x.b,{src:"/app/images/"+i.parent+"/"+a.branch+"/cr.jpg",style:ne.pageBackground}),Object(N.jsx)(x.g,{style:ne.hbl,children:a.hbl+2777}),Object(N.jsx)(x.g,{style:ne.date,children:a.pickedUpDate||a.pickupDate}),Object(N.jsx)(x.g,{style:ne.time,children:a.pickedUpTime||a.pickupTime}),Object(N.jsx)(x.g,{style:ne.driver,children:a.auth||"-"}),Object(N.jsx)(x.g,{style:ne.name,children:(null===(t=a.name)||void 0===t?void 0:t.substring(0,42))||"-"}),Object(N.jsx)(x.g,{style:ne.name2,children:null===(s=a.name)||void 0===s?void 0:s.substring(42)}),Object(N.jsx)(x.g,{style:ne.address,children:(null===(c=a.address)||void 0===c?void 0:c.substring(0,42))||"-"}),Object(N.jsx)(x.g,{style:ne.address2,children:null===(n=a.address)||void 0===n?void 0:n.substring(42)}),Object(N.jsx)(x.g,{style:ne.row1,children:"1"}),Object(N.jsx)(x.g,{style:ne.row2,children:a.hbl}),Object(N.jsx)(x.g,{style:ne.row3,children:a.cargoMode+"\\"+a.deliveryType}),Object(N.jsx)(x.g,{style:ne.row4,children:a.paid+" "+a.currency}),Object(N.jsx)(x.g,{style:ne.total,children:a.paid+" "+a.currency}),Object(N.jsx)(x.g,{style:ne.discount,children:"-"}),Object(N.jsx)(x.g,{style:ne.net,children:a.paid+" "+a.currency}),Object(N.jsx)(x.g,{style:ne.amountInWords,children:Object(m.a)(a.paid)+" only"||!1}),Object(N.jsx)(x.g,{style:ne.remarks,children:a.remarks||"-"}),Object(N.jsx)(x.g,{style:ne.cash,children:"cash"}),Object(N.jsx)(x.g,{style:ne.finalTotal,children:a.paid+" "+a.currency})]})})},ie=s(19);const le=0,re=0,oe=(e,t,s,c)=>({top:e,left:t,fontSize:s,width:c,border:0,position:"absolute"}),de=e=>({top:e,borderBottom:1,width:290,position:"absolute"}),je=x.f.create({barcode:{position:"absolute",top:450,left:20,height:120,width:250},logo:{position:"absolute",top:30,left:20,height:38,width:42},date:oe(le+10,re+10,8),hotline:oe(le+10,re+115,8),website:oe(le+10,re+225,8),packageCountStr:oe(le+28,re+225,7),packageCount:oe(le+35,re+225,24),cargoMode:oe(le+32,re+105,13),deliveryType:oe(le+45,re+105,13),from:oe(le+72,re+10,8),name:oe(le+80,re+10,10),name2:oe(le+90,re+10,10),address:oe(le+102,re+10,10),address2:oe(le+112,re+10,10),contact:oe(le+124,re+10,10),to:oe(le+152,re+10,8),slName:oe(le+160,re+10,10),slName2:oe(le+170,re+10,10),slAddress:oe(le+182,re+10,10),slAddress2:oe(le+192,re+10,10),slContact:oe(le+204,re+10,10),originText:oe(le+232,re+10,8),destinationText:oe(le+232,re+150,8),origin:oe(le+240,re+10,18),destination:oe(le+240,re+150,18),weightText:oe(le+287,re+10,8),volumeText:oe(le+287,re+150,8),weight:oe(le+295,re+10,14),volume:oe(le+295,re+150,14),hblText:oe(le+322,re+10,8),packPid:oe(le+322,re+150,8),packType:oe(le+330,re+150,14),mhblText:oe(le+370,re+10,8),hbl:oe(le+330,re+10,30)});var be=e=>{const{cargo:t,packages:s}=e;if(!t)return Object(N.jsx)(x.a,{});const c=[];s.forEach(e=>{let s;s=document.createElement("canvas"),k()(s,t.hbl+"|"+e.id,{displayValue:!1});const n=s.toDataURL();c.push(n)});const n=Object(w.b)(t.branch);return Object(N.jsx)(x.a,{children:s.map((e,a)=>{var i,l,r,o,d,j,b,h;return Object(N.jsxs)(x.e,{size:{width:"102mm",height:"203mm"},children:[Object(N.jsxs)(x.g,{style:je.date,children:["Date: ",t.pickedUpDate||t.pickupDate," ",t.pickedUpTime||t.pickupTime]}),Object(N.jsx)(x.g,{style:je.hotline,children:n.phone}),Object(N.jsx)(x.g,{style:je.website,children:n.website}),Object(N.jsx)(x.g,{style:de(0),children:"  "}),Object(N.jsx)(x.b,{src:"/app/images/"+n.parent+"/"+t.branch+"/logo_client.jpg",style:je.logo}),Object(N.jsx)(x.g,{style:je.packageCountStr,children:"PACKAGES"}),Object(N.jsxs)(x.g,{style:je.packageCount,children:[a+1,"/",Object(ie.size)(s)]}),Object(N.jsx)(x.g,{style:je.cargoMode,children:t.cargoMode}),Object(N.jsx)(x.g,{style:je.deliveryType,children:t.deliveryType}),Object(N.jsx)(x.g,{style:de(50),children:"  "}),Object(N.jsx)(x.g,{style:je.from,children:"FROM:"}),Object(N.jsx)(x.g,{style:je.name,children:null===(i=t.name)||void 0===i?void 0:i.substring(0,45)}),Object(N.jsx)(x.g,{style:je.name2,children:null===(l=t.name)||void 0===l?void 0:l.substring(45)}),Object(N.jsx)(x.g,{style:je.address,children:null===(r=t.address)||void 0===r?void 0:r.substring(0,45)}),Object(N.jsx)(x.g,{style:je.address2,children:null===(o=t.address)||void 0===o?void 0:o.substring(45)}),Object(N.jsx)(x.g,{style:je.contact,children:t.contact}),Object(N.jsx)(x.g,{style:de(120),children:"  "}),Object(N.jsx)(x.g,{style:je.to,children:"TO:"}),Object(N.jsx)(x.g,{style:je.slName,children:null===(d=t.slName)||void 0===d?void 0:d.substring(0,45)}),Object(N.jsx)(x.g,{style:je.slName2,children:null===(j=t.slName)||void 0===j?void 0:j.substring(45)}),Object(N.jsx)(x.g,{style:je.slAddress,children:null===(b=t.slAddress)||void 0===b?void 0:b.substring(0,45)}),Object(N.jsx)(x.g,{style:je.slAddress2,children:null===(h=t.slAddress)||void 0===h?void 0:h.substring(45)}),Object(N.jsx)(x.g,{style:je.slContact,children:t.slContact}),Object(N.jsx)(x.g,{style:de(200),children:"  "}),Object(N.jsx)(x.g,{style:je.originText,children:"ORIGIN:"}),Object(N.jsx)(x.g,{style:je.origin,children:"DOH"}),Object(N.jsx)(x.g,{style:je.destinationText,children:"DESTINATION:"}),Object(N.jsx)(x.g,{style:je.destination,children:"CMB"}),Object(N.jsx)(x.g,{style:de(260),children:"  "}),Object(N.jsx)(x.g,{style:je.weightText,children:"WEIGHT:"}),Object(N.jsx)(x.g,{style:je.weight,children:e.weight||"-"}),Object(N.jsx)(x.g,{style:je.volumeText,children:"VOLUME:"}),Object(N.jsx)(x.g,{style:je.volume,children:Object(v.f)(e)}),Object(N.jsx)(x.g,{style:de(295),children:"  "}),Object(N.jsx)(x.g,{style:je.hblText,children:"HBL:"}),Object(N.jsx)(x.g,{style:je.hbl,children:t.hbl}),Object(N.jsxs)(x.g,{style:je.packPid,children:["PID: ",e.id]}),Object(N.jsx)(x.g,{style:je.packType,children:e.type}),Object(N.jsx)(x.g,{style:je.mhblText,children:"MHBL:"}),Object(N.jsx)(x.g,{style:de(410),children:"  "}),Object(N.jsx)(x.b,{src:c[a],style:je.barcode})]})})})};s(1209);const he=["MEMBERSHIP","CR","BAR"];t.default=e=>{var t,s,c,o,j,y;const{enqueueSnackbar:m}=Object(O.b)(),v=(null===(t=e.match)||void 0===t||null===(s=t.params)||void 0===s?void 0:s.id)||e.id,f=(null===(c=e.match)||void 0===c||null===(o=c.params)||void 0===o?void 0:o.branch)||e.branch,k=+((null===(j=e.match)||void 0===j||null===(y=j.params)||void 0===y?void 0:y.tab)||1)-1,w=Object(a.a)("print"),[T,A]=n.a.useState(he[k]),[M,C]=n.a.useState({}),[D,I]=n.a.useState(!1);return n.a.useEffect(()=>{I(!0),u.a.get({id:v}).then(e=>{C(e)}).catch(e=>{m("Could not fetch",{variant:"error"})}).finally(e=>I(!1))},[m,v,f]),Object(N.jsxs)(i.a,{children:[!w&&Object(N.jsx)(i.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between",style:{padding:20,marginBottom:20,background:p.a.shades.light},children:Object(N.jsxs)(i.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10},children:[Object(N.jsx)(g.a,{value:T,onChange:(e,t)=>A(t),exclusive:!0,children:Object(N.jsxs)(h.a,{value:he[0],style:T===he[0]?{background:p.a.shades.green}:{},children:[Object(N.jsx)(d.a,{}),Object(N.jsx)(l.a,{children:"\xa0 Membership"})]})}),Object(N.jsx)("div",{children:!D&&M.uuid&&Object(N.jsx)(x.c,{document:T===he[0]?Object(N.jsx)($,{all:M||{}}):T===he[1]?Object(N.jsx)(ae,{cargo:M.cargo}):Object(N.jsx)(be,{cargo:M.cargo,packages:M.packages}),fileName:T+"_"+M.uuid+"_"+M.shortName+".pdf",children:e=>{let{blob:t,url:s,loading:c,error:n}=e;return console.log("file error",n),c?"Loading...":Object(N.jsx)(r.a,{startIcon:Object(N.jsx)(b.a,{}),color:"primary",variant:"contained",size:"large",style:{marginLeft:10},children:"Print PDF"})}})})]})}),!D&&M.uuid&&Object(N.jsx)(i.a,{style:{padding:30},children:Object(N.jsx)(x.d,{width:1100,height:800,children:T===he[0]?Object(N.jsx)($,{all:M}):T===he[2]?Object(N.jsx)(be,{all:M.cargo,packages:M.packages}):Object(N.jsx)(ae,{cargo:M.cargo})})})]})}},795:function(e,t,s){"use strict";s.d(t,"a",function(){return d});var c=["","one","two","three","four","five","six","seven","eight","nine"],n=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"],a=["ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"];function i(e){return e>=1e6?i(Math.floor(e/1e6))+" million "+l(e%1e6):l(e)}function l(e){return e>=1e3?r(Math.floor(e/1e3))+" thousand "+r(e%1e3):r(e)}function r(e){return e>99?c[Math.floor(e/100)]+" hundred "+o(e%100):o(e)}function o(e){return e<10?c[e]:e>=10&&e<20?a[e-10]:n[Math.floor(e/10)]+" "+c[e%10]}function d(e){return void 0===e?"":0===e?"zero":i(e)}},878:function(e,t){},879:function(e,t){},899:function(e,t){},900:function(e,t){}}]);
//# sourceMappingURL=5.cf34ec8b.chunk.js.map