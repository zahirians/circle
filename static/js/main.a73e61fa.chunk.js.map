{"version":3,"sources":["business/services/file.service.js","business/utils/lang.js","portal/services/getContext.js","portal/helpers/adapter.js","portal/theme/palette/index.js","portal/helpers/constants.js","business/utils/number.js","business/widgets/Mini/Label.js","business/widgets/Mini/LabelChip.js","business/widgets/Mini/LabelChipButton.js","business/widgets/Mini/Text.js","business/widgets/Mini/TextAuto.js","business/widgets/Mini/Select.js","business/widgets/Mini/SelectGridless.js","business/widgets/Mini/DateTime.js","business/widgets/Mini/DateOnly.js","business/widgets/Mini/Radio.js","business/widgets/Mini/RadioButton.js","business/widgets/Mini/HoneyComb.js","business/widgets/Mini/Heading.js","business/widgets/Mini/HeadingAlt.js","business/widgets/Mini/HeadingOverlay.js","business/widgets/Mini/HeadingExpansion.js","business/widgets/Mini/MobileNumber.js","business/widgets/Mini/LinearLoader.js","business/widgets/Mini/TableButton.js","business/widgets/Mini/IconButton.js","business/widgets/Mini/ButtonGroup.js","business/widgets/Mini/DialogSelect.js","business/widgets/Mini/DialogInput.js","business/widgets/Mini/Dialog.js","business/widgets/Mini/ConfirmationFragment.js","business/widgets/Mini/Card.js","business/widgets/Mini/CardGrid.js","business/widgets/Mini/Space.js","business/widgets/Mini/Tab.js","business/widgets/Mini/Tabs.js","business/widgets/Mini/Step.js","business/widgets/Mini/MenuGroup.js","business/widgets/Mini/Slider.js","business/services/hbl.service.js","portal/services/auth.service.js","business/utils/PriceLogic.js","App.js","portal/theme/palette/palette-oga.js","portal/theme/palette/palette-oba.js","portal/assets/logo.png","portal/layouts/Main/components/Sidebar/SidebarNav.js","portal/Navs.js","portal/layouts/Main/components/Sidebar/index.js","portal/layouts/Main/components/Topbar/index.js","portal/layouts/Main/index.js","portal/layouts/Minimal/Minimal.js","portal/layouts/AuthLoader.jsx","portal/layouts/PrivateRouteWithLayout.js","portal/layouts/RouteWithLayout.js","portal/SignIn/index.js","portal/NotFound/index.js","business/services/memberVerification.service.js","portal/components/ZahiriansHeader.js","portal/UserVerification/index.js","portal/UserProfile/EditDetails.js","portal/UserProfile/SubscriptionsDonations.js","portal/UserProfile/VerificationComplete.js","portal/UserProfile/ViewDetails.js","portal/UserProfile/ViewSubscriptions.js","portal/UserProfile/ViewCardDetails.js","portal/UserProfile/index.js","business/utils/colors.js","business/views/report/Dashboard/components/Chart.js","business/views/report/Dashboard/components/Cards.js","business/services/report.service.js","business/views/report/Dashboard/components/Bar.js","business/views/report/Dashboard/main.js","business/views/report/DashboardDelivery/components/Cards.js","business/views/report/DashboardDelivery/index.js","business/views/report/DashboardDomestic/components/Cards.js","business/views/report/DashboardDomestic/index.js","business/views/report/Dashboard/index.js","business/views/report/Efficiency/components/DriverDounut.js","business/views/report/Efficiency/components/HblBar.js","business/views/report/Efficiency/components/Cards.js","business/views/report/Efficiency/components/Graphs.js","business/utils/permissions.js","business/views/report/Efficiency/index.js","business/views/report/Comparision/components/HblBarMonthly.js","business/services/driver.service.js","business/views/report/Comparision/components/Graphs.js","business/views/report/Comparision/index.js","business/views/report/Sales/components/HblBarMonthly.js","business/views/report/Sales/components/Graphs.js","business/views/report/Sales/index.js","business/views/report/CrossBranch/components/Cols.js","business/widgets/Table.js","business/views/report/CrossBranch/components/BarCount.js","business/views/report/CrossBranch/components/Table.js","business/views/report/CrossBranch/components/Graphs.js","business/views/report/CrossBranch/index.js","business/views/report/Shipment360/components/Cols.js","business/views/report/Shipment360/components/Table.js","business/views/report/Shipment360/components/Graphs.js","business/views/report/Shipment360/index.js","business/views/domestic/BulkJob/components/List.js","business/views/domestic/BulkJob/index.js","business/services/zone.service.js","business/views/hbl/AddJob/components/Add.js","business/widgets/Map/Marker.js","business/utils/keys.js","business/widgets/Map/MyGoogleMap.js","business/services/map.service.js","business/widgets/Map/index.js","business/views/hbl/AddJob/index.js","business/views/hbl/NewHbl/components/ColsPackage.js","business/views/hbl/NewHbl/components/ListPackage.js","business/utils/membershipIdGenerator.js","business/views/hbl/NewHbl/components/Add.js","business/views/hbl/NewHbl/components/AddPackage.js","business/views/hbl/ViewHbl/components/ColsPackage.js","business/views/hbl/ViewHbl/components/ListPackage.js","business/views/hbl/ViewHbl/components/ViewTab.js","business/services/subs.service.js","business/views/hbl/ViewHbl/components/ColsAudit.js","business/views/hbl/ViewHbl/components/StatusTab.js","business/views/hbl/PrintHbl/index.js","business/views/hbl/ViewHbl/components/PrintTab.js","business/views/hbl/ViewHbl/components/DocumentList.js","business/views/hbl/ViewHbl/NonDomestic.js","business/views/domestic/ViewDomesticJob/components/ColsPackage.js","business/views/domestic/ViewDomesticJob/components/ListPackage.js","business/views/domestic/ViewDomesticJob/components/ViewTab.js","business/services/complaint.service.js","business/services/audit.service.js","business/utils/statusLogic.js","business/views/domestic/ViewDomesticJob/components/ColsAudit.js","business/views/domestic/ViewDomesticJob/components/StatusTab.js","business/views/domestic/ViewDomesticJob/components/DocumentListCols.js","business/views/domestic/ViewDomesticJob/components/DocumentList.js","business/utils/json.js","business/views/domestic/ViewDomesticJob/index.js","business/views/hbl/ViewHbl/index.js","business/views/hbl/NewHbl/index.js","business/views/hbl/EditHbl/components/ColsPackage.js","business/services/package.service.js","business/views/hbl/EditHbl/components/ListPackage.js","business/views/hbl/EditHbl/components/EditCargo.js","business/views/hbl/EditHbl/components/AddPackage.js","business/views/hbl/EditHbl/components/EditPackage.js","business/views/hbl/EditHbl/index.js","business/views/hbl/SearchHbl/components/Cols.js","business/utils/strings.js","business/views/hbl/SearchHbl/components/List.js","business/views/hbl/SearchHbl/index.js","business/views/domestic/ReportHbl/components/Cols.js","business/utils/array.js","business/views/domestic/ReportHbl/components/List.js","business/services/merchant.service.js","business/views/domestic/ReportHbl/index.js","business/services/customer/customer.hbl.service.js","business/views/hbl/Status/components/Cols.js","business/views/hbl/Status/components/List.js","business/views/hbl/Status/index.js","business/views/hbl/PendingPickups/components/Cols.js","business/views/hbl/PendingPickups/components/List.js","business/views/hbl/EditJob/components/Edit.js","business/views/hbl/EditJob/index.js","business/views/hbl/PendingPickups/index.js","business/views/hbl/CashSettlements/components/Cols.js","business/views/hbl/CashSettlements/components/List.js","business/views/hbl/EditHblPayments/components/ColsPackage.js","business/views/hbl/EditHblPayments/components/ListPackage.js","business/views/hbl/EditHblPayments/components/AmountList.js","business/views/hbl/EditHblPayments/components/EditCargoPayments.js","business/views/hbl/EditHblPayments/index.js","business/views/hbl/CashSettlements/index.js","business/views/hbl/Warehouse/components/Cols.js","business/views/hbl/Warehouse/components/List.js","business/views/hbl/Warehouse/index.js","business/views/hbl/CancelledHbls/components/Cols.js","business/views/hbl/CancelledHbls/components/List.js","business/views/hbl/CancelledHbls/index.js","business/views/hbl/PrintHblAll/index.js","business/views/loading/ViewDocs/index.js","business/services/location.service.js","business/views/cool/MapTrack/components/Marker.js","business/views/cool/MapTrack/components/MyGoogleMap.js","business/views/cool/MapTrack/components/List.js","business/views/cool/MapTrack/index.js","business/views/cool/GridOverview/components/List.js","business/views/cool/GridOverview/index.js","business/views/cool/Relax/index.js","portal/Routes.js","portal/theme/typography.js","portal/theme/overrides/MuiIconButton.js","portal/theme/overrides/index.js","portal/theme/overrides/MuiButton.js","portal/theme/overrides/MuiPaper.js","portal/theme/overrides/MuiTableCell.js","portal/theme/overrides/MuiTableHead.js","portal/theme/overrides/MuiTypography.js","portal/theme/overrides/MuiDialogTitle.js","portal/theme/overrides/MUIDataTableBodyCell.js","portal/theme/overrides/MUIDataTableHeadCell.js","portal/theme/overrides/MUIDataTableToolbar.js","portal/theme/overrides/MUITable.js","portal/theme/overrides/MUIDataTableFilterList.js","portal/theme/overrides/MUIDataTable.js","portal/theme/overrides/MuiLink.js","portal/theme/index.js","index.js","business/utils/audit.js","polyfill.js","business/services/members.service.js","portal/services/fs.service.js","business/utils/removeOverlayIframe.js","portal/services/client.service.js","portal/services/firebaseAuth.service.js","portal/helpers/commonHandler.js"],"names":["getAll","async","entity","id","_ref","GET","concat","clientX","branch","download","GET_FILE","deleteFile","DELETE","upload","file","entityRef","notes","data","FormData","append","username","FILE","translations","TURKISH","CHINESE","langs","ENGLISH","lang","t","str","resourceUrl","e","console","log","Error","path","query","jwt","cookieValue","document","cookie","response","fetch","getContext","method","headers","handleResponse","POST","body","JSON","stringify","pair","entries","value","options","userType","userTypes","viewer","maker","editor","PUT","key","all","split","filter","row","startsWith","map","c","length","type","oba","types","pickup","pickup_customer","delivery","domestic","driver","customer","user","userRoles","admin","superadmin","twoDecimal","num","Math","round","oneDecimal","thousandSeparator","x","toString","replace","volume","i","breadth","height","quantity","volumeInMeterCube","volumeTotal","arr","reduce","n","weightTotal","weight","quantityTotal","grandTotal","amount","costType","UI","props","size","label","_jsxs","Grid","item","md","xs","children","_jsx","Typography","variant","styles","chip","marginRight","backgroundColor","palette","primary","main","color","text","paddingLeft","paddingRight","_Fragment","style","Chip","useStyles","makeStyles","theme","textField","fontSize","padding","minHeight","breakpoints","down","name","onChange","onBlur","Icon","disabled","helperText","onKeyDown","autoFocus","error","classes","sm","TextField","className","fullWidth","placeholder","InputProps","startAdornment","InputAdornment","position","shades","light","auto","loading","Autocomplete","freeSolo","disableClearable","option","a","target","renderInput","params","_objectSpread","values","valueObjects","_style","select","MenuItem","margin","minWidth","marginTop","KeyboardDateTimePicker","autoOk","inputVariant","showTodayButton","format","date","moment","isMobile","val","match","isMoment","inputValue","formattedInput","includes","substring","parts","storageValue","isValid","root","checked","valueLabels","pullRight","container","paddingTop","justify","FormLabel","component","RadioGroup","undefined","FormControlLabel","control","Radio","get","paddingBottom","justifyContent","ButtonGroup","orientation","Button","borderColor","startIcon","CheckCircle","RadioButtonUnchecked","onClick","j","parentTitle","childTitle","subtitle","Link","href","title","overlayHeader","contrastText","boxShadow","overlayTitle","flexGrow","onClose","Toolbar","IconButton","edge","Close","display","width","background","ExpansionPanelSummary","expandIcon","ExpandMore","mobileField","cleanValue","React","useMemo","inputProps","autoComplete","inputMode","lg","xl","LinearProgress","icon","Tooltip","tooltip","SplitButton","onClicks","open","setOpen","useState","anchorRef","useRef","selectedIndex","setSelectedIndex","handleClose","event","current","contains","direction","alignContent","alignItems","ref","handleClick","handleToggle","prevOpen","ArrowDropDownIcon","Popper","anchorEl","role","transition","disablePortal","zIndex","TransitionProps","placement","Grow","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","index","selected","handleMenuItemClick","_setOverlayDetail","_setProps","useDialogSelect","confirm","overlayDetail","setOverlayDetail","setProps","assigneeList","callback","assigned","setAssigned","Dialog","maxWidth","fullScreen","scroll","PerfectScrollbar","DialogContent","HeadingOverlay","marginBottom","Select","useDialogInput","buttonText","Text","keyCode","marginLeft","content","detail","okay","fontWeight","letterSpacing","lineHeight","message","ok","cursor","StyledBadge","withStyles","badge","top","left","borderRadius","animation","border","transform","opacity","Badge","Skeleton","Card","CardHeader","gutterBottom","isActive","overlap","anchorOrigin","vertical","horizontal","labelRight","CardContent","CountUp","end","RemoveRedEye","address","ArrowForward","slAddress","createStyles","textTransform","typography","fontWeightRegular","pxToRem","spacing","Tab","disableRipple","indicator","overflow","Tabs","TabIndicatorProps","items","Stepper","Step","active","StepLabel","StepContent","marks","s","Array","mask","isOffTrackingHours","clicked","DiscreteSliderLabel","trackStartHour","trackEndHour","setTrackSelectedHour","shiftStart","shiftEnd","Slider","getAriaValueText","v","min","step","max","momentFormat","r","addDomesticJob","obj","amountSystem","paid","cargo","amountSpec","pickupDate","pickupDateTime","pickupTime","createdDate","createdTime","auth","packages","p","audit","getPendingDomestic","startDate","endDate","fetched","start","getPendingPickups","_ref2","getCashSettlements","_ref4","getWarehouse","_ref5","getWarehouseDelivery","_clientX$deliveryType","hasLoadingId","_ref6","deliveryType","getWarehouseBonded","shortLoaded","_ref8","getAllHbl","_ref9","getAllHblLike","like","getForReports","_ref0","getCargoStatus","addHbl","pickedUpDate","pickedUpDateTime","pickedUpTime","pickedDateTime","editHbl","overrides","auditType","editJob","pickupArea","addJob","payload","priority","floor","duration","diff","asSeconds","getCargo","getCargoByHbl","getCargos","ids","Promise","getCargosByHbl","hbls","deleteCargo","undoDeleteCargo","assignCargo","driverId","ifFetched","retryCargo","retryDomestic","assignCargoPriority","assignCargoWarehouse","pickupWarehouseZone","assignDeliveryRoute","deliveryRoute","assignCustomCleared","assignCustomClearedAndCompleted","markAsShortLoading","markAsShortLoadingFixed","receiveCashCargo","cashedBy","cashedDate","cashedTime","revertCashCargo","getDeletedCargo","_ref3","getLoadedCargos","getDispatchedCargo","getDispatchedCargoAll","_ref7","aborter","AbortController","client","setUserGlobal","u","getUserGlobal","k","_data$client","clientY","parse","localStorage","getItem","_unused","fakeLogin","url","allParams1","allParams2","setItem","login","result","getConfig","then","logout","removeItem","getAuth","require","signOut","firebaseError","getAuthedUser","fetchError","doMath","expression","exp","tokens","coreMath","doLogic","condition","valueIf","valueNot","conditionValue","calculatePrice","cargoMode","warehouseLocation","boxSize","directPrices","clientP","indirectPrices","forEach","push","editable","addons","priceBasedOnBranch","vol","clientF","vat","boxCharge","priceDecode","printPriceBreakdown","_obj$find","_obj$find2","_obj$find3","destiCharges","find","hblCharge","hblVat","frieghtCharges","success","warning","info","App","Component","render","_window$location$href","this","notistackRef","createRef","onClickDismiss","closeSnackbar","window","location","CssBaseline","ThemeProvider","SnackbarProvider","maxSnack","autoHideDuration","action","ClearIcon","variantSuccess","variantError","variantWarning","variantInfo","DialogSelect","DialogInput","DialogProvider","MuiPickersUtilsProvider","utils","MomentUtils","BrowserRouter","basename","process","REACT_APP_BASE_URL","Routes","white","black","transparent","tableHeader","default","dark","colors","indigo","alpha","bg","green","red","greenRgb","secondary","blue","orange","blueGrey","link","paper","sidebar","activeColor","activeTab","divider","grey","table","hover","dashboard","button","fontWeightMedium","whiteSpace","collapsecomp","float","right","CustomRouterLink","forwardRef","RouterLink","SidebarNav","pages","branchType","rest","_objectWithoutProperties","_excluded","badgeValues","fullCollapse","setFullCollapse","collapse","setCollapse","tmp","forceUpdate","useReducer","handleCollapse","constructItem","page","ListItem","disableGutters","isCollapsible","subMenuList","ExpandLess","activeClassName","to","textAlign","List","clsx","Fragment","Collapse","in","timeout","unmountOnExit","disablePadding","subMenu","idx","menu","Dashboard","QueuePlayNext","Edit","Widgets","AttachMoney","LocationCity","Assessment","Timeline","drawer","backgroundImage","transitions","create","easing","sharp","enteringScreen","drawerMobile","up","drawerClose","overflowX","leavingScreen","flexDirection","logoWrapper","logo","hidden","Sidebar","onDrawerOpen","onSignOut","isDesktop","SwipeableDrawer","anchor","onOpen","src","alt","NavItems","Fade","Divider","InputIcon","toolbar","titleWrapper","userSelect","fontFamily","signOutButton","MuiSvgIcon","input","Topbar","desktopLeftPadding","shiftContent","childContainer","footerContainer","backdrop","Main","enqueueSnackbar","useSnackbar","useTheme","useMediaQuery","defaultMatches","branches","openSidebar","setOpenSidebar","setBackdrop","branchData","useEffect","isDriverApp","shouldOpenSidebar","childrenWithProps","Children","child","cloneElement","Backdrop","CircularProgress","handleSidebarClose","handleSidebarOpen","AuthService","Android","mwLogout","overflowY","Minimal","AuthLoader","ErrorIcon","PrivateRouteWithLayout","layout","Layout","setUser","sessionStorage","testUser","uid","email","displayName","emailVerified","onAuthStateChanged","Route","matchProps","Redirect","RouteWithLayout","card","flagStripes","redStripe","flex","whiteStripe","blueStripe","title1","title2","title3","buttonContainer","gap","googleButton","emailButton","emailInput","errorText","testButton","withRouter","setEmail","showEmailInput","setShowEmailInput","linkSent","setLinkSent","setLoading","setError","isSignInWithEmailLink","emailForSignIn","handleEmailLinkSignIn","unsubscribe","loginType","history","signInWithEmailLink","handleEmailLogin","sendSignInLinkToEmail","onKeyPress","signInWithGoogle","Date","now","signInAnonymously","authError","setTimeout","image","NotFound","VERIFICATION_COLLECTION","generateToken","random","findMemberByContact","phone","db","getDb","membersRef","collection","queries","where","q","snapshot","getDocs","empty","member","docs","token","expiresAt","LINK_EXPIRY_HOURS","origin","verificationRef","doc","setDoc","memberId","createdAt","contact","memberName","sendSecureLinkEmail","fullName","shortName","verificationDoc","getDoc","exists","toDate","deleteDoc","sessionToken","sessionExpiresAt","sessionRef","verificationsRef","headerContainer","borderBottom","borderImage","headerContent","leftSection","objectFit","titleSection","mainTitle","collegeText","rightSection","memberInfo","logoutButton","testModeBadge","ZahiriansHeader","onLogout","showLogout","isTestMode","ExitToApp","_theme$palette$succes","_theme$palette$succes2","backgroundSize","backgroundPosition","successMessage","linkBox","wordBreak","linkText","textDecoration","linkToken","URLSearchParams","search","verificationLink","setVerificationLink","handleVerifyLink","VerificationService","handleSendLink","LinearLoader","Email","Send","buttonGroup","EditDetails","_clientX2","_clientX3","_clientX4","memberData","onNext","onDataUpdate","saving","setSaving","details","setDetails","hasChanges","setHasChanges","originalDetails","setOriginalDetails","errors","setErrors","_clientX","parseDate","dateValue","subtract","memberDataFormatted","dateOfBirth","memberSince","startOf","newDetails","changed","newErrors","ExpansionPanel","defaultExpanded","HeadingExpansion","ExpansionPanelDetails","nic","memberCode","RadioButton","gender","DateOnly","MobileNumber","countryCode","countryCodeConsignee","contactAlt","note","batchOl","batchAl","yearOfAdmission","yearOfLeaving","indexNumber","achievements","postionsHeld","workPlace","designation","TextAuto","workCategory","workNote","endIcon","validateFields","trim","Object","keys","formatDate","updateData","obaNote","Service","updateSelf","sectionTitle","sectionDescription","amountCard","amountLabel","amountValue","amountSubtext","cardDetailsSection","cardPreviewContainer","cardPreview","cardPreviewDesign","cardIcon","cardLabel","cardMemberId","cardName","cardNamePlaceholder","fontStyle","SubscriptionsDonations","_memberData$cardDetai","onBack","ANNUAL_AMOUNT","paymentMethod","setPaymentMethod","nameOnCard","setNameOnCard","cardDetails","toLocaleString","CreditCard","verticalAlign","toUpperCase","ArrowBack","subscriptionAmount","subscriptionType","subscriptionDate","toISOString","updatedAt","successIcon","VerificationComplete","onComplete","ViewDetails","Label","infoCard","ViewSubscriptions","Payment","toLocaleDateString","cardNumber","stepper","stepIconRoot","stepIcon","stepIconSvg","CustomStepIcon","completed","IconComponent","stepNumber","Visibility","setMemberId","setMemberData","activeStep","setActiveStep","isFirstTime","setIsFirstTime","testMode","loadMember","memberIdToLoad","memberWithId","hasSubscriptions","hasCardDetails","members","isArray","testMember","mockMember","nameWithInitials","mobile","catch","handleNext","prev","handleBack","handleDataUpdate","updatedData","steps","alternativeLabel","StepIconComponent","StepIconProps","renderStepContent","pastels","setData","cards","People","driverPicked","AssignmentTurnedIn","notPicked","HourglassFull","totalPicked","Receipt","join","quarter","timeFrames","setChanged","searchFields","setSearchFields","timeFrame","jobs","directHbl","notAssigned","cashed","notCashed","elevation","Heading","onChangeTime","Cards","totalJobs","Motorcycle","doorDelivered","jobAssignedNotDelivered","jobNotAssigned","upbDelivered","finally","DashboardDomestic","Delivery","Pickup","legend","labels","datasets","alls","orderBy","borderWidth","Doughnut","scales","yAxes","ticks","stepSize","beginAtZero","scaleLabel","labelString","xAxes","Bar","acc","LocalShipping","DriverDounut","HblBar","Graphs","HblBarMonthly","BubbleChart","timeQuarter","keyValue","count","reverse","TrendingUp","customHeadRender","columnMeta","updateDirection","viewColumns","sort","customBodyRender","meta","rowData","setCellProps","align","createMuiTheme","MuiTableCell","MUIDataTableHeadCell","MuiIconButton","MuiButton","MuiCheckbox","MuiChip","columns","minified","customToolbar","onRowClick","noSearch","noPagination","noDownload","setCellHeaderProps","responsive","tableBodyHeight","selectableRows","textLabels","noMatch","downloadOptions","filename","setRowProps","fixedHeader","print","filterType","serverSide","pagination","enableNestedDataAccess","rowsPerPage","MUIDataTable","rawDetails","level1","level2","paramter","level","secondaryValues","stack","plugins","interaction","mode","intersect","stacked","y","levels","setRawDetails","setLevel1","setLevel2","rows","level1GroupedArray","groupBy","level1Rows","toLowerCase","currency","level1Row","level1Single","level2GroupedArray","level2Rows","Table","BarCount","rowIndex","rawDetails2","setRawDetails2","l","shipmentLoaded","reached","shipmentReached","countPending","countLoaded","countReached","volumePending","volumeLoaded","volumeReached","weightPending","weightLoaded","weightReached","Wrapper","styled","div","_templateObject","_taggedTemplateLiteral","Marker","defaultProps","MAP_KEY","setPackages","setOverlayType","dialog","useDialog","packagePricing","columnsWithActions","remove","DeleteForever","generateMembershipId","sequence","genderCode","year","olYear","parseInt","isNaN","getFullYear","sequenceStr","padStart","setCargoRedundantData","init","obaType","uuid","slice","setAmount","setAmountSystem","setPaid","membershipId","setMembershipId","addressParts","setAddressParts","addressKeys","addressBreakdown","onAddAfterMax","getMax","onAdd","finalMembershipId","getNextSequence","String","fromCharCode","education","onClear","generateId","PersonOutline","Add","ListPackage","Create","ConfirmationFragment","eduType","completionYear","eduCategory","category","course","institution","remarks","price","newPack","totals","setTotals","_details$cargo","qidLabel","batch","positionHeld","collectionName","GETbyId","startAt","endAt","_details$fullName","newSubDetails","setNewSubDetails","subs","setSubs","loading2","setLoading2","ServiceSubs","forNote","SuspenseUI","lazy","Suspense","fallback","PrintHbl","tab","setTab","indicatorColor","textColor","newVal","centered","wrapped","PieChartIcon","VerifiedUser","Print","ViewTab","StatusTab","PrintTab","LabelChip","_details$cargo2","_details$cargo3","_details$cargo4","_details$cargo5","_details$cargo6","_details$cargo7","_details$cargo8","_details$cargo9","_details$cargo0","_details$cargo1","_details$cargo10","_details$cargo11","_details$cargo12","_details$cargo13","_details$cargo14","slName","slContact","slLocation","slPpNo","getStatus","loadingId","dispatcherId","deleted","cargoDetails","setCargoDetails","driverDetails","setDriverDetails","complaintDetails","setComplaintDetails","auditDetails","setAuditDetails","status","setStatus","ServiceDriver","ServiceComplaint","ServiceAudit","deliveredDate","deliveredTime","dispatchedId","Warning","hbl","subject","setFile","TableButton","GetApp","downloadUrl","URL","createObjectURL","createElement","appendChild","click","borderRight","DropzoneArea","files","filesLimit","getPreviewIcon","Description","maxFileSize","tryJsonParse","defaultVal","onTab","DocumentList","NonDomestic","Domestic","overlayType","cargoRedundantData","AddHbl","ViewHbl","AddPackage","cargoId","description","ppNo","qid","onChangeFloat","packageType","HoneyComb","EditCargo","EditPackage","time","newRows","_id","onDelete","Pageview","txt","getStatusAlpha","textShadow","totalOfColumn","tot","filterByKey","filters","onlyUnique","self","indexOf","filteredRows","setFilteredRows","onFilterChange","merchant","detailsCallbackIssue","newRows1","setAssigneeList","ServiceMerchant","DateRange","add","clientC","changedHbl","ServiceCusApi","destination","setChangedHbl","Search","alignSelf","dialogSelect","dialogInput","setChecked","setFilters","onAssign","CopyCheckedForRenderIssue","onClone","counter","setInterval","thisCounter","clearInterval","isDomestic","FileCopy","newFilters","Checkbox","SelectGridless","driverName","memo","ServiceZone","DateTime","EditJob","adjustedRows","totalVolume","totalWeight","issue","newRows2","newRows3","newRows4","generateTotals","cash","onCashReceived","allDrivers","thisId","Set","LocalAtm","showActions","newAmount","_rows$cargo","AmountList","EditCargoPayments","EditHblPayments","_row$amount","amountRaw","_twoDecimal","TOTAL","SUM","RestoreFromTrash","DeleteSweep","_obj$startDate","order","total","coordinates","zoom","state","setState","mapApiLoaded","mapInstance","mapApi","geoCoder","places","center","lat","lng","draggable","GoogleMapReact","onChildClick","bootstrapURLKeys","libraries","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","maps","apiHasLoaded","pathSets","thisSets","timestamp","segment","set","Polyline","geodesic","strokeColor","strokeOpacity","strokeWeight","setMap","side","arrSet","expectedDate","arrAll","dy","dx","tan22","tan67","ratio","abs","dateTime","trackSelectedHour","setZoom","setCoordinates","setPath","_searchFields$startDa","hasOwnProperty","makeArray","cords","less","MyGoogleMap","_assigneeListRaw$find","_assigneeListRaw$find2","assigneeListRaw","setAssigneeListRaw","TrackChanges","d1","setD1","d2","setD2","d3","setD3","d4","setD4","packObjs","forOwn","packs","HeadingAlt","borderLeft","CardGrid","ViewCompact","quotes","rand","quote","AllRoute","Switch","exact","from","MainLayout","Efficiency","Comparision","Sales","CrossBranch","Shipment360","NewHbl","EditHbl","SearchHbl","ReportHbl","GridOverview","Status","PendingPickups","CashSettlements","Warehouse","CancelledHbls","MinimalLayout","PrintHblAll","ViewDocs","MapTrack","Relax","SignIn","UserVerification","UserProfile","NotFoundView","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","overline","contained","MuiPaper","elevation1","elevation4","MuiTableHead","MuiTypography","MuiDialogTitle","MUIDataTableBodyCell","MUIDataTableToolbar","maxHeight","iconActive","MUITable","MUIDataTableFilterList","responsiveScrollFullHeight","responsiveScrollMaxHeight","responsiveScroll","MuiLink","MuiExpansionPanelSummary","MuiStepper","borderTopWidth","MuiFilledInput","MuiFormHelperText","MuiInputBase","MuiInputLabel","MuiListItem","dense","MuiOutlinedInput","MuiFab","MuiTable","MuiTextField","MuiToolbar","appBar","ReactDOM","getElementById","pre","env","REACT_APP_OLD_TYPE","NODE_ENV","getMembersByBatch","GET_AGG","updatePassword","resetPassword","resolve","mockId","update","updateSettings","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","firebase","initializeApp","getFirestore","res","_len","arguments","_key","coll","getCountFromServer","object","addDoc","removeOverlayIframes","querySelectorAll","iframe","getComputedStyle","innerWidth","innerHeight","warn","initObserver","observer","MutationObserver","observe","childList","subtree","readyState","addEventListener","perms","prices","customerData","feData","qatar","parent","website","barcode","qrcode","clientZ","b","getBranchDetails","resp","d","backupEmail","userData","pr","priceData","cusData","provider","GoogleAuthProvider","setCustomParameters","prompt","signInWithPopup","actionCodeSettings","encodeURIComponent","handleCodeInApp","emailLink","fs","isBlob","blob","responseType"],"mappings":"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","file":"static/js/main.a73e61fa.chunk.js","sourcesContent":["import { GET_FILE, GET, FILE, DELETE } from 'portal/helpers/adapter';\r\nimport { clientX } from 'portal/services/client.service';\r\n\r\nconst getAll = async({ entity, id }) => {\r\n\treturn GET(`/v1/document/get-docs-per-entity?branch=${clientX().branch}&entityId=${id}&entity=${entity}`)\r\n}\r\n\r\nconst download = async(id) => {\r\n\treturn GET_FILE(`/v1/document/download/${id}`)\r\n}\r\n\r\nconst deleteFile = async(id) => {\r\n\treturn DELETE(`/v1/document/delete/${id}`)\r\n}\r\n\r\nconst upload = async(file, id, entity, entityRef, notes) => {\r\n    const data = new FormData();\r\n    data.append('entity', entity);\r\n    data.append('entityId', id);\r\n    data.append('entityRef', entityRef);\r\n    data.append('notes', notes);\r\n    data.append('auth', clientX().username);\r\n    data.append('branch', clientX().branch);\r\n    data.append('file', file);\r\n    return FILE('/v1/document/upload', data)\r\n}\r\n\r\nexport default {\r\n    getAll,\r\n    download,\r\n    deleteFile,\r\n    upload,\r\n}\r\n","import { clientX } from 'portal/services/client.service';\r\n\r\nconst TURKISH = {\r\n    'Welcome, ': 'Ho geldin, ',\r\n    'Dashboard': 'Gsterge Paneli',\r\n    'Pickup': 'Toplamak',\r\n    'Add Job': ' Ekle',\r\n    'Pending Jobs': 'Bekleyen ler',\r\n    'Pickup Ordering': 'Teslim Alma Siparii',\r\n    'Job Exceptions': ' stisnalar',\r\n    'HBL': 'HBL',\r\n    'New HBL': 'Yeni HBL',\r\n    'Search/Edit': 'Ara/Dzenle',\r\n    'Cancelled HBLs': 'ptal edilen HBLs',\r\n    'Complaints': 'ikayetler',\r\n    'Cargo Status': 'Kargo Durumu',\r\n    'Office': 'Ofis',\r\n    'Cash Settlement': 'Nakit Uzlama',\r\n    'Payment Summary': 'deme zeti',\r\n    'Warehouse': 'Depo',\r\n    'Loading': 'Ykleniyor',\r\n    'Loading Point': 'Ykleme Noktas',\r\n    'Manual Loading': 'Manuel Ykleme',\r\n    'Loaded Shipments': 'Yklenen Gnderiler',\r\n    'Arrivals': 'Geli',\r\n    'Short Loadings': 'Ksa Yklemeler',\r\n    'Reports': 'Raporlar',\r\n    'Progress/Efficiency': 'lerleme/Verimlilik',\r\n    'Comparison Analysis': 'Karlatrma Analizi',\r\n    'Admin': 'ynetici',\r\n    'Driver Management': 'Src Ynetimi',\r\n    'Driver Tracking': 'Src Takibi',\r\n    'User Management': 'Kullanc ynetimi',\r\n    'Customer Management': 'Mteri ynetimi',\r\n    'User Login Info': 'Kullanc Giri Bilgileri',\r\n    'Settings': 'Ayarlar',\r\n    'Support': 'Destek',\r\n}\r\n\r\nconst CHINESE = {\r\n    'Welcome, ': 'Hunyng, ',\r\n    'Dashboard': 'Ybio bn',\r\n    'Pickup': 'Jin q',\r\n    'Add Job': 'Tinji gngzu',\r\n    'Pending Jobs': 'Di chl de gngzu',\r\n    'Pickup Ordering': 'Q hu dnggu',\r\n    'Job Exceptions': 'Gngzu lwi',\r\n    'HBL': 'HBL',\r\n    'New HBL': 'Xn HBL',\r\n    'Search/Edit': 'Susu/binj',\r\n    'Cancelled HBLs': 'Qxio de HBL',\r\n    'Complaints': 'Tus',\r\n    'Cargo Status': 'Huw zhungti',\r\n    'Office': 'Bngngsh',\r\n    'Cash Settlement': 'Xinjn jisun',\r\n    'Payment Summary': 'Fkun zhiyo',\r\n    'Warehouse': 'Cngk',\r\n    'Loading': 'Zhngzi jizi',\r\n    'Loading Point': 'Zhung hu din',\r\n    'Manual Loading': 'Shudng jizi',\r\n    'Loaded Shipments': 'Y zhung hu',\r\n    'Arrivals': 'Dod',\r\n    'Short Loadings': 'Dod',\r\n    'Reports': 'Dun fh',\r\n    'Progress/Efficiency': 'Bogo',\r\n    'Comparison Analysis': 'Jnd/xiol',\r\n    'Admin': 'Bjio fnx',\r\n    'Driver Management': 'Xngzhng',\r\n    'Driver Tracking': 'Sj gunl',\r\n    'User Management': 'Sj zhuzng',\r\n    'Customer Management': 'Yngh gunl',\r\n    'User Login Info': 'Yngh gunl',\r\n    'Settings': 'Yngh dngl xnx',\r\n    'Support': 'Shzh',\r\n}\r\n\r\nconst translations = {\r\n    TURKISH, CHINESE,\r\n}\r\n\r\nexport const langs = {\r\n    ENGLISH: 'ENGLISH',\r\n    TURKISH: 'TURKISH',\r\n    CHINESE: 'CHINESE',\r\n}\r\n\r\nlet lang = ''\r\nexport const t = (str) => {\r\n    if (!lang) {\r\n        if (!clientX().lang) return str;\r\n        lang = clientX().lang;\r\n    }\r\n    if (lang === langs.ENGLISH) return str;\r\n    return translations[lang][str] || str\r\n}\r\n","export default function() {\r\n\ttry {\r\n\t\tif(process.env.NODE_ENV === \"production\" ){\r\n\t\t\treturn {\r\n\t\t\t\tresourceUrl: '',\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\treturn {\r\n\t\t\t\tresourceUrl: process.env.REACT_APP_BASE_URL + \"/api\",\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\tcatch(e) {\r\n\t\tconsole.log(e);\r\n\t\tthrow new Error(\"MISSING VALUES\")\r\n\t}\r\n}\r\n","import getContext from 'portal/services/getContext';\r\nimport handleResponse from 'portal/helpers/commonHandler';\r\nimport { clientX } from 'portal/services/client.service';\r\nimport { userRoles as userTypes } from 'portal/helpers/constants';\r\n\r\nexport const GET_FILE = async(path, query) => {\r\n    const jwt = cookieValue(document.cookie, 'api')\r\n\ttry {\r\n        let response = await fetch(`${getContext().resourceUrl}${path}`, {\r\n            method: \"GET\",\r\n            headers: {\r\n                'Authorization': 'Bearer ' + jwt ,\r\n            }\r\n\t\t})\r\n\t\tlet result = handleResponse(response, true);\r\n        return result;\r\n    } catch (e) {\r\n        throw e;\r\n    }\r\n}\r\n\r\nexport const GET = async(path, query) => {\r\n    const jwt = cookieValue(document.cookie, 'api')\r\n\ttry {\r\n        let response = await fetch(`${getContext().resourceUrl}${path}`, {\r\n            method: \"GET\",\r\n            headers: {\r\n                'Authorization': 'Bearer ' + jwt ,\r\n            }\r\n\t\t})\r\n\t\tlet result = handleResponse(response);\r\n        return result;\r\n    } catch (e) {\r\n        throw e;\r\n    }\r\n}\r\n\r\nexport const POST = async(path, body) => {\r\n    const jwt = cookieValue(document.cookie, 'api')\r\n\ttry {\r\n        let response = await fetch( `${getContext().resourceUrl}${path}`, {\r\n\t\t\tmethod: \"POST\",\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n                'accept': 'application/json;charset=UTF-8',\r\n                'Content-type': 'application/json',\r\n                'Authorization': 'Bearer ' + jwt ,\r\n            }\r\n\t\t})\r\n\t\tlet result = handleResponse(response);\r\n        return result;\r\n    } catch (e) {\r\n        throw e;\r\n    }\r\n}\r\n\r\nexport const FILE = async(path, body) => {\r\n    const jwt = cookieValue(document.cookie, 'api')\r\n    for (var pair of body.entries()) {\r\n        console.log(pair[0] + \" - \" + pair[1]);\r\n        console.log(pair[1].value);\r\n        console.log(pair[1].options);\r\n    }\r\n    // debugger\r\n\ttry {\r\n        let response = await fetch( `${getContext().resourceUrl}${path}`, {\r\n\t\t\tmethod: \"POST\",\r\n            body,\r\n            headers: {\r\n                // 'accept': 'application/json;charset=UTF-8',\r\n                // 'content-type': undefined,\r\n                'Authorization': 'Bearer ' + jwt ,\r\n            }\r\n\t\t})\r\n\t\tlet result = handleResponse(response);\r\n        return result;\r\n    } catch (e) {\r\n        throw e;\r\n    }\r\n}\r\n\r\nexport const DELETE = async(path, body) => {\r\n    if (clientX().userType === userTypes.viewer || clientX().userType === userTypes.maker || clientX().userType === userTypes.editor)\r\n        throw new Error('You are not authorized to Edit/Delete')\r\n\r\n    const jwt = cookieValue(document.cookie, 'api')\r\n\ttry {\r\n        let response = await fetch( `${getContext().resourceUrl}${path}`, {\r\n            method: \"DELETE\",\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n                'accept': 'application/json;charset=UTF-8',\r\n                'Content-type': 'application/json',\r\n                'Authorization': 'Bearer ' + jwt ,\r\n            }\r\n\t\t})\r\n\t\tlet result = handleResponse(response);\r\n        return result;\r\n    } catch (e) {\r\n        throw e;\r\n    }\r\n}\r\n\r\nexport const PUT = async(path, body) => {\r\n    const jwt = cookieValue(document.cookie, 'api')\r\n\ttry {\r\n        let response = await fetch( `${getContext().resourceUrl}${path}`, {\r\n\t\t\tmethod: \"PUT\",\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n                'accept': 'application/json;charset=UTF-8',\r\n                'Content-type': 'application/json',\r\n                'Authorization': 'Bearer ' + jwt ,\r\n            }\r\n\t\t})\r\n\t\tlet result = handleResponse(response);\r\n        return result;\r\n    } catch (e) {\r\n        throw e;\r\n    }\r\n}\r\n\r\nexport const enc = (val, key) => val ? `&${key}=${val}` : '';\r\n\r\nconst cookieValue = (cookie, key) => {\r\n    // debugger\r\n    if (!cookie) return ''\r\n    const all = cookie.split('; ').filter(row => row.startsWith(key)).map(c => c.split('=')[1]).filter(c => c)\r\n    if (all.length > 0)\r\n        return all[all.length - 1]\r\n    else return ''\r\n}\r\n","import oga from './palette-oga';\nimport oba from './palette-oba';\n\nconst type = (typeof process !== 'undefined' && process.env.REACT_APP_OLD_TYPE) || 'OBA';\nexport default (type === 'OGA') ? oga : oba;","export const types = {\r\n    pickup: 'pickup',\r\n    pickup_customer: 'pickup_customer',\r\n    delivery: 'delivery',\r\n    domestic: 'domestic'\r\n}\r\n\r\nexport const userTypes = {\r\n    driver: 'driver',\r\n    customer: 'customer',\r\n    user: 'user'\r\n}\r\n\r\nexport const userRoles = {\r\n    viewer: 'viewer',\r\n    maker: 'maker',\r\n    editor: 'editor',\r\n    admin: 'admin',\r\n    superadmin: 'superadmin',\r\n}\r\n","import { reduce } from \"lodash\";\r\n\r\n// this is actually 3 decimals\r\nexport const twoDecimal = num =>\r\n    Math.round(num * 1000) / 1000;\r\n\r\nexport const oneDecimal = num =>\r\n    Math.round(num * 10) / 10;\r\n\r\nexport const thousandSeparator = (x) => {\r\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n}\r\n\r\nexport const volume = i => {\r\n    const { length, breadth, height, quantity } = i || {}\r\n    return twoDecimal((length * breadth * height * (quantity || 1)) / 1000000);\r\n}\r\n\r\nexport const volumeInMeterCube = i => {\r\n    const { volume } = i || {}\r\n    return twoDecimal(+volume / 1000000);\r\n}\r\n\r\nexport const volumeTotal = arr => {\r\n    return twoDecimal(reduce(arr, (t, n) => t + volume(n), 0));\r\n}\r\n\r\nexport const weightTotal = arr => {\r\n    return oneDecimal(reduce(arr, (t, n) => t + n.weight, 0));\r\n}\r\n\r\nexport const quantityTotal = arr => {\r\n    return reduce(arr, (t, n) => t + n.quantity, 0);\r\n}\r\n\r\nexport const grandTotal = amount => {\r\n    const x = reduce(amount, (t, i) => i.costType === 'DISCOUNT' ? t - +i.amount : t + +i.amount, 0)\r\n    return oneDecimal(x);\r\n}\r\n","import React from 'react';\r\nimport {\r\n    Grid, Typography \r\n} from '@material-ui/core';\r\n\r\nexport const UI = (props) => {\r\n    const { size, label, value } = props;\r\n\r\n    return (\r\n        <Grid item md={size} xs={size}>\r\n            <Typography variant=\"overline\">{label}</Typography>\r\n            <Typography variant=\"h5\">{value || '-'}</Typography>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Typography, Chip\r\n} from '@material-ui/core';\r\nimport palette from 'portal/theme/palette';\r\n\r\nconst styles = {\r\n    chip: {\r\n        marginRight: 10, backgroundColor: palette.primary.main, color: 'white'\r\n    },\r\n    text: {\r\n        paddingLeft: 10, paddingRight: 3, color: palette.primary.main\r\n    },\r\n};\r\n\r\nexport const UI = (props) => {\r\n    const { label, value, size } = props;\r\n \r\n    return (\r\n        <>\r\n            <Typography variant=\"overline\" style={styles.text}>{label}</Typography>\r\n            <Chip label={value} size={size || 'medium'} style={styles.chip}></Chip>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Typography, Chip\r\n} from '@material-ui/core';\r\nimport palette from 'portal/theme/palette';\r\n\r\nconst styles = {\r\n    chip: {\r\n        marginRight: 3, backgroundColor: palette.primary.main, color: 'white', border: '1px solid white'\r\n    },\r\n    text: {\r\n        paddingLeft: 7, paddingRight: 2\r\n    },\r\n};\r\n\r\nexport const UI = (props) => {\r\n    const { label, value, active, onClick } = props;\r\n \r\n    const _style = active\r\n        ? {display: 'flex', alignItems: 'center', justifyContent: 'center', paddingBottom: 4, paddingTop: 2, border: '1px solid ' + palette.shades.main, background: palette.shades.main}\r\n        : {display: 'flex', alignItems: 'center', justifyContent: 'center', paddingBottom: 4, paddingTop: 2, border: '1px solid ' + palette.shades.main}\r\n\r\n    return (\r\n        <span onClick={onClick} style={_style}>\r\n            <Typography variant=\"overline\" style={{...styles.text, color: active ? 'white' : palette.shades.main}}>{label}</Typography>\r\n            <Chip label={value} style={styles.chip}></Chip>\r\n        </span>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\nimport {\n    Grid, TextField \n} from '@material-ui/core';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport { makeStyles } from '@material-ui/core/styles';\nimport palette from 'portal/theme/palette';\n\nconst useStyles = makeStyles((theme) => ({\n    textField: {\n        '& .MuiOutlinedInput-root': {\n            fontSize: '1.125rem', // 18px - bigger font for better visibility\n            padding: '10px 14px',\n            minHeight: '52px',\n            [theme.breakpoints.down('sm')]: {\n                fontSize: '18px', // Bigger on mobile too\n                padding: '12px 14px',\n                minHeight: '56px',\n            },\n        },\n        '& .MuiInputLabel-outlined': {\n            fontSize: '1.125rem',\n            [theme.breakpoints.down('sm')]: {\n                fontSize: '18px',\n            },\n        },\n        '& .MuiInputBase-input': {\n            padding: '10px 14px',\n            fontSize: '1.125rem',\n            [theme.breakpoints.down('sm')]: {\n                fontSize: '18px',\n                padding: '12px 14px',\n            },\n        },\n    },\n}));\n\nexport const UI = (props) => {\n    const { size, label, name, value, onChange, onBlur, type, Icon, disabled, helperText, onKeyDown, autoFocus, error } = props;\n    const classes = useStyles();\n\n    if (Icon) \n        return (\n            <Grid item md={size} xs={12} sm={12}>\n                <TextField type={type || 'text'}\n                    className={classes.textField}\n                    variant=\"outlined\" fullWidth\n                    placeholder={label} name={name} disabled={disabled || false}\n                    error={error || false}\n                    helperText={error || helperText || ''}\n                    InputProps={{startAdornment: (\n                            <InputAdornment position=\"start\">\n                                <Icon style={{color: palette.shades.light, fontSize: '1.5rem'}} />\n                            </InputAdornment>),\n                    }}\n                    value={value || ''} onChange={onChange}>\n                </TextField>\n            </Grid>)\n    return (\n        <Grid item md={size} xs={12} sm={12}>\n            <TextField type={type || 'text'} disabled={disabled || false}\n                className={classes.textField}\n                autoFocus={autoFocus || false} \n                helperText={error || helperText || ''}\n                error={error || false}\n                variant=\"outlined\" fullWidth\n                label={label} placeholder={label} name={name}\n                value={value || ''} onChange={onChange} onBlur={onBlur} onKeyDown={onKeyDown}>\n            </TextField>\n        </Grid>\n    );\n};\n\nexport default UI;\n","import React from 'react';\nimport {\n    Grid, TextField \n} from '@material-ui/core';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n    textField: {\n        '& .MuiOutlinedInput-root': {\n            fontSize: '1.125rem', // 18px - bigger font\n            padding: '10px 14px',\n            minHeight: '52px',\n            [theme.breakpoints.down('sm')]: {\n                fontSize: '18px',\n                padding: '12px 14px',\n                minHeight: '56px',\n            },\n        },\n        '& .MuiInputLabel-outlined': {\n            fontSize: '1.125rem',\n            [theme.breakpoints.down('sm')]: {\n                fontSize: '18px',\n            },\n        },\n        '& .MuiInputBase-input': {\n            padding: '10px 14px',\n            fontSize: '1.125rem',\n            [theme.breakpoints.down('sm')]: {\n                fontSize: '18px',\n                padding: '12px 14px',\n            },\n        },\n    },\n}));\n\nexport const UI = (props) => {\n    const { size, auto, label, name, value, onChange, loading } = props;\n    const classes = useStyles();\n\n    return (\n        <Grid item md={size} xs={12} sm={12}>{loading ? <></> :\n            <Autocomplete freeSolo disableClearable\n                options={auto.map((option) => option)}\n                onChange={(e, a) => {\n                    onChange({target: { name, value: a}})\n                }}\n                renderInput={(params) => (\n                    <TextField\n                        {...params}\n                        className={classes.textField}\n                        label={label} value={value}\n                        onChange={onChange} name={name}\n                        variant=\"outlined\"\n                        InputProps={{ ...params.InputProps, type: 'search' }}\n                    />\n                )}\n            />}\n        </Grid>\n    );\n}\n\nexport default UI;\n","import React from 'react';\r\nimport {\r\n    Grid, TextField, MenuItem\r\n} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    textField: {\r\n        '& .MuiOutlinedInput-root': {\r\n            fontSize: '1.125rem', // 18px - bigger font for better visibility\r\n            padding: '10px 14px',\r\n            minHeight: '52px',\r\n            [theme.breakpoints.down('sm')]: {\r\n                fontSize: '18px',\r\n                padding: '12px 14px',\r\n                minHeight: '56px',\r\n            },\r\n        },\r\n        '& .MuiInputLabel-outlined': {\r\n            fontSize: '1.125rem',\r\n            [theme.breakpoints.down('sm')]: {\r\n                fontSize: '18px',\r\n            },\r\n        },\r\n        '& .MuiInputBase-input': {\r\n            padding: '10px 14px',\r\n            fontSize: '1.125rem',\r\n            [theme.breakpoints.down('sm')]: {\r\n                fontSize: '18px',\r\n                padding: '12px 14px',\r\n            },\r\n        },\r\n        '& .MuiSelect-select': {\r\n            padding: '10px 14px',\r\n            fontSize: '1.125rem',\r\n            [theme.breakpoints.down('sm')]: {\r\n                fontSize: '18px',\r\n                padding: '12px 14px',\r\n            },\r\n        },\r\n    },\r\n}));\r\n\r\nexport const UI = (props) => {\r\n    const { size, label, name, value, onChange, values, valueObjects, style } = props;\r\n    const classes = useStyles();\r\n    const _style = style || {};\r\n    return (\r\n        <Grid item md={size} xs={12} sm={12} style={_style}>\r\n            <TextField\r\n                className={classes.textField}\r\n                select variant=\"outlined\" fullWidth\r\n                label={label} name={name}\r\n                value={value || ''} onChange={onChange}>\r\n                    {values && values.map((type, i) => (<MenuItem key={i} value={type}>\r\n                        {type}\r\n                    </MenuItem>))}\r\n                    {valueObjects && valueObjects.map((item, i) => (<MenuItem key={i} value={item.value}>\r\n                        {item.label}\r\n                    </MenuItem>))}\r\n            </TextField>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    TextField, MenuItem\r\n} from '@material-ui/core';\r\n\r\nexport const UI = (props) => {\r\n    const { label, name, value, onChange, values, valueObjects, style } = props;\r\n    const _style = style || {};\r\n    \r\n    return (\r\n            <TextField\r\n                select variant=\"outlined\" margin=\"dense\" style={{minWidth: 160, marginTop: 0, ..._style}}\r\n                label={label || ''} name={name}\r\n                value={value || ''} onChange={onChange}>\r\n                    {valueObjects && valueObjects.map((item, i) => (<MenuItem key={i} value={item.value}>\r\n                        {item.label}\r\n                    </MenuItem>))}\r\n                    {values && values.map((type, i) => (<MenuItem key={i} value={type}>\r\n                        {type}\r\n                    </MenuItem>))}\r\n            </TextField>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Grid \r\n} from '@material-ui/core';\r\nimport { KeyboardDateTimePicker } from '@material-ui/pickers';\r\nimport moment from 'moment';\r\n\r\nexport const UI = (props) => {\r\n    const { size, label, name, value, onChange } = props;\r\n\r\n    return (\r\n        <Grid item md={size}>\r\n            <KeyboardDateTimePicker autoOk label={label} value={value}\r\n                inputVariant=\"outlined\" showTodayButton format=\"YYYY/MM/DD hh:mm a\"\r\n                onChange={date => {\r\n                    onChange({ target: { name, value: moment(date) } }); // .format('YYYY-MM-DD HH:mm')\r\n                }}\r\n            />\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\nimport { Grid, TextField } from '@material-ui/core';\nimport moment from 'moment';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n    textField: {\n        '& .MuiOutlinedInput-root': {\n            fontSize: '1.125rem', // 18px - bigger font\n            padding: '10px 14px',\n            minHeight: '52px',\n            [theme.breakpoints.down('sm')]: {\n                fontSize: '18px',\n                padding: '12px 14px',\n                minHeight: '56px',\n            },\n        },\n        '& .MuiInputLabel-outlined': {\n            fontSize: '1.125rem',\n            [theme.breakpoints.down('sm')]: {\n                fontSize: '18px',\n            },\n        },\n        '& .MuiInputBase-input': {\n            padding: '10px 14px',\n            fontSize: '1.125rem',\n            [theme.breakpoints.down('sm')]: {\n                fontSize: '18px',\n                padding: '12px 14px',\n            },\n        },\n    },\n}));\n\nexport const UI = (props) => {\n    const { size, label, name, value, onChange, isMobile, style, disabled, error, helperText } = props;\n    const classes = useStyles();\n    \n    const _style = style || {};\n    \n    // Format value for display (YYYY/MM/DD)\n    const formatValue = (val) => {\n        if (!val) return '';\n        if (typeof val === 'string') {\n            // If already in YYYY-MM-DD format, convert to YYYY/MM/DD\n            if (val.match(/^\\d{4}-\\d{2}-\\d{2}$/)) {\n                return val.replace(/-/g, '/');\n            }\n            // If already in YYYY/MM/DD format, return as is\n            if (val.match(/^\\d{4}\\/\\d{2}\\/\\d{2}$/)) {\n                return val;\n            }\n            return val;\n        }\n        if (moment.isMoment(val)) {\n            return val.format('YYYY/MM/DD');\n        }\n        return '';\n    };\n\n    // Parse input and convert to YYYY-MM-DD format for storage\n    const handleChange = (e) => {\n        let inputValue = e.target.value;\n        \n        // Remove any non-digit and non-slash characters\n        inputValue = inputValue.replace(/[^\\d/]/g, '');\n        \n        // Auto-format as user types: YYYY/MM/DD\n        let formattedInput = inputValue;\n        if (inputValue.length > 4 && !inputValue.includes('/')) {\n            // Auto-add first slash after year\n            formattedInput = inputValue.substring(0, 4) + '/' + inputValue.substring(4);\n        }\n        if (formattedInput.length > 7 && formattedInput.split('/').length === 2) {\n            // Auto-add second slash after month\n            const parts = formattedInput.split('/');\n            formattedInput = parts[0] + '/' + parts[1].substring(0, 2) + '/' + parts[1].substring(2);\n        }\n        \n        // Limit to YYYY/MM/DD format (10 characters)\n        if (formattedInput.length > 10) {\n            formattedInput = formattedInput.substring(0, 10);\n        }\n        \n        // Convert to YYYY-MM-DD format for storage when complete\n        const storageValue = formattedInput.replace(/\\//g, '-');\n        if (storageValue.match(/^\\d{4}-\\d{2}-\\d{2}$/)) {\n            // Validate date\n            const date = moment(storageValue, 'YYYY-MM-DD', true);\n            if (date.isValid()) {\n                onChange({ target: { name, value: storageValue } });\n            } else {\n                // Invalid date but keep the formatted input for display\n                onChange({ target: { name, value: formattedInput } });\n            }\n        } else {\n            // Not complete yet, store as formatted input\n            onChange({ target: { name, value: formattedInput } });\n        }\n    };\n\n    return (\n        <Grid item md={size} xs={12} sm={12} style={_style}>\n            <TextField\n                disabled={disabled || false}\n                fullWidth\n                className={classes.textField}\n                variant=\"outlined\"\n                label={label}\n                name={name}\n                value={formatValue(value)}\n                onChange={handleChange}\n                placeholder=\"YYYY/MM/DD\"\n                error={error || false}\n                helperText={error || helperText || \"Format: YYYY/MM/DD (e.g., 2000/11/24)\"}\n            />\n        </Grid>\n    );\n};\n\nexport default UI;\n","import React from 'react';\r\nimport {\r\n    Grid, RadioGroup, Radio, FormControlLabel, FormLabel\r\n} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport palette from 'portal/theme/palette';\r\nimport map from 'lodash/map';\r\nimport get from 'lodash/get';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: { \r\n        '&$checked': {\r\n            color: palette.shades.main,\r\n        },\r\n        paddingRight: 0\r\n    },\r\n    checked: {}\r\n}));\r\n\r\nexport const UI = (props) => {\r\n    const classes = useStyles();\r\n    const { size, label, name, value, onChange, values, valueLabels, pullRight, style } = props;\r\n\r\n    const _style = style || {};\r\n    return (\r\n        <Grid container md={size} style={{paddingTop: 10, ..._style}} justify={pullRight ? \"flex-end\" : \"flex-start\"} >\r\n            {label && <FormLabel style={{paddingTop: 10}} component=\"legend\">{label}</FormLabel>}\r\n            <RadioGroup row name={name} onChange={onChange}\r\n                value={value === undefined ? '' : value}>\r\n                {map(values, (type, i) => (\r\n                    <FormControlLabel key={i} value={type} control={<Radio classes={classes} />} label={get(valueLabels, i, type)} />\r\n                ))}\r\n            </RadioGroup>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\nimport {\n    Grid, ButtonGroup, Button, FormLabel\n} from '@material-ui/core';\nimport { CheckCircle, RadioButtonUnchecked } from '@material-ui/icons';\nimport palette from 'portal/theme/palette';\nimport map from 'lodash/map';\n\nexport const UI = (props) => {\n    const { size, label, name, value, onChange, values, valueObjects, pullRight, style, error } = props;\n\n    const _style = style || {}\n    return (\n        <Grid container item md={size} xs={12} sm={12} style={{paddingTop: 12, paddingBottom: 4, paddingLeft: 4, ..._style}} justifyContent={pullRight ? \"flex-end\" : \"flex-start\"} >\n            {label && <FormLabel style={{paddingTop: 10, fontSize: '1.125rem', color: error ? '#f44336' : 'inherit'}} component=\"legend\">{label}</FormLabel>}\n            <ButtonGroup orientation=\"horizontal\" >\n                {map(values, (type, i) => (\n                    <Button key={i} variant='outlined' \n                        style={{\n                            fontSize: '1.125rem', \n                            padding: '8px 16px',\n                            borderColor: error ? '#f44336' : undefined\n                        }} \n                        startIcon={type === value ? <CheckCircle style={{color: palette.shades.light}} /> : <RadioButtonUnchecked />} \n                        onClick={() => onChange({ target: { name, value: type}})} >\n                        {type}\n                    </Button>\n                ))}\n                {map(valueObjects, (j, i) => (\n                    <Button key={i + 'i'} variant='outlined' \n                        style={{\n                            fontSize: '1.125rem', \n                            padding: '8px 16px',\n                            borderColor: error ? '#f44336' : undefined\n                        }} \n                        startIcon={j.value === value ? <CheckCircle style={{color: palette.shades.light}} /> : <RadioButtonUnchecked />} \n                        onClick={() => onChange({ target: { name, value: j.value}})} >\n                        {j.label}\n                    </Button>\n                ))}\n            </ButtonGroup>\n        </Grid>\n    );\n};\n\nexport default UI;\n","import React from 'react';\r\nimport {\r\n    Grid, Typography, Link\r\n} from '@material-ui/core';\r\n\r\nexport const UI = (props) => {\r\n    const { size, parentTitle, childTitle, subtitle, onClick } = props;\r\n\r\n    return (\r\n        <Grid item md={size}>\r\n            <Typography variant=\"body1\">{subtitle}</Typography>\r\n            <Grid container>\r\n                <Link href=\"#\" onClick={onClick}>{parentTitle}</Link>\r\n                <Typography variant=\"h5\" color=\"inherit\" style={{paddingLeft: 10, paddingRight: 10}}>{' / '}</Typography>\r\n                <Typography variant=\"h5\" color=\"inherit\">{childTitle}</Typography>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Grid, Typography\r\n} from '@material-ui/core';\r\n\r\nexport const UI = (props) => {\r\n    const { size, title, subtitle, Icon, style } = props;\r\n\r\n    const _style = style || {};\r\n    if (Icon)\r\n        return (\r\n            <Grid container md={size}>\r\n                <Grid item>\r\n                   <Icon style={{fontSize: 40, paddingRight: 10}} />\r\n                </Grid>\r\n                <Grid item>\r\n                    <Typography variant=\"body1\">{subtitle}</Typography>\r\n                    <Typography variant=\"h5\" color=\"inherit\">{title}</Typography>\r\n                </Grid>\r\n            </Grid>\r\n        );\r\n    return <Grid item  md={size} style={{..._style}}>\r\n        <Typography variant=\"body1\">{subtitle}</Typography>\r\n        <Typography variant=\"h5\" color=\"inherit\">{title}</Typography>\r\n    </Grid>\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Grid, Typography\r\n} from '@material-ui/core';\r\n\r\nexport const UI = (props) => {\r\n    const { size, title, subtitle, style } = props;\r\n\r\n    const _style = style || {};\r\n    return <Grid item  md={size} style={{..._style}}>\r\n        <Typography variant=\"h5\" color=\"inherit\">{title}</Typography>\r\n        <Typography variant=\"caption\">{subtitle}</Typography>\r\n    </Grid>\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Typography, IconButton, Toolbar\r\n} from '@material-ui/core';\r\nimport { Close } from '@material-ui/icons';\r\nimport { makeStyles } from '@material-ui/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    overlayHeader: {\r\n        backgroundColor: theme.palette.primary.main,\r\n        color: theme.palette.primary.contrastText,\r\n        boxShadow: '0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23)'\r\n    },\r\n    overlayTitle: {\r\n        flexGrow: 1\r\n    },\r\n}));\r\n\r\nexport const UI = (props) => {\r\n    const { title, onClose } = props;\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Toolbar className={classes.overlayHeader} variant=\"dense\">\r\n            <Typography variant=\"h6\" color=\"inherit\" className={classes.overlayTitle}>{title}</Typography>\r\n            <IconButton edge=\"end\" color=\"inherit\" aria-label=\"close\" onClick={onClose}>\r\n                <Close />\r\n            </IconButton>\r\n        </Toolbar>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    ExpansionPanelSummary\r\n} from '@material-ui/core';\r\nimport { ExpandMore } from '@material-ui/icons';\r\nimport palette from 'portal/theme/palette';\r\n\r\nexport const UI = (props) => {\r\n    const { title } = props;\r\n\r\n    return (<div style={{display: 'flex', width: '100%'}}>\r\n        <div style={{width: 15, height: 45, background: 'linear-gradient(to bottom right, #fff 0%, #fff 50%, ' + palette.shades.light + ' 50%, ' + palette.shades.light + ' 100%)'}}>\r\n        </div>\r\n        <ExpansionPanelSummary style={{width: '98%'}} expandIcon={<ExpandMore style={{color: 'white'}} />}>\r\n            <h4 style={{color: 'white'}}>{title}</h4>\r\n        </ExpansionPanelSummary>\r\n        <div style={{width: 15, height: 45, background: 'linear-gradient(to top left, #fff 0%, #fff 50%, ' + palette.shades.light + ' 50%, ' + palette.shades.light + ' 100%)'}}>\r\n        </div>\r\n    </div>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\nimport { Grid, TextField } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  mobileField: {\n    '& .MuiOutlinedInput-root': {\n      fontSize: '1.125rem', // 18px - bigger font\n      padding: '10px 14px',\n      minHeight: '52px',\n      [theme.breakpoints.down('sm')]: {\n        fontSize: '18px',\n        padding: '12px 14px',\n        minHeight: '56px',\n      },\n    },\n    '& .MuiInputLabel-outlined': {\n      fontSize: '1.125rem',\n      [theme.breakpoints.down('sm')]: {\n        fontSize: '18px',\n      },\n    },\n    '& .MuiInputBase-input': {\n      padding: '10px 14px',\n      fontSize: '1.125rem',\n      [theme.breakpoints.down('sm')]: {\n        fontSize: '18px',\n        padding: '12px 14px',\n      },\n    },\n  },\n}));\n\nconst UI = (props) => {\n  const classes = useStyles();\n  const { size, name, value, onChange, label, helperText, error } = props;\n\n  // Clean up value - remove any existing country code prefix if it was stored with +\n  const cleanValue = React.useMemo(() => {\n    if (!value) return '';\n    // If value already has +, keep it as is (user entered full number)\n    // Otherwise, return as is (user will enter their own format)\n    return value;\n  }, [value]);\n\n  return (\n    <Grid item md={size} xs={12} sm={12}>\n      <TextField\n        type=\"tel\"\n        variant=\"outlined\"\n        fullWidth\n        className={classes.mobileField}\n        label={label || 'Mobile Number'}\n        name={name}\n        value={cleanValue}\n        onChange={onChange}\n        error={error || false}\n        helperText={error || helperText || 'Enter full number (e.g., 0771234567 or +94771234567 for international)'}\n        inputProps={{\n          autoComplete: 'tel',\n          inputMode: 'tel',\n        }}\n      />\n    </Grid>\n  );\n}\n\nexport default UI;\n","import React from 'react';\r\nimport {\r\n    Grid, LinearProgress \r\n} from '@material-ui/core';\r\n\r\nexport const UI = (props) => {\r\n    const { loading } = props;\r\n\r\n    return (\r\n        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n            {loading && <LinearProgress variant=\"query\" />}\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Tooltip, IconButton\r\n} from '@material-ui/core';\r\n\r\nexport const UI = (props) => {\r\n    const { title, onClick, icon, disabled, style } = props;\r\n\r\n    const _style = style || {}\r\n    return (\r\n        <Tooltip title={title}><span>\r\n            <IconButton style={_style} onClick={onClick} disabled={disabled || false}>\r\n                    {icon}\r\n            </IconButton>\r\n        </span></Tooltip>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Grid, Tooltip, IconButton\r\n} from '@material-ui/core';\r\n\r\nexport const UI = (props) => {\r\n    const { size, label, onClick, tooltip, icon } = props;\r\n\r\n    return (\r\n        <Grid md={size} style={{paddingTop: 15}}>\r\n            <Tooltip title={tooltip}>\r\n                <span>\r\n                    <IconButton style={{fontSize: 15}} onClick={onClick}>{icon} &nbsp;{label}</IconButton>\r\n                </span>\r\n            </Tooltip>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport Grow from '@material-ui/core/Grow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MenuList from '@material-ui/core/MenuList';\r\n\r\nexport default function SplitButton(props) {\r\n    const { options, onClicks, size } = props;\r\n    const [open, setOpen] = React.useState(false);\r\n    const anchorRef = React.useRef(null);\r\n    const [selectedIndex, setSelectedIndex] = React.useState(1);\r\n\r\n    const handleClick = () => {\r\n        onClicks[selectedIndex]();\r\n    };\r\n\r\n    const handleMenuItemClick = (event, index) => {\r\n        setSelectedIndex(index);\r\n        onClicks[index]();\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleToggle = () => {\r\n        setOpen((prevOpen) => !prevOpen);\r\n    };\r\n\r\n    const handleClose = (event) => {\r\n        if (anchorRef.current && anchorRef.current.contains(event.target)) {\r\n            return;\r\n        }\r\n        setOpen(false);\r\n    };\r\n\r\n    return (\r\n        <Grid container md={size || 6} direction=\"column\" justify=\"flex-end\" alignContent=\"flex-end\" alignItems=\"flex-end\" style={{marginRight: 9, marginTop: 2}}>\r\n            <Grid item xs={12}>\r\n                <ButtonGroup variant=\"outlined\" color=\"primary\" ref={anchorRef} aria-label=\"split button\">\r\n                <Button size=\"small\" onClick={handleClick}>{options[selectedIndex]}</Button>\r\n                <Button color=\"primary\" size=\"small\"\r\n                    aria-controls={open ? 'split-button-menu' : undefined}\r\n                    aria-expanded={open ? 'true' : undefined}\r\n                    aria-label=\"select merge strategy\" aria-haspopup=\"menu\"\r\n                    onClick={handleToggle}\r\n                >\r\n                    <ArrowDropDownIcon />\r\n                </Button>\r\n                </ButtonGroup>\r\n                <Popper open={open} anchorEl={anchorRef.current} role={undefined} transition disablePortal style={{zIndex: 10000}} >\r\n                {({ TransitionProps, placement }) => (\r\n                    <Grow {...TransitionProps}\r\n                        style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom', }}\r\n                    >\r\n                    <Paper>\r\n                        <ClickAwayListener onClickAway={handleClose}>\r\n                        <MenuList id=\"split-button-menu\">\r\n                            {options.map((option, index) => (\r\n                            <MenuItem key={option} selected={index === selectedIndex}\r\n                                onClick={(event) => handleMenuItemClick(event, index)}\r\n                            >\r\n                                {option}\r\n                            </MenuItem>\r\n                            ))}\r\n                        </MenuList>\r\n                        </ClickAwayListener>\r\n                    </Paper>\r\n                    </Grow>\r\n                )}\r\n                </Popper>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n}","import React from 'react';\r\nimport {\r\n    Dialog, DialogContent,  Button, Grid\r\n} from '@material-ui/core';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { HeadingOverlay, Select } from './';\r\n\r\nlet _setOverlayDetail = null;\r\nlet _setProps = null;\r\nconst UI = () => {\r\n    const [overlayDetail, setOverlayDetail] = React.useState(false);\r\n    const [props, setProps] = React.useState({});\r\n    _setOverlayDetail = setOverlayDetail\r\n    _setProps = setProps\r\n    const { title, assigneeList, callback } = props;\r\n    const [assigned, setAssigned] = React.useState(null);\r\n\r\n    return (\r\n        <Dialog open={overlayDetail} maxWidth={'xs'} fullWidth fullScreen={false} scroll={'body'}>\r\n            <PerfectScrollbar>\r\n                <DialogContent>\r\n                    <HeadingOverlay title={title} onClose={() => setOverlayDetail(false)} />\r\n                    <Grid container style={{marginTop: 10, marginBottom: 10}}>\r\n                        <Select size={4} label=\"Select\" valueObjects={assigneeList} value={assigned}\r\n                            onChange={e => {setAssigned(e.target.value); }} />\r\n                        <Button variant=\"contained\" color=\"primary\" style={{margin: 8}} disabled={!assigned}\r\n                            onClick={() => { callback(assigned); setAssigned(null); setOverlayDetail(false);}}>Confirm\r\n                        </Button>   \r\n                    </Grid>\r\n                </DialogContent>\r\n            </PerfectScrollbar>\r\n        </Dialog>\r\n    );\r\n};\r\n\r\nexport const useDialogSelect = () => ({\r\n    confirm: props => {\r\n        _setOverlayDetail(true)\r\n        _setProps(props)\r\n    },\r\n})\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Dialog, DialogContent,  Button, Grid\r\n} from '@material-ui/core';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { HeadingOverlay, Text } from '.';\r\nimport { ClickAwayListener } from '@material-ui/core';\r\n\r\nlet _setOverlayDetail = null;\r\nlet _setProps = null;\r\nconst UI = () => {\r\n    const [overlayDetail, setOverlayDetail] = React.useState(false);\r\n    const [props, setProps] = React.useState({});\r\n    _setOverlayDetail = setOverlayDetail\r\n    _setProps = setProps\r\n    const { title, placeholder, buttonText, callback } = props;\r\n    const [assigned, setAssigned] = React.useState('');\r\n\r\n    const onKeyDown = e => {\r\n        if(e.keyCode === 13){\r\n            callback(assigned); setAssigned(''); setOverlayDetail(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Dialog open={overlayDetail} maxWidth={'xs'} fullWidth fullScreen={false} scroll={'body'}>\r\n            <PerfectScrollbar>\r\n                <ClickAwayListener onClickAway={() => setOverlayDetail(false)}>\r\n                    <DialogContent>\r\n                        <HeadingOverlay title={title} onClose={() => setOverlayDetail(false)} />\r\n                        <Grid container style={{zIndex: 10000, marginTop: 10, marginBottom: 10}}>\r\n                            <Text size={4} label={placeholder || \"Enter Detail\"} value={assigned} onKeyDown={onKeyDown}\r\n                                onChange={e => {setAssigned(e.target.value); }} autoFocus helperText=\"Press Enter\" />\r\n                            <Button variant=\"contained\" color=\"primary\" style={{height: 35, marginLeft: 8, marginTop: 8}} disabled={!assigned}\r\n                                onClick={() => { callback(assigned); setAssigned(''); setOverlayDetail(false); }}>{buttonText || 'Confirm'}\r\n                            </Button>   \r\n                        </Grid>\r\n                    </DialogContent>\r\n                </ClickAwayListener>\r\n            </PerfectScrollbar>\r\n        </Dialog>\r\n    );\r\n};\r\n\r\nexport const useDialogInput = () => ({\r\n    confirm: props => {\r\n        _setOverlayDetail(true)\r\n        _setProps(props)\r\n    },\r\n})\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Dialog, DialogContent, \r\n} from '@material-ui/core';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\n\r\nconst UI = (props) => {\r\n    const { content, open, width } = props;\r\n\r\n    return (\r\n        <Dialog open={open} maxWidth={width} fullWidth fullScreen={false} scroll={'body'}>\r\n            <PerfectScrollbar>\r\n                <DialogContent>\r\n                    {content}\r\n                </DialogContent>\r\n            </PerfectScrollbar>\r\n        </Dialog>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Typography \r\n} from '@material-ui/core';\r\n\r\nexport default (detail, okay) => ({\r\n    title: (<span style={{ fontWeight: 500, fontSize: 18, letterSpacing: '-0.06px', lineHeight: '24px'}}>{okay} CONFIRMATION</span>),\r\n    message: (<Typography>Are you sure you want to <strong>{detail}</strong></Typography>),\r\n    ok: { text: okay, variant: 'contained', color: okay === 'DELETE' ? 'secondary' : 'primary' }\r\n});\r\n","import React from 'react';\r\nimport {\r\n    Grid, CardHeader, Card, CardContent, Typography, Badge\r\n} from '@material-ui/core';\r\nimport { Skeleton } from '@material-ui/lab';\r\nimport { makeStyles, withStyles } from '@material-ui/styles';\r\nimport CountUp from 'react-countup';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        height: '100%',\r\n        // backgroundColor: palette.shades.light + ' !important',\r\n        cursor: 'pointer',\r\n        boxShadow: '16px 16px 16px rgb(0,0,0, 0.10)',\r\n    },\r\n    title: {\r\n        fontWeight: 700,\r\n        color : 'white'\r\n    },\r\n    amount: {\r\n        color : 'white'\r\n    },\r\n}));\r\n\r\nconst StyledBadge = withStyles((theme) => ({\r\n    badge: {\r\n      backgroundColor: 'white',\r\n      color: 'white',\r\n      boxShadow: `0 0 0 4px #999999`,\r\n      '&::after': {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        width: '100%',\r\n        height: '100%',\r\n        borderRadius: '50%',\r\n        animation: '$ripple 1.2s infinite ease-in-out',\r\n        border: '2px solid currentColor',\r\n        content: '\"\"',\r\n      },\r\n    },\r\n    '@keyframes ripple': {\r\n      '0%': {\r\n        transform: 'scale(.8)',\r\n        opacity: 1,\r\n      },\r\n      '100%': {\r\n        transform: 'scale(2.4)',\r\n        opacity: 0,\r\n      },\r\n    },\r\n}))(Badge);\r\n\r\nconst UI = (props) => {\r\n    const { data, loading, color } = props;\r\n    const classes = useStyles();\r\n\r\n    if (loading) return <Skeleton variant=\"text\" height={200} />\r\n    return (\r\n        <Card className={classes.root} style={{backgroundColor: color}} >\r\n            <CardHeader title={\r\n                <Grid container justify=\"space-between\">\r\n                    <Grid container justify=\"space-between\">\r\n                        {data.icon}\r\n                        <Typography className={classes.title} gutterBottom variant=\"h4\" >{data.label}</Typography>\r\n                    </Grid>\r\n                    {data.isActive && \r\n                        <Grid item>\r\n                            <StyledBadge overlap=\"circle\" variant=\"dot\" anchorOrigin={{vertical: 'top', horizontal: 'right'}} >\r\n                                <Typography className={classes.title} gutterBottom variant=\"h6\" >{data.labelRight}&nbsp;&nbsp;&nbsp;&nbsp;</Typography>\r\n                            </StyledBadge>\r\n                        </Grid>}\r\n                    {!data.isActive && \r\n                        <Grid item>\r\n                            <Typography className={classes.title} gutterBottom variant=\"h6\" >{data.labelRight}&nbsp;&nbsp;&nbsp;&nbsp;</Typography>\r\n                        </Grid>}\r\n                </Grid>\r\n            }/>\r\n            <CardContent>\r\n                <Grid container justify=\"flex-end\">\r\n                    <Grid item>\r\n                        <Typography className={classes.amount} variant=\"h2\"><CountUp end={data.value === '-' ? 0 : data.value} /></Typography>\r\n                    </Grid>\r\n                </Grid>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Grid, Card, CardContent, Typography\r\n} from '@material-ui/core';\r\nimport { Skeleton } from '@material-ui/lab';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { ArrowForward, RemoveRedEye } from '@material-ui/icons';\r\nimport { IconButton } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        height: '100%',\r\n        // backgroundColor: palette.shades.light + ' !important',\r\n        cursor: 'pointer',\r\n        boxShadow: '5px 5px 5px rgb(0,0,0, 0.30)',\r\n    },\r\n    title: {\r\n        fontWeight: 700,\r\n        color : 'white'\r\n    },\r\n    amount: {\r\n        color : 'white'\r\n    },\r\n}));\r\n\r\nconst UI = (props) => {\r\n    const { data, loading, onClick, color } = props;\r\n    const classes = useStyles();\r\n\r\n    if (loading) return <Skeleton variant=\"text\" height={150} />\r\n    return (\r\n        <Card className={classes.root} style={{marginRight: 5, marginTop: 5, backgroundColor: '#f2f2f2'}} >\r\n            <CardContent>\r\n                <Grid container justify=\"space-between\">\r\n                    <Grid item md={5}>\r\n                        <Typography gutterBottom variant=\"h6\" >REF{data.id}</Typography>\r\n                    </Grid>\r\n                    <Grid container md={7} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\">\r\n                        <IconButton onClick={() => onClick(data.id)}>\r\n                            <RemoveRedEye style={{color: color || 'black'}} />\r\n                        </IconButton>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid container justify=\"flex-start\">\r\n                    <Typography variant=\"body\">{data.address}</Typography>\r\n                    <ArrowForward style={{fontSize: 17, marginTop: 2}} />\r\n                    <Typography variant=\"body\">{data.slAddress}</Typography>\r\n                </Grid>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Grid \r\n} from '@material-ui/core';\r\n\r\nexport const UI = (props) => {\r\n    const { size } = props;\r\n\r\n    return (\r\n        <Grid item md={size}>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Tab, createStyles \r\n} from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/styles';\r\n\r\nconst UI = withStyles(theme =>\r\n    createStyles({\r\n        root: {\r\n            textTransform: 'none',\r\n            // color: '#fff',\r\n            fontWeight: theme.typography.fontWeightRegular,\r\n            fontSize: theme.typography.pxToRem(15),\r\n            marginRight: theme.spacing(1),\r\n            '&:focus': {\r\n                opacity: 1\r\n            }\r\n        }\r\n    })\r\n)(props => <Tab disableRipple {...props} />);\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Tabs \r\n} from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/styles';\r\n\r\nconst UI = withStyles({\r\n    indicator: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        '& > div': {\r\n            maxWidth: 40,\r\n            width: '100%',\r\n            overflow: 'auto',\r\n            backgroundColor: '#635ee7'\r\n        }\r\n    }\r\n})(props => <Tabs {...props} TabIndicatorProps={{ children: <div /> }} />);\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Step, StepLabel, StepContent, Typography, Stepper\r\n} from '@material-ui/core';\r\n\r\n\r\nconst UI = (props) => {\r\n    const { items } = props;\r\n\r\n    return (<Stepper orientation=\"vertical\">\r\n            {items.map(({label, data}) => <Step active={true} key={label}>\r\n                <StepLabel>{label}</StepLabel>\r\n                <StepContent>\r\n                    <Typography>{data}</Typography>\r\n                </StepContent>\r\n            </Step>)}\r\n        </ Stepper>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport Grow from '@material-ui/core/Grow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MenuList from '@material-ui/core/MenuList';\r\n\r\nconst UI = (props) => {\r\n    const { items } = props;\r\n    const [open, setOpen] = React.useState(false);\r\n    const anchorRef = React.useRef(null);\r\n    const [selectedIndex, setSelectedIndex] = React.useState(1);\r\n\r\n    const handleClick = () => {\r\n        console.info(`You clicked ${items[selectedIndex]}`);\r\n    };\r\n\r\n    const handleMenuItemClick = (event, index) => {\r\n        setSelectedIndex(index);\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleToggle = () => {\r\n        setOpen((prevOpen) => !prevOpen);\r\n    };\r\n\r\n    const handleClose = (event) => {\r\n        if (anchorRef.current && anchorRef.current.contains(event.target)) {\r\n        return;\r\n        }\r\n\r\n        setOpen(false);\r\n    };\r\n\r\n    return (\r\n        <Grid container direction=\"column\" alignItems=\"center\">\r\n        <Grid item xs={12}>\r\n            <ButtonGroup variant=\"contained\" color=\"primary\" ref={anchorRef} aria-label=\"split button\">\r\n            <Button onClick={handleClick}>{items[selectedIndex]}</Button>\r\n            <Button\r\n                color=\"primary\"\r\n                size=\"small\"\r\n                aria-controls={open ? 'split-button-menu' : undefined}\r\n                aria-expanded={open ? 'true' : undefined}\r\n                aria-label=\"select merge strategy\"\r\n                aria-haspopup=\"menu\"\r\n                onClick={handleToggle}\r\n            >\r\n                <ArrowDropDownIcon />\r\n            </Button>\r\n            </ButtonGroup>\r\n            <Popper open={open} anchorEl={anchorRef.current} role={undefined} transition disablePortal>\r\n            {({ TransitionProps, placement }) => (\r\n                <Grow\r\n                {...TransitionProps}\r\n                style={{\r\n                    transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom',\r\n                }}\r\n                >\r\n                <Paper>\r\n                    <ClickAwayListener onClickAway={handleClose}>\r\n                    <MenuList id=\"split-button-menu\">\r\n                        {items.map((option, index) => (\r\n                        <MenuItem\r\n                            key={option}\r\n                            disabled={index === 2}\r\n                            selected={index === selectedIndex}\r\n                            onClick={(event) => handleMenuItemClick(event, index)}\r\n                        >\r\n                            {option}\r\n                        </MenuItem>\r\n                        ))}\r\n                    </MenuList>\r\n                    </ClickAwayListener>\r\n                </Paper>\r\n                </Grow>\r\n            )}\r\n            </Popper>\r\n        </Grid>\r\n        </Grid>\r\n    );\r\n}\r\n\r\nexport default UI;\r\n","import * as React from 'react';\r\nimport { Slider, Grid } from '@material-ui/core';\r\nimport { map } from 'lodash';\r\n\r\nconst marks = (s, e) => map(new Array(e-s), (i, j) => ({\r\n    value: s + j,\r\n    label: s + j === 0 ? '12AM' : s + j < 12 ? s + j + 'AM' : s + j === 12 ? '12PM' : ((s + j) % 12) + 'PM',\r\n}))\r\n\r\nconst mask = (arr, s, e) => map(arr, i => ({\r\n    value: i.value,\r\n    label: isOffTrackingHours(s, e, i.value) ? 'X' : i.label \r\n}))\r\n\r\nconst isOffTrackingHours = (s, e, clicked) => s-e > 0 ? clicked < s && clicked > e : clicked < s || clicked > e\r\n\r\nexport default function DiscreteSliderLabel({trackStartHour, trackEndHour, setTrackSelectedHour, shiftStart, shiftEnd}) {\r\n    return (<Grid item md={12}>\r\n        <Grid container md={12} justify=\"space-between\">\r\n            <Grid item>{'Midnight'}</Grid>\r\n            <Grid item>{'Morning'}</Grid>\r\n            <Grid item>{'Noon'}</Grid>\r\n            <Grid item>{'Evening'}</Grid>\r\n            <Grid item>{'Night'}</Grid>\r\n        </Grid>\r\n        <Slider\r\n            getAriaValueText={v => !isOffTrackingHours(shiftStart, shiftEnd, v) && setTrackSelectedHour(v)}\r\n            min={trackStartHour}\r\n            step={1}\r\n            max={trackEndHour}\r\n            marks={mask(marks(trackStartHour, trackEndHour), shiftStart, shiftEnd)}\r\n        /></Grid>\r\n    );\r\n}","import { GET, POST, DELETE, PUT } from 'portal/helpers/adapter';\r\nimport { clientX } from 'portal/services/client.service';\r\nimport moment from 'moment';\r\nimport { grandTotal } from 'business/utils/number';\r\nimport { audit } from 'business/utils/audit';\r\nimport { size } from 'lodash';\r\n\r\n// const dummy = [\r\n//     { id: 45978, name: 'Zameer', address: '143 DSO Doha', contact: 506079876, location: '12.2444, 45:455', date: '02/12/2020 06:00PM', note: '3MB', driver: 'Salam', cargoMode: 'Air'}\r\n// ]\r\n\r\nconst getPendingDomestic = async({ startDate, endDate }) => {\r\n\treturn POST(`/v1/cargo/get-pending-pickup`, { branch: clientX().branch, fetched: -12, start: startDate, end: endDate })\r\n}\r\n\r\nconst getPendingPickups = async({ startDate, endDate, fetched }) => {\r\n\treturn POST(`/v1/cargo/get-pending-pickup`, { branch: clientX().branch, fetched: fetched === undefined ? -1 :fetched, start: startDate, end: endDate })\r\n}\r\n\r\nconst getDeletedCargo = async({ startDate, endDate }) => {\r\n\treturn GET(`/v1/cargo/get-all-deleted?branch=${clientX().branch}&startDate=${startDate}&endDate=${endDate}`)\r\n}\r\n\r\nconst getCashSettlements = async({ startDate, endDate }) => {\r\n\treturn POST(`/v1/cargo/get-cash-collection`, { branch: clientX().branch, fetched: 0, start: startDate, end: endDate })\r\n}\r\n\r\nconst getWarehouse = async({ startDate, endDate }) => {\r\n\treturn POST(`/v1/cargo/get-all-in-warehouse`, { branch: clientX().branch, fetched: 1, start: startDate, end: endDate })\r\n}\r\n\r\nconst getWarehouseDelivery = async({ startDate, endDate, fetched, hasLoadingId }) => {\r\n    return POST(`/v1/cargo/get-all-in-destination-delivery-warehouse?hasLoadingId=${hasLoadingId}`, { branch: clientX().branch, fetched: fetched || 3, start: startDate, end: endDate, deliveryType: clientX().deliveryType?.[2] })\r\n}\r\n\r\nconst getDispatchedCargoAll = async({ startDate, endDate }) => {\r\n    // need to ceate endpoint\r\n\treturn POST(`/v1/cargo/get-all-in-destination-delivery-warehouse`, { branch: clientX().branch, fetched: 3, start: startDate, end: endDate })\r\n}\r\n\r\nconst getWarehouseBonded = async({ startDate, endDate, shortLoaded, branch }) => {\r\n\treturn POST(`/v1/cargo/get-all-in-destination-warehouse?shortLoaded=${shortLoaded}`, { branch: branch || clientX().branch, fetched: 2, start: startDate, end: endDate })\r\n}\r\n\r\nconst getAllHbl = async({ startDate, endDate, branch }) => {\r\n\treturn POST(`/v1/cargo/get-all-extended`, { branch: branch || clientX().branch, start: startDate, end: endDate })\r\n}\r\n\r\nconst getAllHblLike = async(like, branch) => {\r\n\treturn POST(`/v1/cargo/get-all-like?branch=${branch || clientX().branch}&like=${like}`, {})\r\n}\r\n\r\nconst getForReports = async({ startDate, endDate }) => {\r\n\treturn POST(`/v1/cargo/get-for-reports`, { branch: clientX().branch, start: startDate, end: endDate })\r\n}\r\n\r\nconst addJob = async(obj) => {\r\n    const payload = {\r\n        ...obj,\r\n        pickupDate: obj.pickupDateTime.format('YYYY-MM-DD'),\r\n        pickupTime: obj.pickupDateTime.format('HH:mm'),\r\n        createdDate: moment().format('YYYY-MM-DD'),\r\n        createdTime: moment().format('HH:mm'),\r\n        branch: clientX().branch,\r\n        auth: clientX().username,\r\n        priority: Math.floor(moment.duration(moment().diff(moment('2021-01-01'))).asSeconds()),\r\n    }\r\n    delete payload.pickupDateTime\r\n    return POST('/v1/cargo/create' + audit('JOB-CREATED'), payload)\r\n}\r\n\r\nconst momentFormat = (s, r) => {\r\n    if (!s) return moment().format(r); // check, if wrong retrun null\r\n    if (typeof s === \"string\") return s;\r\n    else {\r\n        return s.format(r)\r\n    }\r\n}\r\n\r\nconst addHbl = async(obj, arr, amount, amountSystem, paid) => {\r\n    const cargo = {\r\n        ...obj,\r\n        amount: grandTotal(amount),\r\n        paid: paid,\r\n        amountSpec: JSON.stringify(amount.map(i => ({ costType: i.costType, amount: i.amount }))),\r\n        amountSystem: JSON.stringify(amountSystem.map(i => ({ costType: i.costType, amount: i.amount }))),\r\n        pickupDate: momentFormat(obj.pickupDateTime, 'YYYY-MM-DD'),\r\n        pickupTime: momentFormat(obj.pickupDateTime, 'HH:mm'),\r\n        pickedUpDate: momentFormat(obj.pickedUpDateTime, 'YYYY-MM-DD'),\r\n        pickedUpTime: momentFormat(obj.pickedUpDateTime, 'HH:mm'),\r\n        createdDate: moment().format('YYYY-MM-DD'),\r\n        createdTime: moment().format('HH:mm'),\r\n        auth: clientX().username,\r\n        branch: clientX().branch\r\n    }\r\n    delete cargo.pickupDateTime\r\n    delete cargo.pickedDateTime\r\n    const packages = arr.map(i => {\r\n        const p = { ...i }\r\n        delete p.id\r\n        return p;\r\n    })\r\n    return POST('/v1/cargo/create-with-package' + audit('CARGO-HBL-CREATED'), { cargo, packages })\r\n}\r\n\r\nconst addDomesticJob = async(obj, arr, amount, amountSystem, paid) => {\r\n    const cargo = {\r\n        ...obj,\r\n        amount: 0,\r\n        paid: 0,\r\n        amountSpec: '{}',\r\n        amountSystem: '{}',\r\n        pickupDate: momentFormat(obj.pickupDateTime, 'YYYY-MM-DD'),\r\n        pickupTime: momentFormat(obj.pickupDateTime, 'HH:mm'),\r\n        createdDate: moment().format('YYYY-MM-DD'),\r\n        createdTime: moment().format('HH:mm'),\r\n        auth: clientX().username,\r\n        branch: clientX().branch\r\n    }\r\n    delete cargo.pickupDateTime\r\n    const packages = arr.map(i => {\r\n        const p = { ...i }\r\n        delete p.id\r\n        return p;\r\n    })\r\n    return POST('/v1/cargo/create-with-package' + audit('DOMESTIC-JOB-CREATED'), { cargo, packages })\r\n}\r\n\r\nconst editHbl = async(id, obj, amount, amountSystem, paid, overrides, auditType) => {\r\n    const cargo = {\r\n        ...obj,\r\n        ...(overrides || {})\r\n    }\r\n    if (amount) {\r\n        cargo['amount'] = grandTotal(amount)\r\n        cargo['paid'] = paid\r\n        cargo['amountSpec'] = JSON.stringify(amount.map(i => ({ costType: i.costType, amount: i.amount })))\r\n        cargo['amountSystem'] = JSON.stringify(amountSystem.map(i => ({ costType: i.costType, amount: i.amount })))\r\n    }\r\n\r\n    return PUT('/v1/cargo/update/' + id + audit(auditType || 'EDIT-CARGO-DETAILS') + `&branch=${clientX().branch}`, cargo)\r\n}\r\n\r\nconst editJob = async(id, obj) => {\r\n    const cargo = {\r\n        pickupDate: momentFormat(obj.pickupDateTime, 'YYYY-MM-DD'),\r\n        pickupTime: momentFormat(obj.pickupDateTime, 'HH:mm'),\r\n        pickupArea: obj.pickupArea,\r\n    }\r\n\r\n    return PUT('/v1/cargo/update/' + id + audit('EDIT-JOB') + `&branch=${clientX().branch}`, cargo)\r\n}\r\n\r\nconst getCargo = async(id) => {\r\n    return GET('/v1/cargo/get-by-id/' + id + `?branch=${clientX().branch}`)\r\n}\r\n\r\nconst getCargoByHbl = async(id, branch) => {\r\n    return GET('/v1/cargo/get-by-hbl?hbl=' + id + '&branch=' + (branch || clientX().branch))\r\n}\r\n\r\nconst getCargos = async(ids) => {\r\n    if (size(ids) > 0)\r\n        return GET('/v1/cargo/get-by-ids?' + ids.reduce((t, id) => t + '&ids=' + id, '').substring(1) + `&branch=${clientX().branch}`)\r\n    else return new Promise(a => a([]))\r\n}\r\n\r\nconst getCargosByHbl = async(hbls, branch) => {\r\n    if (size(hbls) > 0)\r\n        return GET('/v1/cargo/get-by-hbls?branch=' + (branch || clientX().branch) + hbls.reduce((t, id) => t + '&hbls=' + id, '') )\r\n    else return new Promise(a => a([]))\r\n}\r\n\r\nconst deleteCargo = async(arr) => {\r\n    return DELETE('/v1/cargo/delete-many' + audit('DELETE-CARGO') + `&branch=${clientX().branch}`, arr)\r\n}\r\n\r\nconst undoDeleteCargo = async(id) => {\r\n    return PUT('/v1/cargo/undo-delete/' + id + audit('DELETE-CARGO-UNDO') + `&branch=${clientX().branch}`)\r\n}\r\n\r\nconst assignCargo = async(arr, id) => {\r\n    return PUT('/v1/cargo/update-many?sms=DRIVER-ASSIGNED' + audit('DRIVER-ASSIGN-JOB', '&') + `&branch=${clientX().branch}`, { payload: { driverId: id }, ids: arr, ifFetched: [-1] })\r\n}\r\n\r\nconst retryCargo = async(arr) => {\r\n    return PUT('/v1/cargo/update-many' + audit('RETRY-JOB') + `&branch=${clientX().branch}`, { payload: { fetched: -1 }, ids: arr })\r\n}\r\n\r\nconst retryDomestic = async(arr) => {\r\n    return PUT('/v1/cargo/update-many' + audit('RETRY-JOB') + `&branch=${clientX().branch}`, { payload: { fetched: -12 }, ids: arr })\r\n}\r\n\r\nconst assignCargoPriority = async(payload) => {\r\n    return PUT('/v1/cargo/update-several' + audit('SET-JOB-PRIORITY') + `&branch=${clientX().branch}`, payload)\r\n}\r\n\r\nconst assignCargoWarehouse = async(arr, name) => {\r\n    return PUT('/v1/cargo/update-many' + audit('SET-BRANCH-WAREHOUSE') + `&branch=${clientX().branch}`, { payload: { pickupWarehouseZone: name }, ids: arr })\r\n}\r\n\r\nconst assignDeliveryRoute = async(arr, name) => {\r\n    return PUT('/v1/cargo/update-many' + audit('SET-DELIVERY-ROUTE') + `&branch=${clientX().branch}`, { payload: { deliveryRoute: name }, ids: arr })\r\n}\r\n\r\nconst assignCustomCleared = async(arr, name) => {\r\n    return PUT('/v1/cargo/update-many' + audit('CUSTOMS-CLEARED') + `&branch=${clientX().branch}`, { payload: { fetched: 3 }, ids: arr })\r\n}\r\n\r\nconst assignCustomClearedAndCompleted = async(arr, name) => {\r\n    return PUT('/v1/cargo/update-many' + audit('CUSTOMS-CLEARED-COMPLETED') + `&branch=${clientX().branch}`, { payload: { fetched: 4 }, ids: arr })\r\n}\r\n\r\nconst markAsShortLoading = async(arr, content) => {\r\n    return PUT('/v1/cargo/update-many' + audit('SHORT-LOADING') + `&branch=${clientX().branch}`, { payload: { shortLoaded: content || 'S:' }, ids: arr })\r\n}\r\n\r\nconst markAsShortLoadingFixed = async(arr, name) => {\r\n    return PUT('/v1/cargo/update-many' + audit('SHORT-LOADING-FIXED') + `&branch=${clientX().branch}`, { payload: { shortLoaded: '' }, ids: arr })\r\n}\r\nconst receiveCashCargo = async(arr, driver) => {\r\n    return PUT('/v1/cargo/update-many?sms=CASHED' + audit('CASHED', '&') + `&branch=${clientX().branch}&driverName=${driver}`, { payload: {\r\n        fetched: 1,\r\n        cashedBy: clientX().username,\r\n        cashedDate: moment().format('YYYY-MM-DD'),\r\n        cashedTime: moment().format('HH:mm') }, ids: arr })\r\n}\r\n\r\nconst revertCashCargo = async(arr) => {\r\n    return PUT('/v1/cargo/update-many' + audit('REVERT-CASH') + `&branch=${clientX().branch}`, { payload: { fetched: 0 }, ids: arr })\r\n}\r\n\r\nconst getLoadedCargos = async(id) => {\r\n    return GET('/v1/cargo/get-by-loading-id/' + id + `?branch=${clientX().branch}`)\r\n}\r\n\r\nconst getDispatchedCargo = async(id) => {\r\n    return GET('/v1/cargo/get-by-dispatched-id/' + id + `?branch=${clientX().branch}`)\r\n}\r\n\r\nconst getCargoStatus = async(id) => {\r\n    return GET('/v1/cargo/get-by-id/' + id)\r\n}\r\n\r\nexport default {\r\n    addDomesticJob,\r\n    getPendingDomestic,\r\n    getPendingPickups,\r\n    getCashSettlements,\r\n    getWarehouse,\r\n    getWarehouseDelivery,\r\n    getWarehouseBonded,\r\n    getAllHbl,\r\n    getAllHblLike,\r\n    getForReports,\r\n    getCargoStatus,\r\n    addHbl,\r\n    editHbl,\r\n    editJob,\r\n    addJob,\r\n    getCargo,\r\n    getCargoByHbl,\r\n    getCargos,\r\n    getCargosByHbl,\r\n    deleteCargo,\r\n    undoDeleteCargo,\r\n    assignCargo,\r\n    retryCargo,\r\n    retryDomestic,\r\n    assignCargoPriority,\r\n    assignCargoWarehouse,\r\n    assignDeliveryRoute,\r\n    assignCustomCleared,\r\n    assignCustomClearedAndCompleted,\r\n    markAsShortLoading,\r\n    markAsShortLoadingFixed,\r\n    receiveCashCargo,\r\n    revertCashCargo,\r\n    getDeletedCargo,\r\n    getLoadedCargos,\r\n    getDispatchedCargo,\r\n    getDispatchedCargoAll,\r\n}\r\n","import handleResponse from 'portal/helpers/commonHandler';\r\nimport { userTypes } from 'portal/helpers/constants';\r\nimport getConfig from './getContext';\r\n\r\nconst aborter = new AbortController();\r\n\r\nconst data = {\r\n    client: null\r\n}\r\n\r\nexport const setUserGlobal = (u) => {\r\n    data.client = u\r\n}\r\n\r\nexport const getUserGlobal = (k) => {\r\n    return k ? data.client?.[k] : data.client\r\n}\r\n\r\nexport const clientY = () => {\r\n    if (data.client) return data.client\r\n    try {\r\n        return JSON.parse(localStorage.getItem(\"mw-b\"));\r\n    } catch {\r\n        return [];\r\n    }\r\n}\r\n\r\nexport const fakeLogin = function (url) {\r\n    const allParams1 = url.split('?branch=')[1];\r\n    const branch = allParams1.split('&username=')[0];\r\n    const allParams2 = allParams1.split('&username=')[1];\r\n    const username = allParams2.split('&jwt=')[0];\r\n    const jwt = allParams2.split('&jwt=')[1];\r\n    console.log(branch, username, jwt)\r\n\r\n    localStorage.setItem(\"mw-b\", JSON.stringify([branch]));\r\n    localStorage.setItem(\"mw-u\", username);\r\n    data.client = [branch];\r\n    document.cookie = `api=${jwt}; max-age=${15 * 60 * 60 * 1000}; path=/;`;\r\n}\r\n\r\nconst login = async function (params, type) {\r\n    // console.log('1 ', document.cookie)\r\n    document.cookie = 'api=; Max-Age=-999; path=/;'\r\n    // console.log('2 ', document.cookie)\r\n    try {\r\n        let result = await fetch(`${getConfig().resourceUrl}/v1/authenticate`, {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ ...params, type })\r\n        }).then(handleResponse);\r\n        const branch = [...result.branch];\r\n        localStorage.setItem(\"mw-b\", JSON.stringify(branch));\r\n        localStorage.setItem(\"mw-u\", params.username);\r\n        localStorage.setItem(\"mw-u-type\", type || userTypes.user);\r\n        data.client = branch;\r\n        // console.log('3 ', document.cookie)\r\n        document.cookie = `api=${result.jwt}; max-age=${15 * 60 * 60 * 1000}; path=/;`;\r\n        // console.log('4 ', document.cookie)\r\n        return result;\r\n    } catch (e) {\r\n        throw e;\r\n    }\r\n};\r\n\r\nconst logout = async function () {\r\n    try {\r\n        // Clear cookie\r\n        document.cookie = 'api=; Max-Age=-999; path=/;';\r\n\r\n        // Clear localStorage\r\n        localStorage.removeItem(\"mw-b\");\r\n        localStorage.removeItem(\"mw-u\");\r\n        localStorage.removeItem(\"mw-u-type\");\r\n\r\n        // Reset global client data\r\n        data.client = null;\r\n\r\n        // Sign out from Firebase if available\r\n        try {\r\n            const { getAuth } = require('./firebaseAuth.service');\r\n            await getAuth().signOut();\r\n        } catch (firebaseError) {\r\n            // Firebase might not be initialized or already signed out\r\n            console.log('Firebase signout skipped:', firebaseError.message);\r\n        }\r\n    } catch (error) {\r\n        console.error('Logout error:', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\nconst getAuthedUser = async function () {\r\n    try {\r\n        let user = localStorage.getItem(\"mw-u\");\r\n        return user;\r\n    } catch (fetchError) {\r\n        throw fetchError;\r\n    }\r\n};\r\n\r\nexport default {\r\n    login,\r\n    logout,\r\n    getAuthedUser,\r\n    aborter\r\n};\r\n","import { clientP, clientF, clientX } from \"portal/services/client.service\";\r\nimport { oneDecimal } from \"./number\";\r\n\r\nconst coreMath = (exp) => {\r\n    if (exp === '') return 0;\r\n    const tokens = exp.split(' ')\r\n    if (tokens.length === 1) return +exp;\r\n    if (tokens.length === 3) {\r\n        if (tokens[1] === '*') return +tokens[0] * +tokens[2]\r\n        if (tokens[1] === '>') return +tokens[0] >= +tokens[2]\r\n        if (tokens[1] === '<') return +tokens[0] < +tokens[2]\r\n    }\r\n}\r\n\r\nconst doMath = (expression, {weight, volume}) => {\r\n    if (expression === '') return 0;\r\n    const str = expression.replace('weight', weight).replace('volume', volume)\r\n    console.log(str)\r\n    return coreMath(str);\r\n}\r\n\r\nconst doLogic = ({condition, valueIf, valueNot}, weight, volume) => {\r\n    if (condition === '') return doMath(valueIf, {weight, volume})\r\n    else {\r\n        const conditionValue = doMath(condition, {weight, volume})\r\n        if (conditionValue) return doMath(valueIf, {weight, volume})\r\n        else return doMath(valueNot, {weight, volume})\r\n    }\r\n}\r\n\r\nexport const getPerPackagePrice = () => {\r\n    const prices = clientP()\r\n    const v = prices.filter(i => i.costType === 'VOLUME CHARGE')?.[0]?.valueIf\r\n    const w = prices.filter(i => i.costType === 'WEIGHT CHARGE')?.[0]?.valueIf\r\n    return { w, v };\r\n}\r\n\r\nexport const calculatePrice = (cargoMode, deliveryType, weight, volume, warehouseLocation, boxSize) => {\r\n    const amount = []\r\n    const directPrices = clientP().filter(i => i.cargoMode === cargoMode && i.deliveryType === deliveryType)\r\n    const indirectPrices = clientP().filter(i => i.cargoMode === cargoMode && i.deliveryType === 'All remaining')\r\n    directPrices.forEach(i => {\r\n        amount.push({\r\n            editable: i.editable !== 'NO',\r\n            costType: i.costType,\r\n            amount: oneDecimal(doLogic(i, weight, volume))\r\n        })\r\n    })\r\n    if (directPrices.length === 0) {\r\n        indirectPrices.forEach(i => {\r\n            amount.push({\r\n                editable: i.editable !== 'NO',\r\n                costType: i.costType,\r\n                amount: oneDecimal(doLogic(i, weight, volume))\r\n            })\r\n        })\r\n    }\r\n\r\n    const addons = priceBasedOnBranch(warehouseLocation, volume, cargoMode);\r\n    return [...amount, ...addons, { costType: \"OTHER CHARGES\", amount: 0, editable: true }, { costType: \"DISCOUNT\", amount: 0, editable: true }]\r\n}\r\n\r\nconst priceBasedOnBranch = (warehouseLocation, vol, cargoMode) => {\r\n    const addons = []\r\n    if (clientX().branch === 'riyadh') {\r\n        // const boxCharge = \r\n        //     vol <= 0.5 ? 75 : vol <= 0.75 ? 110 : \r\n        //     vol <= 1 ? 125 : vol <= 1.25 ? 150 : vol <= 1.5 ? 185 : vol <= 1.75 ? 225 : \r\n        //     vol <= 2 ? 250 : vol <= 2.25 ? 275 : vol <= 2.5 ? 300 : vol <= 2.75 ? 325 : \r\n        //     vol <= 3 ? 350 : vol <= 3.25 ? 375 : vol <= 3.5 ? 400 : vol <= 3.75 ? 425 : \r\n        //     vol <= 4 ? 450 : 450\r\n\r\n        // addons.push({ costType: \"BOX CHARGES\", amount: boxCharge, editable: true })\r\n        // addons.push({ costType: \"BOX VAT \" + (clientF(clientX().branch).vat * 100) + \"%\", amount: oneDecimal(boxCharge * clientF(clientX().branch).vat), editable: false })\r\n        \r\n        if (cargoMode === clientX().cargoMode[1]) {\r\n            addons.push({ costType: \"BILL CHARGE\", amount: 50, editable: true })\r\n            addons.push({ costType: \"BILL VAT \" + (clientF(clientX().branch).vat * 100) + \"%\", amount: oneDecimal(50 * clientF(clientX().branch).vat), editable: false })\r\n            if (warehouseLocation === clientX().warehouseLocation[0]) {\r\n                addons.push({ costType: \"DEST. CHARGES\", amount: oneDecimal(140 * vol), editable: true })\r\n            } else if (warehouseLocation === clientX().warehouseLocation[1]) {\r\n                addons.push({ costType: \"DEST. CHARGES\", amount: oneDecimal(225 * vol), editable: true })\r\n            }\r\n        } else if (cargoMode === clientX().cargoMode[0]) {\r\n            addons.push({ costType: \"BILL CHARGE\", amount: 40, editable: false })\r\n        }\r\n\r\n    }\r\n    if (clientX().branch === 'dubai') {\r\n        if (cargoMode === clientX().cargoMode[1]) {\r\n            const boxCharge = \r\n                vol <= 0.91 ? 0 : vol <= 0.94 ? 175 : \r\n                vol <= 1.62 ? 245 : vol <= 2.01 ? 250 : vol <= 2.51 ? 260 : vol <= 3.0 ? 325 : \r\n                vol <= 3.8 ? 400 : 450\r\n            addons.push({ costType: \"BOX CHARGES\", amount: oneDecimal(boxCharge), editable: true })\r\n            addons.push({ costType: \"BOX VAT \" + (clientF(clientX().branch).vat * 100) + \"%\", amount: oneDecimal(boxCharge * clientF(clientX().branch).vat), editable: false })\r\n\r\n            addons.push({ costType: \"VOLUME CHARGE\", amount: 0, editable: true })\r\n        }\r\n\r\n\r\n    } \r\n    return addons;\r\n}\r\n\r\nexport const priceDecode = (printPriceBreakdown, cargo) => {\r\n    if (!printPriceBreakdown) return;\r\n    const obj = typeof cargo.amountSpec === 'string' ? JSON.parse(cargo.amountSpec || '[]') : cargo.amountSpec\r\n    const destiCharges = obj.find(i => i.costType === 'DEST. CHARGES')?.amount || '0'\r\n    const hblCharge = obj.find(i => i.costType === 'BILL CHARGE')?.amount || '0'\r\n    const hblVat = obj.find(i => i.costType === 'BILL VAT ' + (clientF(clientX().branch).vat * 100) + '%')?.amount || '0'\r\n    const grandTotal = cargo.amount\r\n\r\n    return {\r\n        hblCharge: oneDecimal(+hblCharge),\r\n        hblVat: oneDecimal(+hblVat),\r\n        destiCharges: oneDecimal(+destiCharges),\r\n        frieghtCharges: oneDecimal(+grandTotal - (+destiCharges + +hblCharge + +hblVat)),\r\n        grandTotal,\r\n        paid: cargo.paid\r\n    };\r\n}\r\n","import React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport MomentUtils from '@date-io/moment';\nimport { SnackbarProvider } from 'notistack';\nimport { DialogProvider } from 'muibox';\nimport { ThemeProvider, makeStyles, withStyles } from '@material-ui/styles';\nimport { CssBaseline, IconButton } from '@material-ui/core';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport theme from './portal/theme';\nimport { DialogSelect, DialogInput } from './business/widgets/Mini';\nimport 'react-perfect-scrollbar/dist/css/styles.css';\n// import './portal/assets/scss/index.scss';\n// import './portal/assets/scss/index.css';\n\nimport Routes from './portal/Routes';\nimport { fakeLogin } from 'portal/services/auth.service';\nimport './business/utils/removeOverlayIframe';\n\nconst styles = makeStyles({\n    success: { backgroundColor: 'rgb(152, 230, 152)', color: 'rgb(15, 62, 15)' },\n    error: { backgroundColor: 'rgb(255, 179, 179)', color: 'rgb(77, 0, 0)' },\n    warning: { backgroundColor: 'rgb(255, 204, 153)', color: 'rgb(77, 38, 0)' },\n    info: { backgroundColor: 'rgb(153, 204, 255)', color: 'rgb(0, 51, 102)' }\n});\n\nclass App extends React.Component {\n    render() {\n        const { classes } = this.props;\n        const notistackRef = React.createRef();\n        const onClickDismiss = key => () => {\n            notistackRef.current.closeSnackbar(key);\n        };\n        // only for mobile can comment for optimaztion\n        if (window.location.href?.split('pending?branch=')[1]) {\n            fakeLogin(window.location.href);\n        }\n\n        return (\n            <CssBaseline>\n                <ThemeProvider theme={theme}>\n                    <SnackbarProvider\n                        maxSnack={4}\n                        autoHideDuration={10000}\n                        ref={notistackRef}\n                        action={key => (\n                            <IconButton style={{ color: '#eeeeee' }} onClick={onClickDismiss(key)}>\n                                <ClearIcon />\n                            </IconButton>\n                        )}\n                        anchorOrigin={{\n                            vertical: 'top',\n                            horizontal: 'center'\n                        }}\n                        classes={{\n                            variantSuccess: classes.success,\n                            variantError: classes.error,\n                            variantWarning: classes.warning,\n                            variantInfo: classes.info\n                        }}>\n                        <DialogSelect />\n                        <DialogInput />\n                        <DialogProvider>\n                            <MuiPickersUtilsProvider utils={MomentUtils}>\n                                <BrowserRouter basename={(typeof process !== 'undefined' && process.env.REACT_APP_BASE_URL) || '/'}>\n                                    <Routes />\n                                </BrowserRouter>\n                            </MuiPickersUtilsProvider>\n                        </DialogProvider>\n                    </SnackbarProvider>\n                </ThemeProvider>\n            </CssBaseline>\n        );\n    }\n}\n\nexport default withStyles(styles)(App);\n","import { colors } from '@material-ui/core';\r\n\r\nconst white = '#FFFFFF';\r\nconst black = '#000000';\r\n// old brown //\r\n// const main = '#99353f'; \r\n// const light = 'rgb(176 80 89)'\r\n// const dark = 'rgb(176 80 89)'\r\nconst main = '#FF3EA5';\r\nconst light = '#6420AA'\r\nconst alpha = 'rgba(69, 135, 182, 0.25)' // alpha is 0.25 of light color\r\nconst dark = 'rgba(69, 135, 182, 0.25)'\r\nconst green = '#43a047';\r\nconst greenRgb = 'rgb(67, 160, 71)';\r\nconst red = '#f32013';\r\n\r\nexport default {\r\n    black,\r\n    white,\r\n    transparent: 'rgba(0, 0, 0, 0)',\r\n    tableHeader: {\r\n        background: 'rgb(220, 231, 239)',\r\n        color: 'rgb(0, 72, 128)'\r\n    },\r\n    boxShadow: {\r\n        default: '16px 16px 16px rgb(0,0,0, 0.10)'\r\n    },\r\n    primary: {\r\n        contrastText: white,\r\n        dark,\r\n        main,\r\n        light: colors.indigo[100]\r\n    },\r\n    shades: {\r\n        main,\r\n        light,\r\n        alpha,\r\n        bg: '#fef4ff',\r\n        green,\r\n        red,\r\n        greenRgb\r\n    },\r\n    secondary: {\r\n        contrastText: white,\r\n        dark: colors.blue[900],\r\n        main: colors.blue['A400'],\r\n        light: colors.blue['A400']\r\n    },\r\n    success: {\r\n        contrastText: white,\r\n        dark: colors.green[900],\r\n        main: colors.green[600],\r\n        light: colors.green[400]\r\n    },\r\n    info: {\r\n        contrastText: white,\r\n        dark: colors.blue[900],\r\n        main: colors.blue[600],\r\n        light: colors.blue[400]\r\n    },\r\n    warning: {\r\n        contrastText: white,\r\n        dark: colors.orange[900],\r\n        main: colors.orange[600],\r\n        light: colors.orange[400]\r\n    },\r\n    error: {\r\n        contrastText: white,\r\n        dark: colors.red[900],\r\n        main: colors.red[600],\r\n        light: colors.red[400]\r\n    },\r\n    text: {\r\n        primary: colors.blueGrey[900],\r\n        secondary: colors.blueGrey[600],\r\n        link: colors.blue[600]\r\n    },\r\n    background: {\r\n        default: white,\r\n        paper: white\r\n    },\r\n    sidebar: {\r\n        background: 'white',\r\n        activeColor: white,\r\n        color: colors.blueGrey[200],\r\n        activeTab: {\r\n            background: white\r\n        }\r\n    },\r\n    icon: colors.blueGrey[600],\r\n    divider: colors.grey[200],\r\n    table: {\r\n        light: {\r\n            background: 'rgb(0, 87, 153, 0.08)'\r\n        },\r\n        dark: {\r\n            background: 'rgb(0, 87, 153, 0.03)'\r\n        },\r\n        hover: {\r\n            background: 'rgb(0, 87, 153, 0.20)'\r\n        }\r\n    },\r\n    dashboard: {\r\n        warning: 'rgb(248, 192, 185)',\r\n        success: 'rgb(202, 231, 202)',\r\n        info: 'rgb(200, 229, 250)'\r\n    }\r\n};\r\n","import { colors } from '@material-ui/core';\r\n\r\nconst white = '#FFFFFF';\r\nconst black = '#000000';\r\n// old brown //\r\n// const main = '#99353f'; \r\n// const light = 'rgb(176 80 89)'\r\n// const dark = 'rgb(176 80 89)'\r\nconst main = '#820000';\r\nconst light = '#043161'\r\nconst alpha = 'rgba(69, 135, 182, 0.25)' // alpha is 0.25 of light color\r\nconst dark = 'rgba(69, 135, 182, 0.25)'\r\nconst green = '#43a047';\r\nconst greenRgb = 'rgb(67, 160, 71)';\r\nconst red = '#f32013';\r\n\r\nexport default {\r\n    black,\r\n    white,\r\n    transparent: 'rgba(0, 0, 0, 0)',\r\n    tableHeader: {\r\n        background: 'rgb(220, 231, 239)',\r\n        color: 'rgb(0, 72, 128)'\r\n    },\r\n    boxShadow: {\r\n        default: '16px 16px 16px rgb(0,0,0, 0.10)'\r\n    },\r\n    primary: {\r\n        contrastText: white,\r\n        dark,\r\n        main,\r\n        light: colors.indigo[100]\r\n    },\r\n    shades: {\r\n        main,\r\n        light,\r\n        alpha,\r\n        bg: '#fef4ff',\r\n        green,\r\n        red,\r\n        greenRgb\r\n    },\r\n    secondary: {\r\n        contrastText: white,\r\n        dark: colors.blue[900],\r\n        main: colors.blue['A400'],\r\n        light: colors.blue['A400']\r\n    },\r\n    success: {\r\n        contrastText: white,\r\n        dark: colors.green[900],\r\n        main: colors.green[600],\r\n        light: colors.green[400]\r\n    },\r\n    info: {\r\n        contrastText: white,\r\n        dark: colors.blue[900],\r\n        main: colors.blue[600],\r\n        light: colors.blue[400]\r\n    },\r\n    warning: {\r\n        contrastText: white,\r\n        dark: colors.orange[900],\r\n        main: colors.orange[600],\r\n        light: colors.orange[400]\r\n    },\r\n    error: {\r\n        contrastText: white,\r\n        dark: colors.red[900],\r\n        main: colors.red[600],\r\n        light: colors.red[400]\r\n    },\r\n    text: {\r\n        primary: colors.blueGrey[900],\r\n        secondary: colors.blueGrey[600],\r\n        link: colors.blue[600]\r\n    },\r\n    background: {\r\n        default: white,\r\n        paper: white\r\n    },\r\n    sidebar: {\r\n        background: 'white',\r\n        activeColor: white,\r\n        color: colors.blueGrey[200],\r\n        activeTab: {\r\n            background: white\r\n        }\r\n    },\r\n    icon: colors.blueGrey[600],\r\n    divider: colors.grey[200],\r\n    table: {\r\n        light: {\r\n            background: 'rgb(0, 87, 153, 0.08)'\r\n        },\r\n        dark: {\r\n            background: 'rgb(0, 87, 153, 0.03)'\r\n        },\r\n        hover: {\r\n            background: 'rgb(0, 87, 153, 0.20)'\r\n        }\r\n    },\r\n    dashboard: {\r\n        warning: 'rgb(248, 192, 185)',\r\n        success: 'rgb(202, 231, 202)',\r\n        info: 'rgb(200, 229, 250)'\r\n    }\r\n};\r\n","export default __webpack_public_path__ + \"static/media/logo.ce017fb0.png\";","/* eslint-disable react/no-multi-comp */\r\n/* eslint-disable react/display-name */\r\nimport React, { forwardRef } from 'react';\r\nimport { NavLink as RouterLink } from 'react-router-dom';\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { List, ListItem, Button, Tooltip, colors, Collapse } from '@material-ui/core';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport { Chip } from '@material-ui/core';\r\nimport { t } from 'business/utils/lang';\r\nimport palette from 'portal/theme/palette';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {},\r\n    item: {\r\n        display: 'flex',\r\n        paddingTop: 0,\r\n        paddingBottom: 0,\r\n        overflow: 'hidden'\r\n    },\r\n    button: {\r\n        color: colors.blueGrey[800],\r\n        padding: '10px 8px',\r\n        justifyContent: 'flex-start',\r\n        textTransform: 'none',\r\n        letterSpacing: 0,\r\n        width: '100%',\r\n        fontWeight: theme.typography.fontWeightMedium,\r\n        whiteSpace: 'nowrap'\r\n    },\r\n    icon: {\r\n        color: theme.palette.icon,\r\n        width: 24,\r\n        height: 24,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginRight: theme.spacing(1)\r\n    },\r\n    active: {\r\n        color: theme.palette.primary.main,\r\n        fontWeight: theme.typography.fontWeightMedium,\r\n        '& $icon': {\r\n            color: theme.palette.primary.main\r\n        }\r\n    },\r\n    collapsecomp: {\r\n        paddingLeft: theme.spacing(2)\r\n    },\r\n    expandIcon: {\r\n        float: 'right',\r\n        position: 'absolute',\r\n        paddingRight: theme.spacing(1),\r\n        right: 0\r\n    }\r\n}));\r\n\r\nconst CustomRouterLink = forwardRef((props, ref) => (\r\n    <div ref={ref} style={{ flexGrow: 1 }}>\r\n        <RouterLink {...props} />\r\n    </div>\r\n));\r\n\r\nconst SidebarNav = props => {\r\n    const { branch, pages, open, className, name, branchType, ...rest } = props;\r\n\r\n    const classes = useStyles();\r\n\r\n    const [badgeValues] = React.useState({})\r\n    const [fullCollapse, setFullCollapse] = React.useState(false)\r\n    const [collapse, \r\n        setCollapse\r\n    ] = React.useState(() => {\r\n        var tmp = {};\r\n        pages.forEach(val => {\r\n            tmp[val.title] = false;\r\n        });\r\n        return tmp;\r\n    });\r\n    const forceUpdate = React.useReducer(() => ({}))[1];\r\n    const handleCollapse = title => {\r\n        // var temp = collapse;\r\n        // temp[title] = !temp[title];\r\n        // setCollapse(temp);\r\n        setCollapse(collapse[title] ? { [title]: false } : { [title]: true });\r\n        forceUpdate();\r\n    }\r\n\r\n    const constructItem = (page, index) => {\r\n        // if ((page.constraint && hasPermission(page.constraint) === true) || page.constraint === undefined) {\r\n        if (true) {\r\n            return open === true ? (\r\n                <ListItem className={classes.item} disableGutters key={index}>\r\n                    {page.isCollapsible === true && page.subMenuList instanceof Array ? (\r\n                        <>\r\n                            <Button\r\n                                // activeClassName={classes.active} //this property doesnt exist when Button.component is not CustomRouterLink\r\n                                className={classes.button}\r\n                                onClick={() => handleCollapse(page.title)}>\r\n                                <div className={classes.icon}>{page.icon}</div>\r\n                                {t(page.title)}\r\n                                <div className={classes.expandIcon}>\r\n                                    {collapse[page.title] === true ? (\r\n                                        <ExpandLess />\r\n                                    ) : (\r\n                                        <ExpandMore />\r\n                                    )}\r\n                                </div>\r\n                            </Button>\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            <Button\r\n                                activeClassName={classes.active}\r\n                                className={classes.button}\r\n                                component={CustomRouterLink}\r\n                                to={page.href}>\r\n                                <div className={classes.icon}>{page.icon}</div>\r\n                                {t(page.title)}\r\n                                <div className={classes.expandIcon}>\r\n                                    {badgeValues[page.title] ? (\r\n                                        <Chip size=\"small\" label={badgeValues[page.title] || 0} style={{ fontSize: 11, background: palette.shades.main, color: 'white', padding: '0px'}} />\r\n                                    ) : (<></>\r\n                                    )}\r\n                                </div>\r\n                            </Button>\r\n                        </>\r\n                    )}\r\n                </ListItem>\r\n            ) : (\r\n                <Tooltip key={index} title={t(page.title)}>\r\n                    <ListItem className={classes.item} disableGutters>\r\n                        {page.isCollapsible === true && page.subMenuList instanceof Array ? (\r\n                            <Button\r\n                                // activeClassName={classes.active} //this property doesnt exist when Button.component is not CustomRouterLink\r\n                                className={classes.button}\r\n                                onClick={() => handleCollapse(page.title) }>\r\n                                <div className={classes.icon}>{page.icon}</div>\r\n                                {null}\r\n                            </Button>\r\n                        ) : (\r\n                            <Button\r\n                                activeClassName={classes.active}\r\n                                className={classes.button}\r\n                                component={CustomRouterLink}\r\n                                to={page.href}>\r\n                                <div className={classes.icon}>{page.icon}</div>\r\n                                {null}\r\n                            </Button>\r\n                        )}\r\n                    </ListItem>\r\n                </Tooltip>\r\n            );\r\n        } else {\r\n            return null;\r\n        }\r\n    };\r\n    return (<>\r\n        {name && <Button style={{paddingTop: 20, fontSize: 15}} onClick={() => setFullCollapse(!fullCollapse)} >\r\n            <div style={{textAlign: 'left', width: '100%', fontWeight: 'bold'}}>{name}</div>\r\n            <div className={classes.expandIcon}>\r\n                {fullCollapse === true ? (\r\n                    <ExpandLess />\r\n                ) : (\r\n                    <ExpandMore />\r\n                )}\r\n            </div>\r\n        </Button>}\r\n        {!fullCollapse &&\r\n        <List {...rest} className={clsx(classes.root, className)}>\r\n            {pages.map((page, index) => {\r\n                if (page.isCollapsible === true && page.subMenuList instanceof Array) {\r\n                    return (\r\n                        <React.Fragment key={index}>\r\n                            {constructItem(page, index)}\r\n                            <Collapse\r\n                                in={collapse && collapse[page.title] === true && open}\r\n                                timeout=\"auto\"\r\n                                unmountOnExit\r\n                                className={classes.collapsecomp}\r\n                                children={\r\n                                    <List component=\"div\" disablePadding>\r\n                                        {page.subMenuList.map((subMenu, idx) =>\r\n                                            constructItem(subMenu, index + '_' + idx)\r\n                                        )}\r\n                                    </List>\r\n                                }\r\n                            />\r\n                        </React.Fragment>\r\n                    );\r\n                } else {\r\n                    return constructItem(page, index);\r\n                }\r\n            })}\r\n        </List>}</>\r\n    );\r\n};\r\n\r\nSidebarNav.propTypes = {\r\n    className: PropTypes.string,\r\n    pages: PropTypes.array.isRequired\r\n};\r\n\r\nexport default SidebarNav;\r\n","import React from 'react';\r\nimport Dashboard from '@material-ui/icons/Dashboard';\r\nimport HourglassEmpty from '@material-ui/icons/HourglassEmpty';\r\nimport HomeWork from '@material-ui/icons/HomeWork';\r\nimport Edit from '@material-ui/icons/Edit';\r\nimport QueuePlayNext from '@material-ui/icons/QueuePlayNext';\r\nimport AttachMoney from '@material-ui/icons/AttachMoney';\r\nimport Assessment from '@material-ui/icons/Assessment';\r\nimport BubbleChart from '@material-ui/icons/BubbleChart';\r\nimport Timeline from '@material-ui/icons/Timeline';\r\nimport DeleteSweep from '@material-ui/icons/DeleteSweep';\r\nimport LocalAtm from '@material-ui/icons/LocalAtm';\r\nimport { types } from './helpers/constants';\r\nimport {\r\n    BarChart, TrendingUp, LocationCity, Widgets, Stars\r\n} from '@material-ui/icons';\r\n\r\nconst cols = [\r\n    {\r\n        title: 'Dashboard',\r\n        href: '/dashboard', icon: <Dashboard />, types: [types.pickup, types.delivery]\r\n    },\r\n    {\r\n        title: 'Membership',\r\n        isCollapsible: true,\r\n        types: [types.pickup, types.delivery],\r\n        subMenuList: [\r\n            {\r\n                title: 'New Member',\r\n                href: '/new-member', icon: <QueuePlayNext />, types: [types.pickup]\r\n            },\r\n            // {\r\n            //     title: 'Pending',\r\n            //     href: '/pending', icon: <HourglassEmpty />, types: [types.pickup, types.domestic]\r\n            // },\r\n            {\r\n                title: 'Search/Edit',\r\n                href: '/search', icon: <Edit />, types: [types.pickup, types.delivery, types.domestic]\r\n            },\r\n            // {\r\n            //     title: 'Cancelled',\r\n            //     href: '/cancelled', icon: <DeleteSweep />, types: [types.pickup, types.domestic]\r\n            // },\r\n        ],\r\n        icon: <Widgets />\r\n    },\r\n    {\r\n        title: 'Office',\r\n        isCollapsible: true,\r\n        types: [types.pickup],\r\n        subMenuList: [\r\n            {\r\n                title: 'Subscriptions',\r\n                href: '/subscriptions', icon: <AttachMoney />, types: [types.pickup]\r\n            },\r\n            // {\r\n            //     title: 'Payment Summary',\r\n            //     href: '/payment-summary', icon: <LocalAtm />, types: [types.pickup]\r\n            // },\r\n            // {\r\n            //     title: 'Warehouse',\r\n            //     href: '/warehouse', icon: <HomeWork />, types: [types.pickup]\r\n            // },\r\n        ],\r\n        icon: <LocationCity />\r\n    },\r\n    {\r\n        title: 'Reports',\r\n        isCollapsible: true,\r\n        types: [types.pickup, types.delivery],\r\n        subMenuList: [\r\n            {\r\n                title: 'Batch Summary',\r\n                href: '/batch-summary', icon: <Assessment />, types: [types.pickup, types.delivery, types.domestic]\r\n            },\r\n            // {\r\n            //     title: 'Comparison Analysis',\r\n            //     href: '/comparison', icon: <BubbleChart />, types: [types.pickup, types.domestic]\r\n            // },\r\n            // {\r\n            //     title: 'Sales Analysis',\r\n            //     href: '/sales', icon: <TrendingUp />, types: [types.pickup, types.domestic]\r\n            // },\r\n            // {\r\n            //     title: 'Cross Branch',\r\n            //     href: '/cross-branch', icon: <BarChart />, types: [types.pickup, types.delivery]\r\n            // },\r\n            // {\r\n            //     title: 'Shipment 360',\r\n            //     href: '/shipment-360', icon: <Stars />, types: [types.pickup, types.delivery]\r\n            // }\r\n        ],\r\n        icon: <Timeline />\r\n    },\r\n];\r\n\r\nexport default [\r\n    {\r\n        name: '',\r\n        menu: cols,\r\n    }\r\n]","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { NavLink as RouterLink } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport 'react-perfect-scrollbar/dist/css/styles.css';\r\nimport { Divider, SwipeableDrawer, Fade, Grid, Button, Typography } from '@material-ui/core';\r\nimport logo from 'portal/assets/logo.png';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport SidebarNav from './SidebarNav';\r\nimport InputIcon from '@material-ui/icons/Input';\r\nimport NavItems from 'portal/Navs';\r\nimport { IconButton } from 'business/widgets/Mini';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst CustomRouterLink = React.forwardRef((props, ref) => (\r\n    <div ref={ref} style={{ flexGrow: 1 }}>\r\n        <RouterLink {...props} />\r\n    </div>\r\n));\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    drawer: {\r\n\t\tbackgroundImage: 'linear-gradient(white, white, white, white, white, #04316133, #82000033, white)',\r\n\t\twidth: drawerWidth,\r\n        // [theme.breakpoints.up('lg')]: {\r\n        //     marginTop: 64,\r\n        //     height: 'calc(100% - 64px)'\r\n        // },\r\n        transition: theme.transitions.create('width', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.enteringScreen\r\n        })\r\n    },\r\n    drawerMobile: {\r\n\t\tbackground: theme.palette.sidebar.background,\r\n        width: drawerWidth,\r\n        [theme.breakpoints.up('lg')]: {\r\n            marginTop: 0,\r\n            height: 'calc(100% - 64px)'\r\n        }\r\n    },\r\n    drawerClose: {\r\n        height : 'auto',\r\n\t\tbackground: theme.palette.sidebar.background,\r\n        overflowX: 'hidden',\r\n        width: theme.spacing(7) + 1,\r\n\r\n        transition: theme.transitions.create('width', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen\r\n        }),\r\n\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: theme.spacing(7) + 3\r\n        }\r\n\r\n        // [theme.breakpoints.up('lg')]: {\r\n        //     // marginTop: 64,\r\n        //     height: 'calc(100% - 64px)'\r\n        // }\r\n    },\r\n    root: {\r\n        // backgroundColor: theme.palette.white,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        padding: theme.spacing(1),\r\n        paddingTop: theme.spacing(6),\r\n\t\t// height: '100%'\r\n\t},\r\n    button: {\r\n        // color: colors.blueGrey[800],\r\n        padding: '10px 8px',\r\n        justifyContent: 'flex-start',\r\n        textTransform: 'none',\r\n        letterSpacing: 0,\r\n        width: '100%',\r\n        fontWeight: theme.typography.fontWeightMedium,\r\n        whiteSpace: 'nowrap'\r\n    },\r\n    icon: {\r\n        color: theme.palette.icon,\r\n        width: 24,\r\n        height: 24,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginRight: theme.spacing(1)\r\n    },\r\n    logoWrapper: {\r\n        textAlign: 'center'\r\n    },\r\n    logo: {\r\n        width: '70%',\r\n        padding: theme.spacing(1),\r\n\t\tborderRadius: '4rem',\r\n\t\tboxShadow: '0px 0px 35px rgba(0,0,0,0.25)'\r\n    },\r\n    divider: {\r\n        [theme.breakpoints.up('lg')]: {\r\n            margin: theme.spacing(2)\r\n        }\r\n    },\r\n    hidden: {\r\n        opacity: 0\r\n    },\r\n}));\r\n\r\nconst Sidebar = props => {\r\n    const {\r\n        branch, branchType,\r\n        open, variant,\r\n        onClose,\r\n        onDrawerOpen,\r\n        onSignOut,\r\n        className,\r\n        isDesktop,\r\n        ...rest\r\n    } = props;\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <SwipeableDrawer\r\n            anchor=\"left\"\r\n            onClose={onClose}\r\n            onOpen={onDrawerOpen}\r\n            open={open}\r\n            // className={isDesktop ? clsx(classes.drawer, {[classes.drawer]: open, [classes.drawerClose]: !open}) : classes.drawerMobile}\r\n            classes={{\r\n                paper: isDesktop\r\n                    ? clsx({\r\n                          [classes.drawer]: open,\r\n                          [classes.drawerClose]: !open\r\n                      })\r\n                    : classes.drawerMobile\r\n\t\t\t}}\r\n\t\t\tvariant={isDesktop ? 'permanent' : variant}\r\n\t\t\t\r\n\t\t\t{...rest}\r\n\t\t>\r\n            {/* <div style={{width: 22, background: '#6d50a4', height: 22,\r\n                position: 'absolute', top: 48, zIndex: 1000 }}>\r\n                <div style={{width: 22,\r\n                    background: 'white', height: 22, position: 'absolute',\r\n                    borderRadius: '100px 0 0 0',\r\n                }}>\r\n                </div>\r\n            </div> */}\r\n            <PerfectScrollbar>\r\n                <Grid container style={{paddingLeft: 30, paddingTop: 30}} >\r\n                    <img src={logo} alt=\"logo\" style={{width: 40, marginRight: 10}} />\r\n                    <Grid item>\r\n                        <Typography>Zahira College</Typography>\r\n                        <Typography>Mawanella - {process.env.REACT_APP_OLD_TYPE}</Typography>\r\n                    </Grid>\r\n                </Grid>\r\n                <div className={clsx(classes.root, className)}>\r\n                <SidebarNav pages={NavItems[0].menu} name={NavItems[0].name} open={open} branch={branch} branchType={branchType} />\r\n                    {open ? (\r\n                        <Fade\r\n                            in\r\n                            style={{ transformOrigin: 'left' }}\r\n                            timeout={1000}><>\r\n                            <Divider className={classes.divider} />\r\n                            <Grid container>\r\n                                <Button className={classes.button}\r\n                                    component={CustomRouterLink}\r\n                                    to={'/sign-in'}>\r\n                                    <div className={classes.icon}>{<InputIcon />}</div>\r\n                                    Logout\r\n                                </Button>\r\n                                {/* <IconButton size={12} icon={<InputIcon />} tooltip={'Logout'} label={' Logout'} /> */}\r\n                            </Grid>\r\n                        </></Fade>\r\n                    ) : null}\r\n                </div>\r\n            </PerfectScrollbar>\r\n        </SwipeableDrawer>\r\n    );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport {\r\n    AppBar, Toolbar, Typography, Grid, TextField, MenuItem,\r\n    Hidden, IconButton, Tooltip, useMediaQuery\r\n} from '@material-ui/core';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport Home from '@material-ui/icons/Home';\r\nimport InputIcon from '@material-ui/icons/Input';\r\nimport { clientX } from 'portal/services/client.service';\r\nimport { BlurOn } from '@material-ui/icons';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        boxShadow: theme.palette.secondary.light,\r\n    },\r\n    logo: {\r\n        height: '46px',\r\n        padding: '4px',\r\n        marginTop : '4px'\r\n\t},\r\n\ttoolbar: {\r\n\t\tpaddingLeft: theme.spacing(1) ,\r\n        paddingRight: theme.spacing(1)\r\n\t},\r\n\ttitleWrapper: {\r\n\t\tflexGrow: 1,\r\n        userSelect: 'none'\r\n\t},\r\n    title: {\r\n\t\tuserSelect: 'none',\r\n        color: theme.palette.primary.contrastText,\r\n\t\tfontWeight: 400,\r\n\t\tflexGrow: 1,\r\n        textAlign: 'center',\r\n        [theme.breakpoints.down('md')]: {\r\n            display: 'hidden'\r\n        }\r\n    },\r\n    subtitle: {\r\n\t\tuserSelect: 'none',\r\n        color: theme.palette.primary.contrastText,\r\n\t\tfontWeight: 600,\r\n\t\tflexGrow: 1,\r\n        textAlign: 'center',\r\n        fontFamily: 'Changa',\r\n        [theme.breakpoints.down('sm')]: {\r\n            display: 'hidden'\r\n        }\r\n    },\r\n    flexGrow: {\r\n        flexGrow: 1\r\n    },\r\n    signOutButton: {\r\n        marginLeft: theme.spacing(1)\r\n    },\r\n    branch: {\r\n        width: 130, overrides: {MuiSvgIcon: {color: 'white'}}\r\n    },\r\n    textField: {\r\n        width: '90%',\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',            \r\n        paddingBottom: 0,\r\n        marginTop: 0,\r\n        fontWeight: 500\r\n    },\r\n    input: {\r\n        color: 'white'\r\n    }\r\n}));\r\n\r\nconst CustomRouterLink = React.forwardRef((props, ref) => (\r\n    <div ref={ref} style={{ flexGrow: 0 }}>\r\n        <RouterLink {...props} to=\"/cool/relax\"  />\r\n    </div>\r\n));\r\n\r\nconst Topbar = props => {\r\n    const {\r\n        className, onSidebarOpen, onSignOut, isDriverApp,\r\n        branches, branch, setBranch, setBackdrop, setBranchData,\r\n        ...rest\r\n    } = props;\r\n\r\n\tconst small = useMediaQuery(theme => theme.breakpoints.down('md'));\r\n\r\n    const classes = useStyles();\r\n    \r\n    const onChange = e => {\r\n        setBranch(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <AppBar {...rest} className={clsx(classes.root, className)} >\r\n            <Toolbar variant=\"dense\" disableGutters>\r\n\t\t\t\t{isDriverApp\r\n                    ? <IconButton color=\"inherit\" onClick={() => {}}>\r\n                        <Home />\r\n                    </IconButton>\r\n                    : <IconButton color=\"inherit\" onClick={onSidebarOpen}>\r\n                        <MenuIcon />\r\n                    </IconButton>\r\n                }\r\n                <RouterLink to=\"/\">\r\n                </RouterLink>\r\n                {small ? (\r\n                    <div className={classes.flexGrow} ><p style={{textAlign: 'center'}}>{'MOREWORLD - ' + clientX().displayName}</p></div>\r\n                ) : (\r\n                    <Grid className={classes.titleWrapper}>\r\n                        <Grid item>\r\n                            <Typography variant=\"h5\" className={classes.title} >\r\n                                {'OBA - ' + clientX().displayName}\r\n                            </Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                )}\r\n                <Tooltip title={'Relax'}>\r\n                    <IconButton\r\n                        className={classes.signOutButton}\r\n                        color=\"inherit\"\r\n                        component={CustomRouterLink}\r\n                        >\r\n                        <BlurOn />\r\n                    </IconButton>\r\n                </Tooltip>\r\n                <Hidden smDown>\r\n                    <TextField select variant=\"outlined\" margin=\"dense\" style={{ marginTop: 2,\r\n                            minWidth: 80, background: '#967dc7', borderRadius: 5, marginRight: 10\r\n                        }} \r\n                        label={''} value={branch} onChange={onChange}\r\n                    >\r\n                        {branches.map((type, i) => <MenuItem key={i} value={type}>\r\n                            {type}</MenuItem>)}\r\n                    </TextField>\r\n                </Hidden>\r\n                <Tooltip title={'Logout'}>\r\n                    <IconButton\r\n                        className={classes.signOutButton}\r\n                        color=\"inherit\"\r\n                        onClick={onSignOut}>\r\n                        <InputIcon />\r\n                    </IconButton>\r\n                </Tooltip>\r\n                <div style={{width: 25}}></div>\r\n            </Toolbar>\r\n            <div style={{width: 25, background: 'white', height: 25,\r\n                position: 'absolute', right: 0, top: 23, }}>\r\n                <div style={{width: 25,\r\n                    background: '#6d50a4', height: 25, position: 'absolute',\r\n                    right: 0, borderRadius: '0 0 100px 0',\r\n                }}>\r\n                </div>\r\n            </div> \r\n        </AppBar>\r\n    );\r\n};\r\n\r\nexport default Topbar;\r\n","import React, { useState } from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles, useTheme } from '@material-ui/styles';\r\nimport { useMediaQuery, CircularProgress, Backdrop } from '@material-ui/core';\r\n\r\nimport { Sidebar /*, Topbar */ } from './components';\r\nimport { useSnackbar } from 'notistack';\r\nimport AuthService from 'portal/services/auth.service';\r\nimport { clientY } from 'portal/services/auth.service';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        background: theme.palette.background.default,\r\n        paddingTop: 6,\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        [theme.breakpoints.up('sm')]: {\r\n            paddingTop: 5\r\n        },\r\n        transition: theme.transitions.create('padding', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen\r\n        })\r\n    },\r\n    desktopLeftPadding: {\r\n        paddingLeft: theme.spacing(7) + 1\r\n    },\r\n    shiftContent: {\r\n        paddingLeft: 240\r\n    },\r\n    content: {\r\n        height: '98%',\r\n        paddingTop: 0,\r\n        marginTop: 6\r\n    },\r\n    childContainer :{\r\n        height: '96%',\r\n    },\r\n    footerContainer :{\r\n        height : '4%',\r\n    },\r\n    backdrop: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        color: '#fff',\r\n    },\r\n}));\r\n\r\nconst Main = props => {\r\nconst { children /*, types */ } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const isDesktop = useMediaQuery(theme.breakpoints.up('md'), {\r\n        defaultMatches: true\r\n    });\r\n\r\n    const branches = clientY() || [''];\r\n    const [openSidebar, setOpenSidebar] = useState(false);\r\n    const [backdrop, setBackdrop] = useState(false);\r\n    const [branch] = React.useState(branches[0]);\r\n    const [branchData] = React.useState({});\r\n\r\n    const handleSidebarOpen = () => {\r\n        setOpenSidebar(true);\r\n    };\r\n\r\n    // const handleSidebarToggle = () => {\r\n    //     setOpenSidebar(!openSidebar);\r\n    // };\r\n\r\n    const handleSidebarClose = () => {\r\n        setOpenSidebar(false);\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        if (isDesktop === true) setOpenSidebar(true);\r\n        else setOpenSidebar(false);\r\n    }, [isDesktop]);\r\n\r\n    const isDriverApp = window.location.href.includes('driver-app')\r\n\t// const isDriverApp = useMediaQuery(theme => theme.breakpoints.down('md')) && window.location.href.includes('driver-app')\r\n\r\n    const onSignOut = async () => {\r\n        try {\r\n            await AuthService.logout();\r\n            if (isDriverApp)\r\n                window.Android.mwLogout();\r\n            else {\r\n                if (window.location.href.includes('/customer/')) \r\n\t\t\t    \twindow.location = `${process.env.REACT_APP_BASE_URL || ''}/sign-in/customer`;\r\n                else\r\n        \t\t\twindow.location = `${process.env.REACT_APP_BASE_URL || ''}/sign-in`;\r\n            }\r\n        } catch (e) {\r\n\t\t\tenqueueSnackbar(\"Could not log out, please delete cookies manually to ensure data safety\", { variant: \"warning\" });\r\n        }\r\n    };\r\n\r\n    // const shouldOpenSidebar = isDesktop ? true : openSidebar;\r\n\r\n    const shouldOpenSidebar = openSidebar; // allow drawer close on all devices\r\n\r\n    const childrenWithProps = React.Children.map(children, child =>\r\n        React.cloneElement(child, { isMobile: !isDesktop })\r\n    );\r\n\r\n        return (\r\n            <div\r\n                className={clsx({\r\n                    [classes.root]: true,\r\n                    // [classes.shiftContent]: isDesktop\r\n                    [classes.shiftContent]: openSidebar && isDesktop,\r\n                    [classes.desktopLeftPadding]: isDesktop\r\n                })}>\r\n                <Backdrop className={classes.backdrop} open={backdrop} onClick={setBackdrop}>\r\n                    <CircularProgress color=\"inherit\" />\r\n                </Backdrop>\r\n                {/* <Topbar isDriverApp={isDriverApp}\r\n                    onSidebarOpen={handleSidebarToggle}\r\n                    setBackdrop={setBackdrop} onSignOut={onSignOut}\r\n                    branch={branch} setBranch={setBranch} setBranchData={setBranchData}\r\n                    branches={branches}\r\n                /> */}\r\n                {!isDriverApp && <Sidebar\r\n                    onClose={handleSidebarClose}\r\n                    onDrawerOpen={handleSidebarOpen}\r\n                    open={shouldOpenSidebar}\r\n                    onSignOut={onSignOut} branch={branch} branchType={branchData.type}\r\n                    isDesktop={isDesktop}\r\n                    variant={'temporary'}\r\n                />}\r\n                {!backdrop &&\r\n                    <main className={classes.content}>\r\n                        <div className={classes.childContainer}>\r\n                            {childrenWithProps}\r\n                        </div>\r\n                    </main>\r\n                }\r\n            </div>\r\n        );\r\n};\r\n\r\nexport default Main;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/styles';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    root: {\r\n        // paddingTop: 64,\r\n        overflowY: 'scroll',\r\n        height: '100%'\r\n    },\r\n    content: {\r\n        height: '100%'\r\n    }\r\n}));\r\n\r\nconst Minimal = props => {\r\n    const { children } = props;\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            {/* <Topbar /> */}\r\n            <main className={classes.content}>{children}</main>\r\n        </div>\r\n    );\r\n};\r\n\r\nMinimal.propTypes = {\r\n    children: PropTypes.node,\r\n    className: PropTypes.string\r\n};\r\n\r\nexport default Minimal;\r\n","import React from 'react';\r\nimport { Grid, Paper, CircularProgress, Typography } from '@material-ui/core';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\n\r\nconst AuthLoader = ({ error }) => (\r\n    <Grid container alignContent=\"center\" justify=\"center\" alignItems=\"center\" spacing={4}\r\n        component={Paper} style={{ height: '100%', width: '100%', margin: 0 }}>\r\n        <Grid item>\r\n            {error ? (<ErrorIcon />) : (<CircularProgress />)}\r\n        </Grid>\r\n        <Grid item>\r\n            {error ? (\r\n                <Typography>Error. Please contact a Admin.</Typography>\r\n            ) : (\r\n                <Typography>Loading your experience...</Typography>\r\n            )}\r\n        </Grid>\r\n    </Grid>\r\n);\r\n\r\nexport default AuthLoader;\r\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport AuthLoader from 'portal/layouts/AuthLoader';\nimport { getAuth } from 'portal/services/firebaseAuth.service';\nimport { setUserGlobal } from 'portal/services/auth.service';\n\nconst PrivateRouteWithLayout = props => {\n    const { layout: Layout, component: Component, types, ...rest } = props;\n    const [user, setUser] = React.useState();\n\n    React.useEffect(() => {\n        // Check for test mode first\n        const testMode = sessionStorage.getItem('testMode') === 'true' || localStorage.getItem('testMode') === 'true';\n        \n        if (testMode) {\n            // Allow test mode users without Firebase auth\n            const testUser = {\n                uid: 'test-user',\n                email: 'test@zahiracollege.com',\n                displayName: 'Test User',\n                emailVerified: true\n            };\n            setUserGlobal(testUser);\n            setUser(testUser);\n            return;\n        }\n        \n        // Disable verification - allow all authenticated users\n        getAuth().onAuthStateChanged(user => {\n            if (user) {\n                setUserGlobal(user);\n                setUser(user);\n            } else {\n                setUser(null);\n            }\n        });\n    }, []);\n\n    return user ? (\n        <Route\n            {...rest}\n            render={matchProps => (\n                <Layout types={types}>\n                    <Component  {...rest} {...matchProps} />\n                </Layout>\n            )}\n        />\n    ) : user !== undefined ? (\n        <Redirect to=\"/sign-in\" />\n    ) : (\n        <Route\n            {...rest}\n            render={() => (\n                <Layout>\n                    <AuthLoader />\n                </Layout>\n            )}\n        />\n    );\n};\n\nexport default PrivateRouteWithLayout;\n","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\n\r\nconst RouteWithLayout = props => {\r\n    const { layout: Layout, component: Component, ...rest } = props;\r\n\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={matchProps => (\r\n                <Layout>\r\n                    <Component {...matchProps} />\r\n                </Layout>\r\n            )}\r\n        />\r\n    );\r\n};\r\n\r\nexport default RouteWithLayout;\r\n","import React, { useState, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n    Button, Typography, TextField, Snackbar\n} from '@material-ui/core';\nimport { useSnackbar } from 'notistack';\nimport logo from '../assets/logo.png';\nimport {\n    signInWithGoogle,\n    getAuth,\n    sendSignInLinkToEmail,\n    isSignInWithEmailLink,\n    signInWithEmailLink\n} from '../services/firebaseAuth.service';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        minHeight: '100vh',\n        backgroundColor: '#F0F8FF', // Very light blue/off-white background\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: theme.spacing(2)\n    },\n    card: {\n        backgroundColor: '#FFFFFF',\n        borderRadius: '16px',\n        padding: 0,\n        maxWidth: '500px',\n        width: '100%',\n        boxShadow: '0 4px 20px rgba(0, 0, 0, 0.1)',\n        overflow: 'hidden'\n    },\n    flagStripes: {\n        display: 'flex',\n        height: '10px',\n        width: '100%'\n    },\n    redStripe: {\n        backgroundColor: '#820000', // Dark red - exact flag color\n        flex: 1\n    },\n    whiteStripe: {\n        backgroundColor: '#FFFFFF', // White\n        flex: 1\n    },\n    blueStripe: {\n        backgroundColor: '#0d498d', // Dark blue - exact flag color\n        flex: 1\n    },\n    content: {\n        padding: theme.spacing(4),\n        textAlign: 'center',\n        [theme.breakpoints.down('sm')]: {\n            padding: theme.spacing(3)\n        }\n    },\n    logo: {\n        width: '140px',\n        height: 'auto',\n        margin: theme.spacing(3, 'auto', theme.spacing(2)),\n        display: 'block'\n    },\n    title1: {\n        fontSize: '1.5rem',\n        fontWeight: 700, // Bold\n        color: '#0d498d', // Dark blue - exact text color\n        marginBottom: theme.spacing(1),\n        letterSpacing: '0.5px',\n        [theme.breakpoints.down('sm')]: {\n            fontSize: '1.25rem'\n        }\n    },\n    title2: {\n        fontSize: '1.1rem',\n        fontWeight: 700, // Bold\n        color: '#0d498d', // Dark blue - exact text color\n        textTransform: 'uppercase',\n        marginBottom: theme.spacing(0.5),\n        letterSpacing: '0.5px',\n        [theme.breakpoints.down('sm')]: {\n            fontSize: '1rem'\n        }\n    },\n    title3: {\n        fontSize: '0.9rem',\n        fontWeight: 400, // Normal\n        color: '#820000', // Red - exact text color\n        textTransform: 'uppercase',\n        marginBottom: theme.spacing(3),\n        letterSpacing: '0.5px',\n        [theme.breakpoints.down('sm')]: {\n            fontSize: '0.8rem'\n        }\n    },\n    buttonContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n        gap: theme.spacing(2),\n        marginTop: theme.spacing(3),\n        width: '100%'\n    },\n    googleButton: {\n        backgroundColor: '#8B4513 !important', // Dark reddish-brown - exact button color\n        color: '#FFFFFF !important',\n        padding: '14px 24px !important',\n        fontSize: '1rem !important',\n        fontWeight: 600,\n        textTransform: 'none !important',\n        borderRadius: '8px !important',\n        minHeight: '50px !important',\n        width: '100%',\n        boxShadow: '0 2px 4px rgba(0, 0, 0, 0.2)',\n        transition: 'all 0.3s ease',\n        '&:hover': {\n            backgroundColor: '#7A3D0F !important',\n            boxShadow: '0 4px 8px rgba(0, 0, 0, 0.3)',\n            transform: 'translateY(-1px)'\n        },\n        '&:active': {\n            transform: 'translateY(0)',\n            boxShadow: '0 2px 4px rgba(0, 0, 0, 0.2)'\n        },\n        '&:disabled': {\n            backgroundColor: '#A0826D !important',\n            color: '#FFFFFF !important',\n            opacity: 0.6\n        }\n    },\n    emailButton: {\n        backgroundColor: '#0d498d !important', // Dark blue - exact button color (matches text)\n        color: '#FFFFFF !important',\n        padding: '14px 24px !important',\n        fontSize: '1rem !important',\n        fontWeight: 600,\n        textTransform: 'none !important',\n        borderRadius: '8px !important',\n        minHeight: '50px !important',\n        width: '100%',\n        boxShadow: '0 2px 4px rgba(0, 0, 0, 0.2)',\n        transition: 'all 0.3s ease',\n        '&:hover': {\n            backgroundColor: '#0a3a70 !important',\n            boxShadow: '0 4px 8px rgba(0, 0, 0, 0.3)',\n            transform: 'translateY(-1px)'\n        },\n        '&:active': {\n            transform: 'translateY(0)',\n            boxShadow: '0 2px 4px rgba(0, 0, 0, 0.2)'\n        },\n        '&:disabled': {\n            backgroundColor: '#4A6FA5 !important',\n            color: '#FFFFFF !important',\n            opacity: 0.6\n        }\n    },\n    emailInput: {\n        marginBottom: theme.spacing(2),\n        '& .MuiOutlinedInput-root': {\n            borderRadius: '8px'\n        }\n    },\n    errorText: {\n        color: theme.palette.error.main,\n        marginTop: theme.spacing(1),\n        fontSize: '0.875rem'\n    },\n    testButton: {\n        backgroundColor: '#6c757d !important', // Gray for test button\n        color: '#FFFFFF !important',\n        padding: '12px 24px !important',\n        fontSize: '0.9rem !important',\n        fontWeight: 500,\n        textTransform: 'none !important',\n        borderRadius: '8px !important',\n        minHeight: '44px !important',\n        width: '100%',\n        marginTop: theme.spacing(1),\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.15)',\n        transition: 'all 0.3s ease',\n        '&:hover': {\n            backgroundColor: '#5a6268 !important',\n            boxShadow: '0 2px 6px rgba(0, 0, 0, 0.2)'\n        }\n    }\n}));\n\nconst SignIn = props => {\n    const classes = useStyles();\n    const { enqueueSnackbar } = useSnackbar();\n    const [email, setEmail] = useState('');\n    const [showEmailInput, setShowEmailInput] = useState(false);\n    const [linkSent, setLinkSent] = useState(false);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    // Check if user is returning from email link\n    useEffect(() => {\n        // Check for email link authentication\n        if (isSignInWithEmailLink(window.location.href)) {\n            const emailForSignIn = localStorage.getItem('emailForSignIn');\n            if (emailForSignIn) {\n                handleEmailLinkSignIn(emailForSignIn);\n                return; // Don't set up auth listener yet, wait for sign-in to complete\n            }\n        }\n\n        // Listen for auth state changes\n        const unsubscribe = getAuth().onAuthStateChanged(user => {\n            if (user) {\n                // Check login type from localStorage\n                const loginType = localStorage.getItem('loginType');\n                if (loginType === 'google') {\n                    // Google login -> administrator view (dashboard)\n                    props.history.push('/dashboard');\n                } else if (loginType === 'email') {\n                    // Email login -> user view (user profile)\n                    props.history.push('/user/profile');\n                } else {\n                    // Default to dashboard\n                    props.history.push('/dashboard');\n                }\n            }\n        });\n\n        return () => unsubscribe();\n        // eslint-disable-next-line\n    }, []);\n\n    const handleEmailLinkSignIn = async (email) => {\n        setLoading(true);\n        setError('');\n        try {\n            await signInWithEmailLink(email, window.location.href);\n            localStorage.setItem('loginType', 'email');\n            localStorage.removeItem('emailForSignIn');\n            enqueueSnackbar('Successfully signed in!', { variant: 'success' });\n            // Navigation will happen in useEffect when auth state changes\n        } catch (error) {\n            setError(error.message || 'Failed to sign in with email link');\n            enqueueSnackbar(error.message || 'Failed to sign in', { variant: 'error' });\n            setLoading(false);\n        }\n    };\n\n    const handleGoogleLogin = async () => {\n        setLoading(true);\n        setError('');\n        try {\n            await signInWithGoogle();\n            localStorage.setItem('loginType', 'google');\n            // Navigation will happen in useEffect when auth state changes\n        } catch (error) {\n            setError(error.message || 'Failed to sign in with Google');\n            enqueueSnackbar(error.message || 'Failed to sign in with Google', { variant: 'error' });\n            setLoading(false);\n        }\n    };\n\n    const handleEmailLogin = async () => {\n        if (!email || !email.includes('@')) {\n            setError('Please enter a valid email address');\n            return;\n        }\n\n        setLoading(true);\n        setError('');\n        try {\n            await sendSignInLinkToEmail(email);\n            localStorage.setItem('emailForSignIn', email);\n            localStorage.setItem('loginType', 'email');\n            setLinkSent(true);\n            enqueueSnackbar('Sign-in link sent to your email! Please check your inbox and click the link to sign in.', {\n                variant: 'success',\n                autoHideDuration: 8000\n            });\n        } catch (error) {\n            setError(error.message || 'Failed to send sign-in link');\n            enqueueSnackbar(error.message || 'Failed to send sign-in link', { variant: 'error' });\n            setLoading(false);\n        }\n    };\n\n    const handleTestLogin = async () => {\n        // Test login - bypass all verification\n        setLoading(true);\n        setError('');\n        try {\n            // Create a test Firebase user object for authentication\n            const testUser = {\n                uid: 'test-user-' + Date.now(),\n                email: 'test@zahiracollege.com',\n                displayName: 'Test User',\n                emailVerified: true\n            };\n\n            // Set test mode flags\n            localStorage.setItem('loginType', 'email');\n            localStorage.setItem('testMode', 'true');\n            sessionStorage.setItem('userSessionToken', 'test-mode-token');\n            sessionStorage.setItem('userMemberId', 'test-member-id');\n            sessionStorage.setItem('testMode', 'true');\n\n            // Set user global (if function exists)\n            try {\n                const { setUserGlobal } = require('../services/auth.service');\n                setUserGlobal(testUser);\n            } catch (e) {\n                // Ignore if function doesn't exist\n            }\n\n            // Sign in with custom token or create anonymous auth\n            try {\n                const auth = getAuth();\n                // For test mode, we'll use signInAnonymously or create a custom token\n                // Since we're bypassing verification, we can just set the auth state manually\n                // But Firebase requires actual auth, so we'll use signInAnonymously\n                await auth.signInAnonymously();\n                localStorage.setItem('loginType', 'email');\n            } catch (authError) {\n                // If anonymous sign-in fails, continue anyway in test mode\n                console.log('Test mode: Continuing without Firebase auth');\n            }\n\n            enqueueSnackbar('Test login successful! No verification required.', { variant: 'success' });\n            // Navigate to user profile\n            setTimeout(() => {\n                props.history.push('/user/profile');\n            }, 500);\n        } catch (error) {\n            setError('Test login failed');\n            enqueueSnackbar('Test login failed: ' + error.message, { variant: 'error' });\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className={classes.root}>\n            <div className={classes.card}>\n                {/* Flag stripes at top - three vertical stripes */}\n                <div className={classes.flagStripes}>\n                    <div className={classes.redStripe}></div>\n                    <div className={classes.whiteStripe}></div>\n                    <div className={classes.blueStripe}></div>\n                </div>\n\n                <div className={classes.content}>\n                    {/* Logo */}\n                    <img src={logo} alt=\"Zahira College Logo\" className={classes.logo} />\n\n                    {/* Titles */}\n                    <Typography className={classes.title1}>\n                        Zahirians Members Circle\n                    </Typography>\n                    <Typography className={classes.title2}>\n                        OLD BOYS' ASSOCIATION\n                    </Typography>\n                    <Typography className={classes.title3}>\n                        ZAHIRA COLLEGE MAWANELLA\n                    </Typography>\n\n                    {/* Error message */}\n                    {error && (\n                        <Typography className={classes.errorText}>\n                            {error}\n                        </Typography>\n                    )}\n\n                    {/* Email input (shown when email button is clicked) */}\n                    {showEmailInput ? (\n                        linkSent ? (\n                            <>\n                                <Typography variant=\"body1\" style={{ marginBottom: 16, color: '#4caf50' }}>\n                                     Sign-in link sent to <strong>{email}</strong>\n                                </Typography>\n                                <Typography variant=\"body2\" color=\"textSecondary\" style={{ marginBottom: 16 }}>\n                                    Please check your email and click the link to sign in. The link will work on this device.\n                                </Typography>\n                                <Button\n                                    fullWidth\n                                    variant=\"text\"\n                                    onClick={() => {\n                                        setShowEmailInput(false);\n                                        setLinkSent(false);\n                                        setEmail('');\n                                        setError('');\n                                    }}\n                                    style={{ marginTop: 8 }}\n                                >\n                                    Back to Login\n                                </Button>\n                            </>\n                        ) : (\n                            <>\n                                <TextField\n                                    fullWidth\n                                    className={classes.emailInput}\n                                    label=\"Email Address\"\n                                    type=\"email\"\n                                    value={email}\n                                    onChange={(e) => setEmail(e.target.value)}\n                                    onKeyPress={(e) => {\n                                        if (e.key === 'Enter' && !loading && email) {\n                                            handleEmailLogin();\n                                        }\n                                    }}\n                                    disabled={loading}\n                                    variant=\"outlined\"\n                                    autoFocus\n                                />\n                                <Button\n                                    fullWidth\n                                    className={classes.emailButton}\n                                    onClick={handleEmailLogin}\n                                    disabled={loading || !email || !email.includes('@')}\n                                >\n                                    {loading ? 'Sending...' : 'Send Login Link'}\n                                </Button>\n                                <Button\n                                    fullWidth\n                                    variant=\"text\"\n                                    onClick={() => {\n                                        setShowEmailInput(false);\n                                        setEmail('');\n                                        setError('');\n                                    }}\n                                    disabled={loading}\n                                    style={{ marginTop: 8 }}\n                                >\n                                    Back\n                                </Button>\n                            </>\n                        )\n                    ) : (\n                        <div className={classes.buttonContainer}>\n                            <Button\n                                fullWidth\n                                variant=\"contained\"\n                                className={classes.googleButton}\n                                onClick={handleGoogleLogin}\n                                disabled={loading}\n                            >\n                                Login with Google\n                            </Button>\n                            <Button\n                                fullWidth\n                                variant=\"contained\"\n                                className={classes.emailButton}\n                                onClick={() => setShowEmailInput(true)}\n                                disabled={loading}\n                            >\n                                Login with email\n                            </Button>\n                            <Button\n                                fullWidth\n                                variant=\"contained\"\n                                className={classes.testButton}\n                                onClick={handleTestLogin}\n                                disabled={loading}\n                            >\n                                 Test Login (No Verification)\n                            </Button>\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nSignIn.propTypes = {\n    history: PropTypes.object\n};\n\nexport default withRouter(SignIn);\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { Grid, Typography } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    padding: theme.spacing(2)\r\n  },\r\n  content: {\r\n    paddingTop: 35,\r\n    textAlign: 'center'\r\n  },\r\n  image: {\r\n    marginTop: 5,\r\n    display: 'inline-block',\r\n    maxWidth: '100%',\r\n    width: 560\r\n  }\r\n}));\r\n\r\nconst NotFound = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid\r\n        container\r\n        justify=\"center\"\r\n        spacing={4}\r\n      >\r\n        <Grid\r\n          item\r\n          lg={6}\r\n          xs={12}\r\n        >\r\n          <div className={classes.content}>\r\n            <Typography variant=\"h1\">\r\n              404: page doesn't exist\r\n            </Typography>\r\n            <Typography variant=\"subtitle2\">\r\n              Sorry.\r\n            </Typography>\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import { POST, GET, GETbyId } from 'portal/services/fs.service';\nimport { collection, query, where, getDocs, doc, updateDoc, deleteDoc, setDoc, getDoc } from 'firebase/firestore';\nimport { getDb } from 'portal/services/fs.service';\n\nconst VERIFICATION_COLLECTION = 'memberVerifications';\nconst OTP_EXPIRY_MINUTES = 10;\nconst LINK_EXPIRY_HOURS = 24;\n\n// Generate a random 6-digit OTP\nconst generateOTP = () => {\n    return Math.floor(100000 + Math.random() * 900000).toString();\n};\n\n// Generate a secure random token\nconst generateToken = () => {\n    return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n};\n\n// Find member by email or phone\nconst findMemberByContact = async (email, phone) => {\n    const db = getDb();\n    const membersRef = collection(db, 'members');\n    \n    const queries = [];\n    if (email) {\n        queries.push(query(membersRef, where('email', '==', email)));\n    }\n    if (phone) {\n        queries.push(query(membersRef, where('contact', '==', phone)));\n    }\n    \n    for (const q of queries) {\n        const snapshot = await getDocs(q);\n        if (!snapshot.empty) {\n            const member = snapshot.docs[0];\n            return { id: member.id, ...member.data() };\n        }\n    }\n    \n    return null;\n};\n\n/**\n * Send OTP via email\n * \n * INTEGRATION OPTIONS (choose one):\n * \n * 1. Backend API (if you have email service):\n *    return POST('/v1/member/send-otp-email', { email, otp, memberName });\n * \n * 2. Firebase Functions with SendGrid/Mailgun:\n *    const functions = getFunctions();\n *    const sendOTP = httpsCallable(functions, 'sendOTPEmail');\n *    return sendOTP({ email, otp, memberName });\n * \n * 3. Firebase Extensions (Email Trigger):\n *    Use Firebase Extensions marketplace to set up email triggers\n * \n * 4. Free Email Services:\n *    - SendGrid (100 emails/day free)\n *    - Mailgun (5,000 emails/month free for 3 months)\n *    - EmailJS (200 emails/month free)\n * \n * For now, this is a placeholder that logs the OTP to console.\n * In production, replace this with actual email sending.\n */\nconst sendOTPEmail = async (email, otp, memberName) => {\n    // TODO: Replace with actual email service integration\n    console.log(`[EMAIL OTP] To: ${email}, OTP: ${otp}, Member: ${memberName}`);\n    console.log('  Email integration required! OTP is logged above for testing.');\n    \n    // Example integration (uncomment and configure):\n    // return POST('/v1/member/send-otp-email', { email, otp, memberName });\n    \n    return { success: true };\n};\n\n/**\n * Send secure link via email\n * \n * See sendOTPEmail() above for integration options.\n * The secure link format: {origin}/user/verify?token={token}\n */\nconst sendSecureLinkEmail = async (email, token, memberName) => {\n    const link = `${window.location.origin}/user/verify?token=${token}`;\n    \n    // TODO: Replace with actual email service integration\n    console.log(`[EMAIL LINK] To: ${email}, Link: ${link}, Member: ${memberName}`);\n    console.log('  Email integration required! Link is logged above for testing.');\n    \n    // Example integration (uncomment and configure):\n    // return POST('/v1/member/send-secure-link', { email, link, memberName });\n    \n    return { success: true };\n};\n\n// Request OTP via email\nconst requestOTP = async (email, phone) => {\n    try {\n        // Find member\n        const member = await findMemberByContact(email, phone);\n        if (!member) {\n            throw new Error('No member found with this email or phone number');\n        }\n        \n        // Generate OTP\n        const otp = generateOTP();\n        const expiresAt = new Date(Date.now() + OTP_EXPIRY_MINUTES * 60 * 1000);\n        \n        // Store OTP in Firestore\n        const db = getDb();\n        const verificationRef = doc(db, VERIFICATION_COLLECTION, `otp_${member.id}`);\n        await setDoc(verificationRef, {\n            memberId: member.id,\n            otp,\n            type: 'otp',\n            expiresAt,\n            createdAt: new Date(),\n            contact: email || phone\n        });\n        \n        // Send OTP via email\n        const contact = email || member.email;\n        if (contact) {\n            await sendOTPEmail(contact, otp, member.fullName || member.shortName);\n        }\n        \n        return { success: true, memberId: member.id };\n    } catch (error) {\n        throw error;\n    }\n};\n\n// Verify OTP\nconst verifyOTP = async (memberId, otp) => {\n    try {\n        const db = getDb();\n        const verificationRef = doc(db, VERIFICATION_COLLECTION, `otp_${memberId}`);\n        const verificationDoc = await getDoc(verificationRef);\n        \n        if (!verificationDoc.exists()) {\n            throw new Error('OTP not found or expired');\n        }\n        \n        const data = verificationDoc.data();\n        \n        // Check if expired\n        if (new Date() > data.expiresAt.toDate()) {\n            await deleteDoc(verificationRef);\n            throw new Error('OTP has expired');\n        }\n        \n        // Verify OTP\n        if (data.otp !== otp) {\n            throw new Error('Invalid OTP');\n        }\n        \n        // Generate session token\n        const sessionToken = generateToken();\n        const sessionExpiresAt = new Date(Date.now() + 2 * 60 * 60 * 1000); // 2 hours\n        \n        // Store session\n        const sessionRef = doc(db, VERIFICATION_COLLECTION, `session_${memberId}`);\n        await setDoc(sessionRef, {\n            memberId,\n            token: sessionToken,\n            type: 'session',\n            expiresAt: sessionExpiresAt,\n            createdAt: new Date()\n        });\n        \n        // Delete OTP\n        await deleteDoc(verificationRef);\n        \n        return { success: true, token: sessionToken, memberId };\n    } catch (error) {\n        throw error;\n    }\n};\n\n// Request secure link via email\nconst requestSecureLink = async (email, phone) => {\n    try {\n        // Find member\n        const member = await findMemberByContact(email, phone);\n        if (!member) {\n            throw new Error('No member found with this email or phone number');\n        }\n        \n        // Generate token\n        const token = generateToken();\n        const expiresAt = new Date(Date.now() + LINK_EXPIRY_HOURS * 60 * 60 * 1000);\n        const link = `${window.location.origin}/user/verify?token=${token}`;\n        \n        // Store token in Firestore\n        const db = getDb();\n        const verificationRef = doc(db, VERIFICATION_COLLECTION, `link_${token}`);\n        await setDoc(verificationRef, {\n            memberId: member.id,\n            token,\n            type: 'link',\n            expiresAt,\n            createdAt: new Date()\n        });\n        \n        // Send secure link via email\n        const contact = email || member.email;\n        if (contact) {\n            await sendSecureLinkEmail(contact, token, member.fullName || member.shortName);\n        }\n        \n        // Return link for testing/display purposes\n        return { success: true, link, token };\n    } catch (error) {\n        throw error;\n    }\n};\n\n// Verify secure link token\nconst verifyLinkToken = async (token) => {\n    try {\n        const db = getDb();\n        const verificationRef = doc(db, VERIFICATION_COLLECTION, `link_${token}`);\n        const verificationDoc = await getDoc(verificationRef);\n        \n        if (!verificationDoc.exists()) {\n            throw new Error('Invalid or expired link');\n        }\n        \n        const data = verificationDoc.data();\n        \n        // Check if expired\n        if (new Date() > data.expiresAt.toDate()) {\n            await deleteDoc(verificationRef);\n            throw new Error('Link has expired');\n        }\n        \n        // Generate session token\n        const sessionToken = generateToken();\n        const sessionExpiresAt = new Date(Date.now() + 2 * 60 * 60 * 1000); // 2 hours\n        \n        // Store session\n        const sessionRef = doc(db, VERIFICATION_COLLECTION, `session_${data.memberId}`);\n        await setDoc(sessionRef, {\n            memberId: data.memberId,\n            token: sessionToken,\n            type: 'session',\n            expiresAt: sessionExpiresAt,\n            createdAt: new Date()\n        });\n        \n        // Delete link token\n        await deleteDoc(verificationRef);\n        \n        return { success: true, token: sessionToken, memberId: data.memberId };\n    } catch (error) {\n        throw error;\n    }\n};\n\n// Verify session token\nconst verifySession = async (token) => {\n    try {\n        const db = getDb();\n        const verificationsRef = collection(db, VERIFICATION_COLLECTION);\n        const q = query(verificationsRef, where('token', '==', token), where('type', '==', 'session'));\n        const snapshot = await getDocs(q);\n        \n        if (snapshot.empty) {\n            throw new Error('Invalid session');\n        }\n        \n        const session = snapshot.docs[0].data();\n        \n        // Check if expired\n        if (new Date() > session.expiresAt.toDate()) {\n            await deleteDoc(snapshot.docs[0].ref);\n            throw new Error('Session expired');\n        }\n        \n        return { success: true, memberId: session.memberId };\n    } catch (error) {\n        throw error;\n    }\n};\n\n// Clear session\nconst clearSession = async (token) => {\n    try {\n        const db = getDb();\n        const verificationsRef = collection(db, VERIFICATION_COLLECTION);\n        const q = query(verificationsRef, where('token', '==', token), where('type', '==', 'session'));\n        const snapshot = await getDocs(q);\n        \n        if (!snapshot.empty) {\n            await deleteDoc(snapshot.docs[0].ref);\n        }\n        \n        return { success: true };\n    } catch (error) {\n        throw error;\n    }\n};\n\nexport default {\n    requestOTP,\n    verifyOTP,\n    requestSecureLink,\n    verifyLinkToken,\n    verifySession,\n    clearSession,\n    findMemberByContact\n};\n\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport { Typography, IconButton, useMediaQuery, useTheme } from '@material-ui/core';\nimport { ExitToApp } from '@material-ui/icons';\nimport logo from '../assets/logo.png';\n\nconst useStyles = makeStyles(theme => ({\n    headerContainer: {\n        backgroundColor: '#fff',\n        padding: theme.spacing(2, 3),\n        borderBottom: '3px solid',\n        borderImage: 'linear-gradient(to right, #820000 0%, #820000 50%, #043161 50%, #043161 100%) 1',\n        [theme.breakpoints.down('sm')]: {\n            padding: theme.spacing(1.5, 2),\n        }\n    },\n    headerContent: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        maxWidth: 1400,\n        margin: '0 auto',\n        gap: theme.spacing(2),\n        [theme.breakpoints.down('sm')]: {\n            flexDirection: 'column',\n            alignItems: 'flex-start',\n            gap: theme.spacing(1),\n        }\n    },\n    leftSection: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: theme.spacing(2),\n        flex: 1,\n        [theme.breakpoints.down('sm')]: {\n            width: '100%',\n            gap: theme.spacing(1.5),\n        }\n    },\n    logo: {\n        width: 70,\n        height: 70,\n        objectFit: 'contain',\n        [theme.breakpoints.down('sm')]: {\n            width: 50,\n            height: 50,\n        }\n    },\n    titleSection: {\n        display: 'flex',\n        flexDirection: 'column',\n        gap: theme.spacing(0.5),\n    },\n    mainTitle: {\n        fontSize: '1.5rem',\n        fontWeight: 600,\n        color: '#043161',\n        lineHeight: 1.2,\n        [theme.breakpoints.down('md')]: {\n            fontSize: '1.25rem',\n        },\n        [theme.breakpoints.down('sm')]: {\n            fontSize: '1rem',\n        }\n    },\n    subtitle: {\n        fontSize: '0.875rem',\n        fontWeight: 600,\n        color: '#820000',\n        textTransform: 'uppercase',\n        letterSpacing: '0.5px',\n        [theme.breakpoints.down('sm')]: {\n            fontSize: '0.75rem',\n        }\n    },\n    collegeText: {\n        fontSize: '0.75rem',\n        color: '#666',\n        fontWeight: 500,\n        [theme.breakpoints.down('sm')]: {\n            fontSize: '0.65rem',\n        }\n    },\n    rightSection: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: theme.spacing(2),\n        [theme.breakpoints.down('sm')]: {\n            width: '100%',\n            justifyContent: 'space-between',\n            gap: theme.spacing(1),\n        }\n    },\n    memberInfo: {\n        textAlign: 'right',\n        [theme.breakpoints.down('sm')]: {\n            textAlign: 'left',\n            flex: 1,\n        }\n    },\n    memberName: {\n        fontSize: '1rem',\n        fontWeight: 600,\n        color: '#043161',\n        lineHeight: 1.2,\n        [theme.breakpoints.down('sm')]: {\n            fontSize: '0.875rem',\n        }\n    },\n    memberId: {\n        fontSize: '0.75rem',\n        color: '#666',\n        fontWeight: 500,\n        [theme.breakpoints.down('sm')]: {\n            fontSize: '0.65rem',\n        }\n    },\n    logoutButton: {\n        color: '#820000',\n        '&:hover': {\n            backgroundColor: 'rgba(130, 0, 0, 0.08)',\n        },\n        [theme.breakpoints.down('sm')]: {\n            padding: theme.spacing(1),\n        }\n    },\n    testModeBadge: {\n        display: 'inline-block',\n        backgroundColor: '#ff9800',\n        color: '#fff',\n        padding: '2px 8px',\n        borderRadius: 4,\n        fontSize: '0.65rem',\n        fontWeight: 600,\n        marginLeft: theme.spacing(1),\n        [theme.breakpoints.down('sm')]: {\n            fontSize: '0.55rem',\n            padding: '2px 6px',\n        }\n    }\n}));\n\nconst ZahiriansHeader = ({ memberName, memberId, onLogout, showLogout = true }) => {\n    const classes = useStyles();\n    const theme = useTheme();\n    const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n    const isTestMode = sessionStorage.getItem('testMode') === 'true';\n\n    return (\n        <div className={classes.headerContainer}>\n            <div className={classes.headerContent}>\n                <div className={classes.leftSection}>\n                    <img src={logo} alt=\"Zahira College Logo\" className={classes.logo} />\n                    <div className={classes.titleSection}>\n                        <Typography className={classes.mainTitle}>\n                            Zahirians Members Circle\n                        </Typography>\n                        <Typography className={classes.subtitle}>\n                            Old Boys' Association\n                        </Typography>\n                        <Typography className={classes.collegeText}>\n                            Zahira College Mawanella\n                        </Typography>\n                    </div>\n                </div>\n\n                <div className={classes.rightSection}>\n                    {memberName && (\n                        <div className={classes.memberInfo}>\n                            <Typography className={classes.memberName}>\n                                {memberName}\n                                {isTestMode && (\n                                    <span className={classes.testModeBadge}>TEST MODE</span>\n                                )}\n                            </Typography>\n                            {memberId && (\n                                <Typography className={classes.memberId}>\n                                    Member ID: {memberId}\n                                </Typography>\n                            )}\n                        </div>\n                    )}\n                    {showLogout && onLogout && (\n                        <IconButton\n                            className={classes.logoutButton}\n                            onClick={onLogout}\n                            title=\"Logout\"\n                        >\n                            <ExitToApp />\n                        </IconButton>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ZahiriansHeader;\n","import React, { useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n    Button, Typography, TextField, Card, CardContent\n} from '@material-ui/core';\nimport { useSnackbar } from 'notistack';\nimport { Email, Send } from '@material-ui/icons';\nimport VerificationService from 'business/services/memberVerification.service';\nimport ZahiriansHeader from 'portal/components/ZahiriansHeader';\nimport logo from '../assets/logo.png';\nimport { LinearLoader } from 'business/widgets/Mini';\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundImage: 'url(./images/login-bg.jpg)',\n        backgroundSize: 'cover',\n        backgroundPosition: 'top',\n        minHeight: '100vh',\n        display: 'flex',\n        flexDirection: 'column',\n        backgroundColor: theme.palette.background.default || '#f5f5f5'\n    },\n    card: {\n        maxWidth: 450,\n        width: '100%',\n        margin: 'auto',\n        marginTop: theme.spacing(4),\n        marginBottom: theme.spacing(4),\n        borderRadius: 10,\n        background: 'rgba(255, 255, 255, 0.95)',\n        boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n        [theme.breakpoints.down('sm')]: {\n            margin: theme.spacing(2),\n            marginTop: theme.spacing(2),\n        }\n    },\n    content: {\n        padding: theme.spacing(4),\n        textAlign: 'center',\n        [theme.breakpoints.down('sm')]: {\n            padding: theme.spacing(2),\n        }\n    },\n    textField: {\n        marginBottom: theme.spacing(3),\n        marginTop: theme.spacing(2),\n        '& .MuiOutlinedInput-root': {\n            fontSize: '1.1rem',\n            padding: '14px 16px',\n            minHeight: '60px',\n        },\n        '& .MuiInputLabel-outlined': {\n            fontSize: '1.1rem',\n            transform: 'translate(16px, 20px) scale(1)',\n            '&.MuiInputLabel-shrink': {\n                transform: 'translate(16px, -6px) scale(0.75)',\n            },\n        },\n        '& .MuiInputBase-input': {\n            padding: '14px 16px',\n            fontSize: '1.1rem',\n        },\n    },\n    button: {\n        marginTop: theme.spacing(1),\n        padding: theme.spacing(1.5),\n        fontSize: '1rem'\n    },\n    successMessage: {\n        marginTop: theme.spacing(2),\n        padding: theme.spacing(2),\n        backgroundColor: theme.palette.success?.light || '#e8f5e9',\n        borderRadius: 8,\n        color: theme.palette.success?.dark || '#2e7d32'\n    },\n    linkBox: {\n        marginTop: theme.spacing(2),\n        padding: theme.spacing(2),\n        backgroundColor: '#f5f5f5',\n        borderRadius: 8,\n        border: '1px solid #ddd',\n        wordBreak: 'break-all'\n    },\n    linkText: {\n        fontFamily: 'monospace',\n        fontSize: '0.9rem',\n        color: theme.palette.primary.main,\n        cursor: 'pointer',\n        textDecoration: 'underline'\n    }\n}));\n\nconst UserVerification = props => {\n    const classes = useStyles();\n    const { enqueueSnackbar } = useSnackbar();\n    const { history, location } = props;\n\n    // Check if coming from secure link\n    const urlParams = new URLSearchParams(location.search);\n    const linkToken = urlParams.get('token');\n\n    const [loading, setLoading] = useState(false);\n    const [email, setEmail] = useState('');\n    const [linkSent, setLinkSent] = useState(false);\n    const [verificationLink, setVerificationLink] = useState('');\n\n    // Handle secure link token from URL\n    React.useEffect(() => {\n        if (linkToken) {\n            handleVerifyLink(linkToken);\n        }\n        // eslint-disable-next-line\n    }, [linkToken]);\n\n    const handleVerifyLink = async (token) => {\n        setLoading(true);\n        try {\n            const result = await VerificationService.verifyLinkToken(token);\n            // Store session token\n            sessionStorage.setItem('userSessionToken', result.token);\n            sessionStorage.setItem('userMemberId', result.memberId);\n            enqueueSnackbar('Verification successful!', { variant: 'success' });\n            history.push('/user/profile');\n        } catch (error) {\n            enqueueSnackbar(error.message || 'Invalid or expired link', { variant: 'error' });\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleSendLink = async () => {\n        if (!email || !email.includes('@')) {\n            enqueueSnackbar('Please enter a valid email address', { variant: 'warning' });\n            return;\n        }\n\n        setLoading(true);\n        try {\n            const result = await VerificationService.requestSecureLink(email, null);\n            setLinkSent(true);\n            if (result.link) {\n                setVerificationLink(result.link);\n            }\n            enqueueSnackbar('Secure link sent to your email!', { variant: 'success' });\n        } catch (error) {\n            enqueueSnackbar(error.message || 'Failed to send secure link', { variant: 'error' });\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className={classes.root}>\n            <ZahiriansHeader showLogout={false} />\n            <Card className={classes.card}>\n                <CardContent className={classes.content}>\n                    <LinearLoader loading={loading} />\n\n                    {!linkSent ? (\n                        <>\n                            <Typography variant=\"body1\" color=\"textSecondary\" style={{ marginBottom: 10 }}>\n                                Enter your email address to receive a secure link to access and update your member details\n                            </Typography>\n\n                            <TextField\n                                fullWidth\n                                className={classes.textField}\n                                label=\"Email Address\"\n                                type=\"email\"\n                                value={email}\n                                onChange={(e) => setEmail(e.target.value)}\n                                onKeyPress={(e) => {\n                                    if (e.key === 'Enter' && !loading && email) {\n                                        handleSendLink();\n                                    }\n                                }}\n                                InputProps={{\n                                    startAdornment: <Email style={{ marginRight: 8, color: '#999' }} />\n                                }}\n                                disabled={loading}\n                                autoFocus\n                            />\n\n                            <Button\n                                fullWidth\n                                variant=\"contained\"\n                                color=\"primary\"\n                                className={classes.button}\n                                onClick={handleSendLink}\n                                disabled={loading || !email || !email.includes('@')}\n                                startIcon={<Send />}\n                                size=\"large\"\n                            >\n                                {loading ? 'Sending...' : 'Send Secure Link'}\n                            </Button>\n\n                            {/* TEST MODE - Bypass verification */}\n                            <Button\n                                fullWidth\n                                variant=\"outlined\"\n                                color=\"secondary\"\n                                className={classes.button}\n                                onClick={() => {\n                                    // Set test mode session\n                                    sessionStorage.setItem('userSessionToken', 'test-mode-token');\n                                    sessionStorage.setItem('userMemberId', 'test-member-id');\n                                    sessionStorage.setItem('testMode', 'true');\n                                    history.push('/user/profile');\n                                }}\n                                style={{ marginTop: 10 }}\n                                size=\"large\"\n                            >\n                                 Test Mode - Skip Verification\n                            </Button>\n                        </>\n                    ) : (\n                        <div className={classes.successMessage}>\n                            <Typography variant=\"h6\" gutterBottom>\n                                 Link Sent!\n                            </Typography>\n                            <Typography variant=\"body2\">\n                                We've sent a secure link to <strong>{email}</strong>\n                            </Typography>\n                            <Typography variant=\"body2\" style={{ marginTop: 10 }}>\n                                Please check your email and click the link to access your profile.\n                            </Typography>\n\n                            {/* Show link for testing (when email service not configured) */}\n                            {verificationLink && (\n                                <div className={classes.linkBox}>\n                                    <Typography variant=\"body2\" style={{ marginBottom: 8, fontWeight: 'bold' }}>\n                                        Development Mode - Click link below:\n                                    </Typography>\n                                    <Typography\n                                        variant=\"body2\"\n                                        className={classes.linkText}\n                                        onClick={() => {\n                                            window.location.href = verificationLink;\n                                        }}\n                                    >\n                                        {verificationLink}\n                                    </Typography>\n                                    <Typography variant=\"caption\" color=\"textSecondary\" style={{ display: 'block', marginTop: 8 }}>\n                                        (This link is shown because email service is not configured yet)\n                                    </Typography>\n                                </div>\n                            )}\n\n                            <Typography variant=\"body2\" color=\"textSecondary\" style={{ marginTop: 15, fontSize: '0.85rem' }}>\n                                The link will expire in 24 hours.\n                            </Typography>\n                            <Button\n                                variant=\"outlined\"\n                                color=\"primary\"\n                                size=\"small\"\n                                style={{ marginTop: 15 }}\n                                onClick={() => {\n                                    setLinkSent(false);\n                                    setEmail('');\n                                    setVerificationLink('');\n                                }}\n                            >\n                                Send to Different Email\n                            </Button>\n                        </div>\n                    )}\n                </CardContent>\n            </Card>\n        </div>\n    );\n};\n\nUserVerification.propTypes = {\n    history: PropTypes.object,\n    location: PropTypes.object\n};\n\nexport default withRouter(UserVerification);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n    Grid, Button, ExpansionPanel, ExpansionPanelDetails, Card, CardContent\n} from '@material-ui/core';\nimport {\n    Text, DateOnly, HeadingExpansion, RadioButton, MobileNumber, TextAuto, LinearLoader\n} from 'business/widgets/Mini';\nimport { useSnackbar } from 'notistack';\nimport Service from 'business/services/members.service';\nimport { clientX, clientF } from 'portal/services/client.service';\nimport { Save, ArrowForward } from '@material-ui/icons';\nimport moment from 'moment';\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        backgroundColor: theme.palette.background.paper || '#fff',\n        borderRadius: 8,\n        padding: theme.spacing(2),\n        marginBottom: theme.spacing(2)\n    },\n    buttonGroup: {\n        marginTop: theme.spacing(3),\n        display: 'flex',\n        justifyContent: 'space-between'\n    }\n}));\n\nconst EditDetails = ({ memberData, memberId, onNext, onDataUpdate }) => {\n    const classes = useStyles();\n    const { enqueueSnackbar } = useSnackbar();\n    \n    const [loading, setLoading] = React.useState(false);\n    const [saving, setSaving] = React.useState(false);\n    const [details, setDetails] = React.useState({});\n    const [hasChanges, setHasChanges] = React.useState(false);\n    const [originalDetails, setOriginalDetails] = React.useState({});\n    const [errors, setErrors] = React.useState({});\n\n    // Safe clientX check\n    let branch = null;\n    let client = {};\n    try {\n        branch = clientX()?.branch;\n        client = branch ? (clientF(branch) || {}) : {};\n    } catch (e) {\n        // clientX might fail if not logged in, that's okay for test mode\n        branch = null;\n        client = {};\n    }\n\n    React.useEffect(() => {\n        if (memberData) {\n            // Safe date parsing\n            const parseDate = (dateValue) => {\n                if (!dateValue) return moment().subtract(25, 'year');\n                if (moment.isMoment(dateValue)) return dateValue;\n                try {\n                    return moment(dateValue);\n                } catch (e) {\n                    return moment().subtract(25, 'year');\n                }\n            };\n\n            const memberDataFormatted = {\n                ...memberData,\n                dateOfBirth: parseDate(memberData.dateOfBirth),\n                memberSince: memberData.memberSince ? parseDate(memberData.memberSince) : moment().startOf('year')\n            };\n            setDetails(memberDataFormatted);\n            setOriginalDetails(JSON.parse(JSON.stringify(memberDataFormatted)));\n        }\n    }, [memberData]);\n\n    const onChange = (e) => {\n        const newDetails = { ...details, [e.target.name]: e.target.value };\n        setDetails(newDetails);\n        const changed = JSON.stringify(newDetails) !== JSON.stringify(originalDetails);\n        setHasChanges(changed);\n        \n        // Clear error for this field when user starts typing/selecting\n        if (errors[e.target.name]) {\n            const newErrors = { ...errors };\n            delete newErrors[e.target.name];\n            setErrors(newErrors);\n        }\n    };\n\n    // Validate mandatory fields\n    const validateFields = () => {\n        const newErrors = {};\n        \n        if (!details.fullName || !details.fullName.trim()) {\n            newErrors.fullName = 'Full Name is required';\n        }\n        if (!details.nic || !details.nic.trim()) {\n            newErrors.nic = 'NIC Number is required';\n        }\n        if (!details.gender) {\n            newErrors.gender = 'Gender is required';\n        }\n        if (!details.dateOfBirth || (typeof details.dateOfBirth === 'string' && !details.dateOfBirth.trim())) {\n            newErrors.dateOfBirth = 'Date of Birth is required';\n        }\n        if (!details.email || !details.email.trim()) {\n            newErrors.email = 'Email is required';\n        }\n        if (!details.contact || !details.contact.trim()) {\n            newErrors.contact = 'Mobile Number is required';\n        }\n        if (!details.batchOl || !details.batchOl.trim()) {\n            newErrors.batchOl = 'O/L Year is required';\n        }\n        \n        setErrors(newErrors);\n        return Object.keys(newErrors).length === 0;\n    };\n\n\n    const handleSave = async () => {\n        // Validate mandatory fields\n        if (!validateFields()) {\n            enqueueSnackbar('Please fill all mandatory fields', { variant: 'error' });\n            return;\n        }\n\n        if (!hasChanges) {\n            if (onNext) onNext();\n            return;\n        }\n\n        setSaving(true);\n        try {\n            // Safe date formatting\n            const formatDate = (dateValue) => {\n                if (!dateValue) return null;\n                if (typeof dateValue === 'string') return dateValue;\n                if (moment.isMoment(dateValue)) return dateValue.format('YYYY-MM-DD');\n                return null;\n            };\n\n            const updateData = {\n                shortName: details.shortName,\n                fullName: details.fullName,\n                nic: details.nic,\n                gender: details.gender,\n                email: details.email,\n                address: details.address,\n                contact: details.contact,\n                contactAlt: details.contactAlt,\n                note: details.note,\n                workPlace: details.workPlace,\n                designation: details.designation,\n                workCategory: details.workCategory,\n                workNote: details.workNote,\n                dateOfBirth: formatDate(details.dateOfBirth),\n                memberSince: formatDate(details.memberSince),\n                batchOl: details.batchOl,\n                batchAl: details.batchAl,\n                yearOfAdmission: details.yearOfAdmission,\n                yearOfLeaving: details.yearOfLeaving,\n                indexNumber: details.indexNumber,\n                achievements: details.achievements,\n                postionsHeld: details.postionsHeld,\n                obaNote: details.obaNote\n            };\n\n            await Service.updateSelf(memberId, updateData);\n            setOriginalDetails(JSON.parse(JSON.stringify(details)));\n            setHasChanges(false);\n            onDataUpdate(updateData);\n            if (onNext) onNext();\n        } catch (error) {\n            enqueueSnackbar(error.message || 'Failed to update', { variant: 'error' });\n        } finally {\n            setSaving(false);\n        }\n    };\n\n    return (\n        <Card className={classes.card}>\n            <CardContent>\n                <LinearLoader loading={loading || saving} />\n                \n                <Grid container spacing={0} style={{ paddingTop: 0 }}>\n                    <Grid item xs={12}>\n                        <ExpansionPanel defaultExpanded>\n                            <HeadingExpansion title={'PERSONAL DETAILS'} />\n                            <ExpansionPanelDetails>\n                                <Grid container spacing={2}>\n                                    <Text size={6} label=\"Full Name*\" name=\"fullName\"\n                                        value={details.fullName} onChange={onChange} \n                                        error={errors.fullName} helperText={errors.fullName} />\n                                    <Text size={6} label=\"Name with Initial*\" name=\"shortName\"\n                                        value={details.shortName} onChange={onChange} />\n                                    <Text size={6} label=\"NIC Number*\" name=\"nic\"\n                                        value={details.nic} onChange={onChange}\n                                        error={errors.nic} helperText={errors.nic} />\n                                    <Text size={6} label=\"Membership ID\" name=\"memberCode\"\n                                        value={details.memberCode} disabled={true} />\n                                    <RadioButton size={3} name={'gender'} onChange={onChange}\n                                        value={details.gender} values={['Male', 'Female']}\n                                        error={errors.gender}>\n                                    </RadioButton>\n                                    {errors.gender && (\n                                        <Grid item xs={12}>\n                                            <span style={{color: '#f44336', fontSize: '0.75rem', marginLeft: '14px'}}>{errors.gender}</span>\n                                        </Grid>\n                                    )}\n                                    <DateOnly size={3} label=\"Date of Birth*\" name=\"dateOfBirth\"\n                                        value={details.dateOfBirth} \n                                        onChange={onChange}\n                                        error={errors.dateOfBirth} helperText={errors.dateOfBirth} />\n                                </Grid>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                    </Grid>\n                </Grid>\n\n                <Grid container spacing={0} style={{ paddingTop: 5 }}>\n                    <Grid item xs={12}>\n                        <ExpansionPanel defaultExpanded>\n                            <HeadingExpansion title={'CONTACT DETAILS'} />\n                            <ExpansionPanelDetails>\n                                <Grid container spacing={2}>\n                                    <Text size={3} label=\"Email*\" name=\"email\"\n                                        value={details.email} onChange={onChange}\n                                        error={errors.email} helperText={errors.email} />\n                                    <Text size={6} label=\"Address\" name=\"address\"\n                                        value={details.address} onChange={onChange} />\n                                    <MobileNumber size={6} label=\"Mobile Number*\" name=\"contact\" \n                                        countryCode={branch ? (clientX()?.countryCodeConsignee || '+94') : '+94'}\n                                        value={details.contact} onChange={onChange}\n                                        error={errors.contact} helperText={errors.contact} />\n                                    <MobileNumber size={6} label=\"Landline Number\" name=\"contactAlt\" \n                                        countryCode={branch ? (clientX()?.countryCodeConsignee || '+94') : '+94'}\n                                        value={details.contactAlt} onChange={onChange} />\n                                    <Text size={6} label=\"Note\" name=\"note\"\n                                        value={details.note} onChange={onChange} />\n                                </Grid>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                    </Grid>\n                </Grid>\n\n                <Grid container spacing={0} style={{ paddingTop: 5 }}>\n                    <Grid item xs={12}>\n                        <ExpansionPanel defaultExpanded>\n                            <HeadingExpansion title={'SCHOOL DAYS'} />\n                            <ExpansionPanelDetails>\n                                <Grid container spacing={2}>\n                                    <Text size={2} label=\"O/L Batch*\" name=\"batchOl\"\n                                        value={details.batchOl} onChange={onChange}\n                                        error={errors.batchOl} helperText={errors.batchOl} />\n                                    <Text size={2} label=\"A/L Batch\" name=\"batchAl\"\n                                        value={details.batchAl} onChange={onChange} />\n                                    <Text size={2} label=\"Year of Admission\" name=\"yearOfAdmission\"\n                                        value={details.yearOfAdmission} onChange={onChange} />\n                                    <Text size={2} label=\"Year of Leaving\" name=\"yearOfLeaving\"\n                                        value={details.yearOfLeaving} onChange={onChange} />\n                                    <Text size={2} label=\"Index Number\" name=\"indexNumber\"\n                                        value={details.indexNumber} onChange={onChange} />\n                                    <Text size={6} label=\"Achievements\" name=\"achievements\"\n                                        value={details.achievements} onChange={onChange} />\n                                    <Text size={6} label=\"Positions Held\" name=\"postionsHeld\"\n                                        value={details.postionsHeld} onChange={onChange} />\n                                </Grid>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                    </Grid>\n                </Grid>\n\n                <Grid container spacing={0} style={{ paddingTop: 5 }}>\n                    <Grid item xs={12}>\n                        <ExpansionPanel defaultExpanded>\n                            <HeadingExpansion title={'EMPLOYMENT DETAILS'} />\n                            <ExpansionPanelDetails>\n                                <Grid container spacing={2}>\n                                    <Text size={2} label=\"Work Place\" name=\"workPlace\"\n                                        value={details.workPlace} onChange={onChange} />\n                                    <Text size={2} label=\"Designation\" name=\"designation\"\n                                        value={details.designation} onChange={onChange} />\n                                    <TextAuto size={2} label=\"Category\" name=\"workCategory\" \n                                        auto={branch ? (clientX()?.workCategory || []) : []}\n                                        value={details.workCategory} onChange={onChange} />\n                                    <Text size={6} label=\"Note\" name=\"workNote\"\n                                        value={details.workNote} onChange={onChange} />\n                                </Grid>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                    </Grid>\n                </Grid>\n\n                <div className={classes.buttonGroup}>\n                    <div></div>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        size=\"large\"\n                        endIcon={<ArrowForward />}\n                        disabled={saving}\n                        onClick={handleSave}\n                    >\n                        {saving ? 'Saving...' : hasChanges ? 'Save & Continue' : 'Continue'}\n                    </Button>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\nEditDetails.propTypes = {\n    memberData: PropTypes.object,\n    memberId: PropTypes.string,\n    onNext: PropTypes.func,\n    onDataUpdate: PropTypes.func\n};\n\nexport default EditDetails;\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n    Grid, Button, Card, CardContent, Typography, TextField, Divider\n} from '@material-ui/core';\nimport { RadioButton, LinearLoader, Text } from 'business/widgets/Mini';\nimport { useSnackbar } from 'notistack';\nimport Service from 'business/services/members.service';\nimport { ArrowBack, ArrowForward, Payment, CreditCard } from '@material-ui/icons';\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        backgroundColor: theme.palette.background.paper || '#fff',\n        borderRadius: 8,\n        padding: theme.spacing(3),\n        marginBottom: theme.spacing(2),\n        [theme.breakpoints.down('sm')]: {\n            padding: theme.spacing(2),\n        }\n    },\n    buttonGroup: {\n        marginTop: theme.spacing(3),\n        display: 'flex',\n        justifyContent: 'space-between',\n        gap: theme.spacing(2),\n        [theme.breakpoints.down('sm')]: {\n            flexDirection: 'column',\n        }\n    },\n    button: {\n        fontSize: '1.125rem',\n        padding: '10px 24px',\n        [theme.breakpoints.down('sm')]: {\n            fontSize: '1rem',\n            padding: '12px 24px',\n            width: '100%',\n        }\n    },\n    sectionTitle: {\n        fontSize: '1.5rem',\n        fontWeight: 'bold',\n        marginTop: theme.spacing(3),\n        marginBottom: theme.spacing(2),\n        [theme.breakpoints.down('sm')]: {\n            fontSize: '1.375rem',\n            marginTop: theme.spacing(2),\n        }\n    },\n    sectionDescription: {\n        fontSize: '1.125rem',\n        marginBottom: theme.spacing(2),\n        [theme.breakpoints.down('sm')]: {\n            fontSize: '1rem',\n        }\n    },\n    amountCard: {\n        padding: theme.spacing(2.5),\n        backgroundColor: '#f5f5f5',\n        marginBottom: theme.spacing(3),\n        borderRadius: 8,\n        [theme.breakpoints.down('sm')]: {\n            padding: theme.spacing(2),\n        }\n    },\n    amountLabel: {\n        fontSize: '1.125rem',\n        marginBottom: theme.spacing(1),\n        [theme.breakpoints.down('sm')]: {\n            fontSize: '1rem',\n        }\n    },\n    amountValue: {\n        fontSize: '2rem',\n        fontWeight: 'bold',\n        [theme.breakpoints.down('sm')]: {\n            fontSize: '1.75rem',\n        }\n    },\n    amountSubtext: {\n        fontSize: '1rem',\n        marginTop: theme.spacing(0.5),\n        [theme.breakpoints.down('sm')]: {\n            fontSize: '0.9375rem',\n        }\n    },\n    divider: {\n        marginTop: theme.spacing(3),\n        marginBottom: theme.spacing(3),\n        [theme.breakpoints.down('sm')]: {\n            marginTop: theme.spacing(2),\n            marginBottom: theme.spacing(2),\n        }\n    },\n    cardDetailsSection: {\n        marginTop: theme.spacing(2),\n    },\n    textField: {\n        '& .MuiOutlinedInput-root': {\n            fontSize: '1.125rem',\n            padding: '12px 14px',\n            minHeight: '56px',\n            [theme.breakpoints.down('sm')]: {\n                fontSize: '1rem',\n                padding: '14px 16px',\n                minHeight: '56px',\n            },\n        },\n        '& .MuiInputLabel-outlined': {\n            fontSize: '1.125rem',\n            [theme.breakpoints.down('sm')]: {\n                fontSize: '1rem',\n            },\n        },\n        '& .MuiInputBase-input': {\n            padding: '12px 14px',\n            fontSize: '1.125rem',\n            [theme.breakpoints.down('sm')]: {\n                fontSize: '1rem',\n                padding: '14px 16px',\n            },\n        },\n    },\n    cardPreviewContainer: {\n        marginTop: theme.spacing(3),\n        marginBottom: theme.spacing(3),\n        [theme.breakpoints.down('sm')]: {\n            marginTop: theme.spacing(2),\n            marginBottom: theme.spacing(2),\n        }\n    },\n    cardPreview: {\n        borderRadius: 16,\n        padding: theme.spacing(4),\n        color: '#fff',\n        minHeight: 220,\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-between',\n        boxShadow: '0 8px 24px rgba(0,0,0,0.15)',\n        position: 'relative',\n        overflow: 'hidden',\n        [theme.breakpoints.down('sm')]: {\n            minHeight: 200,\n            padding: theme.spacing(3),\n        }\n    },\n    cardPreviewDesign: {\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n    },\n    cardIcon: {\n        fontSize: '3rem',\n        opacity: 0.9,\n        marginBottom: theme.spacing(1),\n        [theme.breakpoints.down('sm')]: {\n            fontSize: '2.5rem',\n        }\n    },\n    cardLabel: {\n        fontSize: '0.875rem',\n        opacity: 0.9,\n        marginBottom: theme.spacing(1),\n        [theme.breakpoints.down('sm')]: {\n            fontSize: '0.8125rem',\n        }\n    },\n    cardMemberId: {\n        fontSize: '1.25rem',\n        letterSpacing: '0.1em',\n        marginTop: theme.spacing(2),\n        fontWeight: 500,\n        [theme.breakpoints.down('sm')]: {\n            fontSize: '1.125rem',\n        }\n    },\n    cardName: {\n        fontSize: '1.5rem',\n        textTransform: 'uppercase',\n        marginTop: theme.spacing(2),\n        fontWeight: 'bold',\n        letterSpacing: '0.05em',\n        [theme.breakpoints.down('sm')]: {\n            fontSize: '1.25rem',\n        }\n    },\n    cardNamePlaceholder: {\n        fontSize: '1.5rem',\n        textTransform: 'uppercase',\n        marginTop: theme.spacing(2),\n        fontWeight: 'bold',\n        letterSpacing: '0.05em',\n        opacity: 0.6,\n        fontStyle: 'italic',\n        [theme.breakpoints.down('sm')]: {\n            fontSize: '1.25rem',\n        }\n    }\n}));\n\nconst SubscriptionsDonations = ({ memberData, memberId, onNext, onBack, onDataUpdate }) => {\n    const classes = useStyles();\n    const { enqueueSnackbar } = useSnackbar();\n    \n    const [loading, setLoading] = React.useState(false);\n    const ANNUAL_AMOUNT = 3000; // Fixed annual subscription amount\n    const [paymentMethod, setPaymentMethod] = React.useState(\n        memberData?.paymentMethod || 'Online Payment'\n    );\n    \n    // Membership card details state\n    const [nameOnCard, setNameOnCard] = React.useState(\n        memberData?.cardDetails?.nameOnCard || memberData?.fullName || ''\n    );\n\n    const handleSave = async () => {\n        if (!paymentMethod) {\n            enqueueSnackbar('Please select a payment method', { variant: 'warning' });\n            return;\n        }\n\n        if (!nameOnCard || nameOnCard.trim().length < 2) {\n            enqueueSnackbar('Please enter a name for your membership card', { variant: 'warning' });\n            return;\n        }\n\n        setLoading(true);\n        try {\n            const updateData = {\n                subscriptionAmount: ANNUAL_AMOUNT,\n                subscriptionType: 'annual',\n                paymentMethod: paymentMethod || 'Online Payment',\n                subscriptionDate: new Date().toISOString(),\n                cardDetails: {\n                    nameOnCard: nameOnCard.trim(),\n                    updatedAt: new Date().toISOString()\n                }\n            };\n\n            await Service.updateSelf(memberId, updateData);\n            onDataUpdate(updateData);\n            if (onNext) onNext();\n        } catch (error) {\n            enqueueSnackbar(error.message || 'Failed to save', { variant: 'error' });\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <Card className={classes.card}>\n            <CardContent>\n                <LinearLoader loading={loading} />\n                \n                <Typography variant=\"h4\" style={{ fontSize: '1.75rem', fontWeight: 'bold', marginBottom: 8 }}>\n                    Zahirians Circle\n                </Typography>\n                <Typography className={classes.sectionDescription} color=\"textSecondary\">\n                    Annual subscription fee: Rs. {ANNUAL_AMOUNT.toLocaleString()} per year. Please choose your payment method.\n                </Typography>\n\n                {/* Subscription Amount Section */}\n                <div className={classes.amountCard}>\n                    <Typography className={classes.amountLabel} color=\"textSecondary\">\n                        Annual Subscription Amount\n                    </Typography>\n                    <Typography className={classes.amountValue} color=\"primary\">\n                        Rs. {ANNUAL_AMOUNT.toLocaleString()}\n                    </Typography>\n                    <Typography className={classes.amountSubtext} color=\"textSecondary\">\n                        Per year\n                    </Typography>\n                </div>\n\n                <Divider className={classes.divider} />\n\n                {/* Payment Method Section */}\n                <Typography className={classes.sectionTitle}>\n                    Payment Method\n                </Typography>\n                <RadioButton\n                    size={12}\n                    name=\"paymentMethod\"\n                    value={paymentMethod}\n                    onChange={(e) => setPaymentMethod(e.target.value)}\n                    values={['Online Payment', 'Collect in Person']}\n                />\n\n                {/* Membership Card Details Section */}\n                <Divider className={classes.divider} />\n                <div className={classes.cardDetailsSection}>\n                    <Typography className={classes.sectionTitle}>\n                        <CreditCard style={{ verticalAlign: 'middle', marginRight: 8, fontSize: '1.5rem' }} />\n                        Membership Card Details\n                    </Typography>\n                    <Typography className={classes.sectionDescription} color=\"textSecondary\" style={{ marginBottom: 20 }}>\n                        Customize how your name appears on your membership card\n                    </Typography>\n\n                    {/* Card Preview */}\n                    <div className={classes.cardPreviewContainer}>\n                        <div className={`${classes.cardPreview} ${classes.cardPreviewDesign}`}>\n                            <div>\n                                <CreditCard className={classes.cardIcon} />\n                                <Typography className={classes.cardLabel}>\n                                    MEMBERSHIP CARD\n                                </Typography>\n                                {memberData?.memberCode && (\n                                    <Typography className={classes.cardMemberId}>\n                                        {memberData.memberCode}\n                                    </Typography>\n                                )}\n                            </div>\n                            <div>\n                                {nameOnCard ? (\n                                    <Typography className={classes.cardName}>\n                                        {nameOnCard.toUpperCase()}\n                                    </Typography>\n                                ) : (\n                                    <Typography className={classes.cardNamePlaceholder}>\n                                        YOUR NAME HERE\n                                    </Typography>\n                                )}\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Name Input */}\n                    <Grid container spacing={3}>\n                        <Grid item xs={12}>\n                            <TextField\n                                fullWidth\n                                className={classes.textField}\n                                label=\"Name on Card\"\n                                placeholder=\"Enter name as you want it on your card\"\n                                value={nameOnCard}\n                                onChange={(e) => setNameOnCard(e.target.value)}\n                                variant=\"outlined\"\n                                helperText=\"This name will appear on your membership card. You can see the preview above.\"\n                            />\n                        </Grid>\n                    </Grid>\n                </div>\n\n                <div className={classes.buttonGroup}>\n                    <Button\n                        variant=\"outlined\"\n                        color=\"primary\"\n                        size=\"large\"\n                        startIcon={<ArrowBack />}\n                        onClick={onBack}\n                        disabled={loading}\n                        className={classes.button}\n                    >\n                        Back\n                    </Button>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        size=\"large\"\n                        endIcon={<ArrowForward />}\n                        disabled={loading || !paymentMethod}\n                        onClick={handleSave}\n                        className={classes.button}\n                    >\n                        Continue\n                    </Button>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\nSubscriptionsDonations.propTypes = {\n    memberData: PropTypes.object,\n    memberId: PropTypes.string,\n    onNext: PropTypes.func,\n    onBack: PropTypes.func,\n    onDataUpdate: PropTypes.func\n};\n\nexport default SubscriptionsDonations;\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n    Card, CardContent, Typography, Button\n} from '@material-ui/core';\nimport { CheckCircle } from '@material-ui/icons';\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        backgroundColor: theme.palette.background.paper || '#fff',\n        borderRadius: 8,\n        padding: theme.spacing(4),\n        marginBottom: theme.spacing(2),\n        textAlign: 'center'\n    },\n    successIcon: {\n        fontSize: 80,\n        color: theme.palette.success.main || '#4caf50',\n        marginBottom: theme.spacing(2)\n    },\n    button: {\n        marginTop: theme.spacing(3),\n        padding: theme.spacing(1.5, 4)\n    }\n}));\n\nconst VerificationComplete = ({ memberData, onComplete }) => {\n    const classes = useStyles();\n\n    return (\n        <Card className={classes.card}>\n            <CardContent>\n                <CheckCircle className={classes.successIcon} />\n                \n                <Typography variant=\"h4\" gutterBottom>\n                    Verification Complete!\n                </Typography>\n                \n                <Typography variant=\"body1\" color=\"textSecondary\" style={{ marginTop: 20, marginBottom: 10 }}>\n                    Thank you, <strong>{memberData?.fullName || memberData?.shortName}</strong>\n                </Typography>\n                \n                <Typography variant=\"body2\" color=\"textSecondary\" style={{ marginBottom: 30 }}>\n                    Your profile has been successfully set up. You can now view and manage your details anytime.\n                </Typography>\n\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"large\"\n                    className={classes.button}\n                    onClick={onComplete}\n                >\n                    View My Profile\n                </Button>\n            </CardContent>\n        </Card>\n    );\n};\n\nVerificationComplete.propTypes = {\n    memberData: PropTypes.object,\n    onComplete: PropTypes.func\n};\n\nexport default VerificationComplete;\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n    Grid, Button, ExpansionPanel, ExpansionPanelDetails, Card, CardContent\n} from '@material-ui/core';\nimport { HeadingExpansion, Label } from 'business/widgets/Mini';\nimport { ArrowBack } from '@material-ui/icons';\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        backgroundColor: theme.palette.background.paper || '#fff',\n        borderRadius: 8,\n        padding: theme.spacing(2),\n        marginBottom: theme.spacing(2)\n    },\n    buttonGroup: {\n        marginTop: theme.spacing(3),\n        display: 'flex',\n        justifyContent: 'flex-start'\n    }\n}));\n\nconst ViewDetails = ({ memberData, onBack }) => {\n    const classes = useStyles();\n\n    return (\n        <Card className={classes.card}>\n            <CardContent>\n                <Grid container spacing={0} style={{ paddingTop: 0 }}>\n                    <Grid item xs={12}>\n                        <ExpansionPanel defaultExpanded>\n                            <HeadingExpansion title={'PERSONAL DETAILS'} />\n                            <ExpansionPanelDetails>\n                                <Grid container spacing={1}>\n                                    <Label size={3} label=\"Membership ID\" value={memberData?.memberCode} />\n                                    <Label size={3} label=\"Short Name\" value={memberData?.shortName} />\n                                    <Label size={6} label=\"Full Name\" value={memberData?.fullName} />\n                                    <Label size={3} label=\"Gender\" value={memberData?.gender} />\n                                    <Label size={3} label=\"NIC Number\" value={memberData?.nic} />\n                                    <Label size={3} label=\"Date of Birth\" value={memberData?.dateOfBirth} />\n                                </Grid>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                    </Grid>\n                </Grid>\n\n                <Grid container spacing={0} style={{ paddingTop: 5 }}>\n                    <Grid item xs={12}>\n                        <ExpansionPanel defaultExpanded>\n                            <HeadingExpansion title={'CONTACT DETAILS'} />\n                            <ExpansionPanelDetails>\n                                <Grid container spacing={1}>\n                                    <Label size={3} label=\"Email\" value={memberData?.email} />\n                                    <Label size={6} label=\"Address\" value={memberData?.address} />\n                                    <Label size={3} label=\"Mobile\" value={memberData?.contact} />\n                                    <Label size={3} label=\"Landline\" value={memberData?.contactAlt} />\n                                    <Label size={6} label=\"Note\" value={memberData?.note} />\n                                </Grid>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                    </Grid>\n                </Grid>\n\n                <Grid container spacing={0} style={{ paddingTop: 5 }}>\n                    <Grid item xs={12}>\n                        <ExpansionPanel defaultExpanded>\n                            <HeadingExpansion title={'SCHOOL DAYS'} />\n                            <ExpansionPanelDetails>\n                                <Grid container spacing={1}>\n                                    <Label size={2} label=\"O/L Batch\" value={memberData?.batchOl} />\n                                    <Label size={2} label=\"A/L Batch\" value={memberData?.batchAl} />\n                                    <Label size={2} label=\"Year of Admission\" value={memberData?.yearOfAdmission} />\n                                    <Label size={2} label=\"Year of Leaving\" value={memberData?.yearOfLeaving} />\n                                    <Label size={2} label=\"Index Number\" value={memberData?.indexNumber} />\n                                    <Label size={6} label=\"Achievements\" value={memberData?.achievements} />\n                                    <Label size={6} label=\"Positions Held\" value={memberData?.postionsHeld} />\n                                </Grid>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                    </Grid>\n                </Grid>\n\n                <Grid container spacing={0} style={{ paddingTop: 5 }}>\n                    <Grid item xs={12}>\n                        <ExpansionPanel defaultExpanded>\n                            <HeadingExpansion title={'EMPLOYMENT DETAILS'} />\n                            <ExpansionPanelDetails>\n                                <Grid container spacing={1}>\n                                    <Label size={2} label=\"Work Place\" value={memberData?.workPlace} />\n                                    <Label size={2} label=\"Designation\" value={memberData?.designation} />\n                                    <Label size={2} label=\"Category\" value={memberData?.workCategory} />\n                                    <Label size={6} label=\"Note\" value={memberData?.workNote} />\n                                </Grid>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                    </Grid>\n                </Grid>\n\n                <div className={classes.buttonGroup}>\n                    <Button\n                        variant=\"outlined\"\n                        color=\"primary\"\n                        size=\"large\"\n                        startIcon={<ArrowBack />}\n                        onClick={onBack}\n                    >\n                        Back\n                    </Button>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\nViewDetails.propTypes = {\n    memberData: PropTypes.object,\n    onBack: PropTypes.func\n};\n\nexport default ViewDetails;\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n    Grid, Button, Card, CardContent, Typography\n} from '@material-ui/core';\nimport { Label } from 'business/widgets/Mini';\nimport { ArrowBack, Payment } from '@material-ui/icons';\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        backgroundColor: theme.palette.background.paper || '#fff',\n        borderRadius: 8,\n        padding: theme.spacing(3),\n        marginBottom: theme.spacing(2)\n    },\n    infoCard: {\n        backgroundColor: theme.palette.primary.light || '#e3f2fd',\n        borderRadius: 8,\n        padding: theme.spacing(2),\n        marginTop: theme.spacing(2)\n    },\n    buttonGroup: {\n        marginTop: theme.spacing(3),\n        display: 'flex',\n        justifyContent: 'flex-start'\n    }\n}));\n\nconst ViewSubscriptions = ({ memberData, onBack }) => {\n    const classes = useStyles();\n\n    return (\n        <Card className={classes.card}>\n            <CardContent>\n                <Typography variant=\"h5\" gutterBottom>\n                    <Payment style={{ verticalAlign: 'middle', marginRight: 8 }} />\n                    Subscriptions & Donations\n                </Typography>\n\n                <Grid container spacing={2} style={{ marginTop: 10 }}>\n                    <Grid item xs={12} md={6}>\n                        <Label size={12} label=\"Annual Subscription Amount\" \n                            value={memberData?.subscriptionAmount ? `Rs. ${memberData.subscriptionAmount.toLocaleString()}` : 'Not set'} />\n                    </Grid>\n                    <Grid item xs={12} md={6}>\n                        <Label size={12} label=\"Subscription Type\" \n                            value={memberData?.subscriptionType === 'annual' ? 'Annual' : (memberData?.subscriptionType || 'Not set')} />\n                    </Grid>\n                    <Grid item xs={12} md={6}>\n                        <Label size={12} label=\"Payment Method\" \n                            value={memberData?.paymentMethod || 'Not set'} />\n                    </Grid>\n                    {memberData?.subscriptionDate && (\n                        <Grid item xs={12} md={6}>\n                            <Label size={12} label=\"Subscription Date\" \n                                value={new Date(memberData.subscriptionDate).toLocaleDateString()} />\n                        </Grid>\n                    )}\n                </Grid>\n\n                {!memberData?.subscriptionAmount && (\n                    <div className={classes.infoCard}>\n                        <Typography variant=\"body2\">\n                            No subscription set up yet. You can update your subscription details from the Edit Details page.\n                        </Typography>\n                    </div>\n                )}\n\n                <div className={classes.buttonGroup}>\n                    <Button\n                        variant=\"outlined\"\n                        color=\"primary\"\n                        size=\"large\"\n                        startIcon={<ArrowBack />}\n                        onClick={onBack}\n                    >\n                        Back\n                    </Button>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\nViewSubscriptions.propTypes = {\n    memberData: PropTypes.object,\n    onBack: PropTypes.func\n};\n\nexport default ViewSubscriptions;\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n    Button, Card, CardContent, Typography\n} from '@material-ui/core';\nimport { ArrowBack, CreditCard } from '@material-ui/icons';\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        backgroundColor: theme.palette.background.paper || '#fff',\n        borderRadius: 8,\n        padding: theme.spacing(3),\n        marginBottom: theme.spacing(2)\n    },\n    cardPreview: {\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n        borderRadius: 16,\n        padding: theme.spacing(4),\n        color: '#fff',\n        minHeight: 200,\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-between',\n        marginTop: theme.spacing(2),\n        boxShadow: '0 8px 16px rgba(0,0,0,0.2)'\n    },\n    cardNumber: {\n        fontSize: '1.5rem',\n        letterSpacing: '0.2em',\n        marginTop: theme.spacing(2)\n    },\n    cardName: {\n        fontSize: '1.2rem',\n        textTransform: 'uppercase',\n        marginTop: theme.spacing(2)\n    },\n    buttonGroup: {\n        marginTop: theme.spacing(3),\n        display: 'flex',\n        justifyContent: 'flex-start'\n    }\n}));\n\nconst ViewCardDetails = ({ memberData, onBack }) => {\n    const classes = useStyles();\n    const nameOnCard = memberData?.cardDetails?.nameOnCard || memberData?.fullName || 'Not Set';\n\n    return (\n        <Card className={classes.card}>\n            <CardContent>\n                <Typography variant=\"h5\" gutterBottom>\n                    <CreditCard style={{ verticalAlign: 'middle', marginRight: 8 }} />\n                    Membership Card\n                </Typography>\n\n                <div className={classes.cardPreview}>\n                    <div>\n                        <CreditCard style={{ fontSize: 40, opacity: 0.9 }} />\n                    </div>\n                    <div>\n                        <Typography variant=\"body2\" style={{ opacity: 0.8 }}>\n                            Membership Card\n                        </Typography>\n                        <Typography className={classes.cardNumber}>\n                               \n                        </Typography>\n                        <Typography className={classes.cardName}>\n                            {nameOnCard}\n                        </Typography>\n                    </div>\n                </div>\n\n                <Typography variant=\"body2\" color=\"textSecondary\" style={{ marginTop: 20 }}>\n                    Name on Card: <strong>{nameOnCard}</strong>\n                </Typography>\n\n                <div className={classes.buttonGroup}>\n                    <Button\n                        variant=\"outlined\"\n                        color=\"primary\"\n                        size=\"large\"\n                        startIcon={<ArrowBack />}\n                        onClick={onBack}\n                    >\n                        Back\n                    </Button>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\nViewCardDetails.propTypes = {\n    memberData: PropTypes.object,\n    onBack: PropTypes.func\n};\n\nexport default ViewCardDetails;\n\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n    Stepper, Step, StepLabel\n} from '@material-ui/core';\nimport { Edit, Payment, CheckCircle, Visibility, CreditCard } from '@material-ui/icons';\nimport { LinearLoader } from 'business/widgets/Mini';\nimport Service from 'business/services/members.service';\nimport VerificationService from 'business/services/memberVerification.service';\nimport { clientX } from 'portal/services/client.service';\nimport ZahiriansHeader from 'portal/components/ZahiriansHeader';\nimport { getAuth } from 'portal/services/firebaseAuth.service';\nimport EditDetails from './EditDetails';\nimport SubscriptionsDonations from './SubscriptionsDonations';\nimport VerificationComplete from './VerificationComplete';\nimport ViewDetails from './ViewDetails';\nimport ViewSubscriptions from './ViewSubscriptions';\nimport ViewCardDetails from './ViewCardDetails';\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        minHeight: '100vh',\n        backgroundColor: theme.palette.background.default || '#f5f5f5'\n    },\n    container: {\n        maxWidth: 1200,\n        margin: '0 auto',\n        padding: theme.spacing(2),\n        [theme.breakpoints.down('sm')]: {\n            padding: theme.spacing(1),\n        }\n    },\n    stepper: {\n        backgroundColor: 'transparent',\n        padding: theme.spacing(3, 0),\n        '& .MuiStepLabel-root': {\n            alignItems: 'center',\n        },\n        '& .MuiStepLabel-iconContainer': {\n            padding: 0,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n        }\n    },\n    content: {\n        marginTop: theme.spacing(2)\n    },\n    stepIconRoot: {\n        color: '#eaeaf0',\n        display: 'flex',\n        height: 44,\n        alignItems: 'center',\n        justifyContent: 'center',\n        [theme.breakpoints.down('sm')]: {\n            height: 40,\n        }\n    },\n    stepIcon: {\n        width: 44,\n        height: 44,\n        borderRadius: '50%',\n        backgroundColor: '#eaeaf0',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        color: '#9e9e9e',\n        zIndex: 1,\n        fontSize: '1.5rem',\n        transition: 'all 0.3s ease',\n        [theme.breakpoints.down('sm')]: {\n            width: 40,\n            height: 40,\n            fontSize: '1.375rem',\n        },\n        '&.active': {\n            backgroundColor: theme.palette.primary.main,\n            color: '#fff',\n            boxShadow: `0 4px 8px rgba(0,0,0,0.15)`,\n        },\n        '&.completed': {\n            backgroundColor: '#4caf50',\n            color: '#fff',\n        }\n    },\n    stepIconSvg: {\n        fontSize: '1.5rem',\n        [theme.breakpoints.down('sm')]: {\n            fontSize: '1.375rem',\n        }\n    }\n}));\n\n// Custom StepIcon Component\nconst CustomStepIcon = (props) => {\n    const classes = useStyles();\n    const { active, completed, icon } = props;\n\n    // Icon mapping for each step based on step number\n    const getIconForStep = (stepNumber) => {\n        // For first-time users: Edit Details, Zahirians Circle, Verification\n        // For returning users: Edit Details, View Details, Zahirians Circle\n        const iconMap = {\n            1: Edit,        // Edit Details\n            2: Payment,     // Zahirians Circle / View Details\n            3: CheckCircle, // Verification / Zahirians Circle\n            4: Visibility,  // View Details (if exists)\n            5: CreditCard   // Card Details (if exists)\n        };\n        return iconMap[stepNumber] || Edit;\n    };\n\n    const IconComponent = getIconForStep(icon);\n\n    return (\n        <div className={classes.stepIconRoot}>\n            <div className={`${classes.stepIcon} ${active ? 'active' : ''} ${completed ? 'completed' : ''}`}>\n                {completed ? (\n                    <CheckCircle className={classes.stepIconSvg} />\n                ) : (\n                    <IconComponent className={classes.stepIconSvg} />\n                )}\n            </div>\n        </div>\n    );\n};\n\nconst UserProfile = props => {\n    const classes = useStyles();\n    const { history } = props;\n\n    const [loading, setLoading] = React.useState(true);\n    const [memberId, setMemberId] = React.useState(null);\n    const [memberData, setMemberData] = React.useState(null);\n    const [activeStep, setActiveStep] = React.useState(0);\n    const [isFirstTime, setIsFirstTime] = React.useState(true);\n\n    // Get client config if available (safe check)\n    let branch = null;\n    try {\n        branch = clientX()?.branch;\n    } catch (e) {\n        // clientX might fail if not logged in, that's okay for test mode\n        branch = null;\n    }\n\n    // Check session and load member data\n    React.useEffect(() => {\n        const token = sessionStorage.getItem('userSessionToken');\n        const id = sessionStorage.getItem('userMemberId');\n        const testMode = sessionStorage.getItem('testMode') === 'true';\n\n        const loadMember = async (memberIdToLoad) => {\n            setLoading(true);\n            try {\n                const member = await Service.get({ id: memberIdToLoad });\n                if (member && Object.keys(member).length > 0) {\n                    // Add id to member data if not present\n                    const memberWithId = { ...member, id: memberIdToLoad };\n                    setMemberData(memberWithId);\n                    setMemberId(memberIdToLoad);\n\n                    // Check if first time (no subscription data or card details)\n                    const hasSubscriptions = member.subscriptionAmount && member.subscriptionAmount > 0;\n                    const hasCardDetails = member.cardDetails && member.cardDetails.nameOnCard;\n                    setIsFirstTime(!hasSubscriptions && !hasCardDetails);\n\n                    // If first time, start at step 0, else start at step 0 (Edit Details)\n                    setActiveStep(0);\n                } else {\n                    throw new Error('Member not found');\n                }\n            } catch (error) {\n                console.error('Failed to load member:', error);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        // If no token and not in test mode, redirect to verification\n        if ((!token || !id) && !testMode) {\n            window.location.href = '/user/verify';\n            return;\n        }\n\n        // TEST MODE: Load first member or use mock data\n        if (testMode) {\n            Service.get({}).then(members => {\n                if (members && Array.isArray(members) && members.length > 0) {\n                    const testMember = members[0];\n                    sessionStorage.setItem('userSessionToken', 'test-mode-token');\n                    sessionStorage.setItem('userMemberId', testMember.id);\n                    sessionStorage.setItem('testMode', 'true');\n                    loadMember(testMember.id);\n                } else {\n                    // No members found, use mock data\n                    const mockMember = {\n                        id: 'mock-member-001',\n                        nameWithInitials: 'A.B. Test',\n                        fullName: 'Test Member',\n                        email: 'test@example.com',\n                        mobile: '+94771234567',\n                        address: '123 Test Street, Colombo',\n                        batchOl: '2020',\n                        subscriptionAmount: 0,\n                        cardDetails: null\n                    };\n                    sessionStorage.setItem('userSessionToken', 'test-mode-token');\n                    sessionStorage.setItem('userMemberId', mockMember.id);\n                    sessionStorage.setItem('testMode', 'true');\n                    setMemberData(mockMember);\n                    setMemberId(mockMember.id);\n                    setIsFirstTime(true);\n                    setActiveStep(0);\n                    setLoading(false);\n                }\n            }).catch((error) => {\n                console.error('Could not load members, using mock data:', error);\n                // Use mock data on error\n                const mockMember = {\n                    id: 'mock-member-001',\n                    nameWithInitials: 'A.B. Test',\n                    fullName: 'Test Member',\n                    email: 'test@example.com',\n                    mobile: '+94771234567',\n                    address: '123 Test Street, Colombo',\n                    batchOl: '2020',\n                    subscriptionAmount: 0,\n                    cardDetails: null\n                };\n                sessionStorage.setItem('userSessionToken', 'test-mode-token');\n                sessionStorage.setItem('userMemberId', mockMember.id);\n                sessionStorage.setItem('testMode', 'true');\n                setMemberData(mockMember);\n                setMemberId(mockMember.id);\n                setIsFirstTime(true);\n                setActiveStep(0);\n                setLoading(false);\n            });\n            return;\n        }\n\n        // Normal flow\n        if (token && id) {\n            loadMember(id);\n        }\n        // eslint-disable-next-line\n\n    }, []);\n\n    const handleLogout = async () => {\n        try {\n            // Sign out from Firebase\n            try {\n                await getAuth().signOut();\n            } catch (e) {\n                console.log('Firebase signout error:', e);\n            }\n\n            const token = sessionStorage.getItem('userSessionToken');\n            if (token && token !== 'test-mode-token') {\n                try {\n                    await VerificationService.clearSession(token);\n                } catch (error) {\n                    // Ignore errors when clearing session, just continue with logout\n                    console.log('Session clear error (ignored):', error);\n                }\n            }\n        } catch (error) {\n            console.log('Logout error (ignored):', error);\n        } finally {\n            // Always clear session storage and redirect\n            sessionStorage.removeItem('userSessionToken');\n            sessionStorage.removeItem('userMemberId');\n            sessionStorage.removeItem('testMode');\n            // Use window.location for reliable redirect\n            window.location.href = '/user/verify';\n        }\n    };\n\n    const handleNext = () => {\n        setActiveStep(prev => prev + 1);\n    };\n\n    const handleBack = () => {\n        setActiveStep(prev => prev - 1);\n    };\n\n    const handleStepChange = (step) => {\n        setActiveStep(step);\n    };\n\n    const handleDataUpdate = (updatedData) => {\n        setMemberData(prev => ({ ...prev, ...updatedData }));\n    };\n\n    if (loading || !memberData) {\n        return (\n            <div className={classes.root}>\n                <LinearLoader loading={true} />\n            </div>\n        );\n    }\n\n    // First time user steps\n    const firstTimeSteps = [\n        'Edit Details',\n        'Zahirians Circle',\n        'Verification & Complete'\n    ];\n\n    // Returning user steps\n    const returningSteps = [\n        'Edit Details',\n        'View Details',\n        'Zahirians Circle'\n    ];\n\n    const steps = isFirstTime ? firstTimeSteps : returningSteps;\n\n    const renderStepContent = () => {\n        if (isFirstTime) {\n            switch (activeStep) {\n                case 0:\n                    return (\n                        <EditDetails\n                            memberData={memberData}\n                            memberId={memberId}\n                            onNext={handleNext}\n                            onDataUpdate={handleDataUpdate}\n                        />\n                    );\n                case 1:\n                    return (\n                        <SubscriptionsDonations\n                            memberData={memberData}\n                            memberId={memberId}\n                            onNext={handleNext}\n                            onBack={handleBack}\n                            onDataUpdate={handleDataUpdate}\n                        />\n                    );\n                case 2:\n                    return (\n                        <VerificationComplete\n                            memberData={memberData}\n                            onComplete={() => {\n                                setIsFirstTime(false);\n                                setActiveStep(0);\n                            }}\n                        />\n                    );\n                default:\n                    return null;\n            }\n        } else {\n            switch (activeStep) {\n                case 0:\n                    return (\n                        <EditDetails\n                            memberData={memberData}\n                            memberId={memberId}\n                            onNext={handleNext}\n                            onDataUpdate={handleDataUpdate}\n                        />\n                    );\n                case 1:\n                    return (\n                        <ViewDetails\n                            memberData={memberData}\n                            onBack={handleBack}\n                        />\n                    );\n                case 2:\n                    return (\n                        <ViewSubscriptions\n                            memberData={memberData}\n                            onBack={handleBack}\n                        />\n                    );\n                default:\n                    return null;\n            }\n        }\n    };\n\n    return (\n        <div className={classes.root}>\n            <ZahiriansHeader\n                memberName={memberData?.fullName || memberData?.nameWithInitials}\n                memberId={memberData?.memberCode || memberId}\n                onLogout={handleLogout}\n            />\n\n            <div className={classes.container}>\n                <Stepper activeStep={activeStep} className={classes.stepper} alternativeLabel>\n                    {steps.map((label, index) => (\n                        <Step key={label}>\n                            <StepLabel\n                                onClick={() => handleStepChange(index)}\n                                style={{ cursor: 'pointer' }}\n                                StepIconComponent={CustomStepIcon}\n                                StepIconProps={{ icon: index + 1 }}\n                            >\n                                {label}\n                            </StepLabel>\n                        </Step>\n                    ))}\n                </Stepper>\n\n                <div className={classes.content}>\n                    {renderStepContent()}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nUserProfile.propTypes = {\n    history: PropTypes.object\n};\n\nexport default withRouter(UserProfile);\n","export const pastels = [\r\n  'rgba(255, 99, 132, 1)',\r\n  'rgba(54, 162, 235, 1)',\r\n  'rgba(255, 206, 86, 1)',\r\n  'rgba(75, 192, 192, 1)',\r\n  'rgba(153, 102, 255, 1)',\r\n  'rgba(255, 159, 64, 1)',\r\n  'rgba(54, 162, 235, 1)',\r\n  'rgba(255, 206, 86, 1)',\r\n  'rgba(75, 192, 192, 1)',\r\n  'rgba(153, 102, 255, 1)',\r\n  'rgba(54, 162, 235, 1)',\r\n  'rgba(255, 206, 86, 1)',\r\n  'rgba(75, 192, 192, 1)',\r\n  'rgba(54, 162, 235, 1)',\r\n  'rgba(255, 206, 86, 1)',\r\n  'rgba(75, 192, 192, 1)',\r\n  'rgba(153, 102, 255, 1)',\r\n  'rgba(255, 159, 64, 1)',\r\n  'rgba(54, 162, 235, 1)',\r\n  'rgba(255, 206, 86, 1)',\r\n  'rgba(75, 192, 192, 1)',\r\n  'rgba(153, 102, 255, 1)',\r\n  'rgba(255, 159, 64, 1)',\r\n  'rgba(153, 102, 255, 1)',\r\n  'rgba(54, 162, 235, 1)',\r\n  'rgba(255, 206, 86, 1)',\r\n  'rgba(75, 192, 192, 1)',\r\n  'rgba(54, 162, 235, 1)',\r\n  'rgba(255, 206, 86, 1)',\r\n  'rgba(75, 192, 192, 1)',\r\n  'rgba(153, 102, 255, 1)',\r\n  'rgba(255, 159, 64, 1)',\r\n  'rgba(54, 162, 235, 1)',\r\n  'rgba(255, 206, 86, 1)',\r\n  'rgba(75, 192, 192, 1)',\r\n  'rgba(153, 102, 255, 1)',\r\n  'rgba(255, 159, 64, 1)',\r\n  'rgba(153, 102, 255, 1)',\r\n  'rgba(54, 162, 235, 1)',\r\n  'rgba(255, 206, 86, 1)',\r\n  'rgba(75, 192, 192, 1)',\r\n  'rgba(54, 162, 235, 1)',\r\n  'rgba(255, 206, 86, 1)',\r\n  'rgba(75, 192, 192, 1)',\r\n  'rgba(153, 102, 255, 1)',\r\n  'rgba(255, 159, 64, 1)',\r\n  'rgba(54, 162, 235, 1)',\r\n  'rgba(255, 206, 86, 1)',\r\n  'rgba(75, 192, 192, 1)',\r\n  'rgba(153, 102, 255, 1)',\r\n  'rgba(255, 159, 64, 1)',\r\n  'rgba(153, 102, 255, 1)',\r\n  'rgba(54, 162, 235, 1)',\r\n  'rgba(255, 206, 86, 1)',\r\n  'rgba(75, 192, 192, 1)',\r\n  'rgba(54, 162, 235, 1)',\r\n  'rgba(255, 206, 86, 1)',\r\n  'rgba(75, 192, 192, 1)',\r\n  'rgba(153, 102, 255, 1)',\r\n  'rgba(255, 159, 64, 1)',\r\n  'rgba(54, 162, 235, 1)',\r\n  'rgba(255, 206, 86, 1)',\r\n  'rgba(75, 192, 192, 1)',\r\n  'rgba(153, 102, 255, 1)',\r\n  'rgba(255, 159, 64, 1)',\r\n];","import React from 'react';\r\nimport {\r\n    Grid\r\n} from '@material-ui/core';\r\nimport { opCode } from './text';\r\nimport Flowchart from 'react-simple-flowchart';\r\nimport palette from 'portal/theme/palette';\r\nimport { pastels } from 'business/utils/colors';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        details, loading\r\n    } = props;\r\n\r\n    const opt = {\r\n        x: 0,\r\n        y: 0,\r\n        'line-width': 3,\r\n        'line-length': 30,\r\n        'text-margin': 8,\r\n        'font-size': 18,\r\n        'font-color': '#232323',\r\n        'line-color': palette.shades.main,\r\n        'element-color': palette.shades.main,\r\n        'fill': 'white',\r\n        'yes-text': 'YES',\r\n        'no-text': 'NO',\r\n        'arrow-end': 'block',\r\n        'scale': 0.6,\r\n        'symbols': {\r\n          start: {\r\n            'font-color': 'white',\r\n            'element-color': palette.shades.main,\r\n            'font-weight': 'bold',\r\n          },\r\n          end: {\r\n          },\r\n        },\r\n        'flowstate': {\r\n            style1: {\r\n              'font-size': 20, 'font-color': 'white', 'element-color': pastels[4],\r\n              fill: pastels[4]\r\n            },\r\n            style2: {\r\n              'font-size': 20, 'font-color': 'white', 'element-color': pastels[2],\r\n              fill: pastels[2]\r\n            },\r\n            style3: {\r\n              'font-size': 20, 'font-color': 'white', 'element-color': pastels[0],\r\n              fill: pastels[0]\r\n            },\r\n        },\r\n      };\r\n\r\n      const code = opCode(details)\r\n      // console.log(code)\r\n    return (\r\n        <Grid container justify=\"center\" alignItems=\"center\" alignContent=\"center\" >\r\n            {!loading && <Flowchart chartCode={code} options={opt}\r\n                onClick={elementText => {}}\r\n            />}\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Grid\r\n} from '@material-ui/core';\r\nimport { Card } from 'business/widgets/Mini';\r\nimport { Receipt, AssignmentTurnedIn, HourglassFull, People } from '@material-ui/icons';\r\nimport { pastels } from 'business/utils/colors';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        details, loading\r\n    } = props;\r\n    \r\n    const [data, setData] = React.useState([]);\r\n\r\n    React.useEffect(() => {\r\n        const cards = [\r\n            { color: pastels[2], label: 'New Members', labelRight: 'Today', isActive: true, value: details.assigned, icon: <People fontSize=\"large\" style={{ color: 'white' }} />},\r\n            { color: pastels[6], label: 'Total Members', labelRight: 'All', isActive: false, value: details.driverPicked, icon: <AssignmentTurnedIn fontSize=\"large\" style={{ color: 'white' }} />},\r\n            { color: pastels[0], label: 'Pending', labelRight: 'Month', isActive: false, value: details.notPicked, icon: <HourglassFull fontSize=\"large\" style={{ color: 'white' }} />},\r\n            { color: pastels[3], label: 'Subscriptions', labelRight: 'Today', isActive: true, value: details.totalPicked, icon: <Receipt fontSize=\"large\" style={{ color: 'white' }} />},\r\n        ];\r\n        setData(cards);\r\n    }, [details]);\r\n\r\n    return (\r\n        <Grid container style={{paddingBottom: 50}}>\r\n            {data.map(i => <Grid item xs={12} sm={3} style={{padding: 20, paddingLeft: 20}}>\r\n                <Card data={i} color={i.color} loading={loading} />\r\n            </Grid>)}\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import { GET } from 'portal/helpers/adapter';\r\nimport { types } from 'portal/helpers/constants';\r\nimport { clientX } from 'portal/services/client.service';\r\n\r\nconst aborter = new AbortController();\r\n\r\nconst getDashboardData = async() => {\r\n    return GET(`/v1/dashboard/get-landing-page?branchType=${clientX().type}&branch=${clientX().branch}`);\r\n}\r\n\r\nconst getSummaryCards = async(startDate) => {\r\n    return GET(`/v1/dashboard/summary-monthly?branchType=${clientX().type}&branch=${clientX().branch}&startDate=${startDate}`);\r\n}\r\n\r\nconst getHblMonthly = async(startDate) => {\r\n    return GET(`/v1/dashboard/hbl-monthly?branchType=${clientX().type}&branch=${clientX().branch}&startDate=${startDate}`);\r\n}\r\n\r\nconst getSalesAggregate = async(startDate, quarter) => {\r\n    return GET(`/v1/dashboard/sales-aggregate?branchType=${clientX().type}&branch=${clientX().branch}&startDate=${startDate}&quarter=${quarter}`);\r\n}\r\n\r\nconst getFlowChartData = async(startDate) => {\r\n    return GET(`/v1/dashboard/get-landing-page-flow-chart?branchType=${clientX().type}&branch=${clientX().branch}&startDate=${startDate}`);\r\n}\r\n\r\nconst getZonesVsDates = async(startDate) => {\r\n    return GET(`/v1/dashboard/get-zones-vs-dates?branchType=${clientX().type}&branch=${clientX().branch}&startDate=${startDate}`);\r\n}\r\n\r\nconst getDriversVsDates = async(startDate) => {\r\n    return GET(`/v1/dashboard/get-drivers-vs-dates?branchType=${clientX().type}&branch=${clientX().branch}&startDate=${startDate}`);\r\n}\r\n\r\nconst getDriverMonthly = async(startDate) => {\r\n    return GET(`/v1/dashboard/driver-monthly?branchType=${clientX().type}&branch=${clientX().branch}&startDate=${startDate}`);\r\n}\r\n\r\nconst getDriversSummary = async(startDate) => {\r\n    return GET(`/v1/dashboard/get-landing-drivers?branchType=${clientX().type}&branch=${clientX().branch}&startDate=${startDate}`);\r\n}\r\n\r\nconst getPickupZoneSummary = async(startDate) => {\r\n    return GET(`/v1/dashboard/get-landing-pickup-areas?branchType=${clientX().type}&branch=${clientX().branch}&startDate=${startDate}`);\r\n}\r\n\r\nconst getWarehouseSummary = async(startDate) => {\r\n    return GET(`/v1/dashboard/get-landing-warehouse-zones?branchType=${clientX().type}&branch=${clientX().branch}&startDate=${startDate}`);\r\n}\r\n\r\nconst getSideCounts = async() => {\r\n    if (!clientX().branch) return new Promise(a => a([]))\r\n    if (clientX().type === types.pickup_customer) return new Promise(a => a([]))\r\n    return GET(`/v1/dashboard/side-counts?branchType=${clientX().type}&branch=${clientX().branch}`);\r\n}\r\n\r\nconst getCrossBranch = async(branch, date) => {\r\n    return GET(`/v1/dashboard/cross-branch?branchType=${clientX().type}&branch=${branch.join('&branch=')}&date=${date}`);\r\n}\r\n\r\nconst getCrossBranchHblByFetched = async(branch, date) => {\r\n    return GET(`/v1/dashboard/cross-branch-hbls?branchType=${clientX().type}&branch=${branch.join('&branch=')}&date=${date}`);\r\n}\r\n\r\nconst getCrossBranchShipments = async(branch, date) => {\r\n    return GET(`/v1/dashboard/cross-branch-shipments?branchType=${clientX().type}&branch=${branch.join('&branch=')}&date=${date}`);\r\n}\r\n\r\nexport default {\r\n    getSideCounts,\r\n    getDashboardData,\r\n    getFlowChartData,\r\n    getHblMonthly,\r\n    getCrossBranch,\r\n    getCrossBranchHblByFetched,\r\n    getCrossBranchShipments,\r\n    getSalesAggregate,\r\n    getDriversVsDates,\r\n    getZonesVsDates,\r\n    getSummaryCards,\r\n    getDriverMonthly,\r\n    getDriversSummary,\r\n    getPickupZoneSummary,\r\n    getWarehouseSummary,\r\n\taborter\r\n}\r\n","import React from 'react';\r\nimport { HorizontalBar } from 'react-chartjs-2';\r\nimport Service from 'business/services/report.service';\r\nimport { useSnackbar } from 'notistack';\r\nimport reduce from 'lodash/reduce';\r\nimport { pastels } from '../../../../utils/colors';\r\nimport { Skeleton } from '@material-ui/lab';\r\nimport { Grid } from '@material-ui/core';\r\nimport { Heading } from 'business/widgets/Mini';\r\nimport { Commute, HomeWork, Map } from '@material-ui/icons';\r\n\r\nconst options = {\r\n  scales: {\r\n    yAxes: [{\r\n      ticks: {\r\n        stepSize: 1,\r\n        beginAtZero: true,\r\n      },\r\n      scaleLabel: {\r\n        display: true,\r\n        labelString: '  '\r\n      }\r\n    }],\r\n    xAxes: [{\r\n      ticks: {\r\n        beginAtZero: true,\r\n      },\r\n      scaleLabel: {\r\n        display: true,\r\n        labelString: 'Assigned'\r\n      }\r\n    }],\r\n  },\r\n  legend: {\r\n    display: false\r\n  }\r\n};\r\n\r\nconst prepare = result => {\r\n  const alls = reduce(result,\r\n    (all, { label, value }) => ({ labels: [ ...all.labels, (label || 'N/A')], values: [ ...all.values, value] }),\r\n    { labels: [], values: [] }\r\n  )\r\n  return {\r\n    labels: alls.labels || [],\r\n    datasets: [\r\n      {\r\n        data: alls.values || [],\r\n        backgroundColor: pastels, borderColor: pastels, borderWidth: 1,\r\n      },\r\n    ],\r\n  };\r\n}\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        searchFields\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    \r\n    const [details1, setDetails1] = React.useState({\r\n      labels: [],\r\n      datasets: [ { data: [] } ],\r\n    });\r\n    const [loading1, setLoading1] = React.useState(false);\r\n    const [details2, setDetails2] = React.useState({\r\n      labels: [],\r\n      datasets: [ { data: [] } ],\r\n    });\r\n    const [loading2, setLoading2] = React.useState(false);\r\n    const [details3, setDetails3] = React.useState({\r\n      labels: [],\r\n      datasets: [ { data: [] } ],\r\n    });\r\n    const [loading3, setLoading3] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        setLoading1(true);\r\n        Service.getDriversSummary(searchFields.startDate)\r\n            .then(result => {\r\n                setDetails1(prepare(result));\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading1(false))\r\n    }, [enqueueSnackbar, searchFields]);\r\n    \r\n    React.useEffect(() => {\r\n        setLoading2(true);\r\n        Service.getPickupZoneSummary(searchFields.startDate)\r\n            .then(result => {\r\n                setDetails2(prepare(result));\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading2(false))\r\n    }, [enqueueSnackbar, searchFields]);\r\n    \r\n    React.useEffect(() => {\r\n        setLoading3(true);\r\n        Service.getWarehouseSummary(searchFields.startDate)\r\n            .then(result => {\r\n                setDetails3(prepare(result));\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading3(false))\r\n    }, [enqueueSnackbar, searchFields]);\r\n\r\n    return <Grid container style={{paddingTop: 20, paddingBottom: 30}}>\r\n      <Grid md={4} style={{paddingLeft: 30}}>\r\n        <Heading size={12} Icon={Commute} title={'Drivers'} subtitle={'Summary: ' + searchFields.timeFrame} />\r\n      </Grid>\r\n      <Grid md={4} style={{paddingLeft: 40}}>\r\n        <Heading size={12} Icon={Map} title={'Pickup Areas'} subtitle={'Summary: ' + searchFields.timeFrame} />\r\n      </Grid>\r\n      <Grid md={4} style={{paddingLeft: 40}}>\r\n        <Heading size={12} Icon={HomeWork} title={'Warehouse Zones'} subtitle={'Summary: ' + searchFields.timeFrame} />\r\n      </Grid>\r\n      <Grid md={4} style={{padding: 10, boxShadow: '16px 23px 23px -22px #a2a2a275'}}>\r\n        {!loading1 && <HorizontalBar data={details1} options={options} />}\r\n        {loading1 && <Skeleton variant=\"text\" height={250} />}\r\n      </Grid>\r\n      <Grid md={4} style={{padding: 10, paddingLeft: 0, boxShadow: '16px 23px 23px -22px #a2a2a275'}}>\r\n        {!loading2 && <HorizontalBar data={details2} options={options} />}\r\n        {loading2 && <Skeleton variant=\"text\" height={250} />}\r\n      </Grid>\r\n      <Grid md={4} style={{padding: 10, boxShadow: '16px 23px 23px -22px #a2a2a275'}}>\r\n        {!loading3 && <HorizontalBar data={details3} options={options} />}\r\n        {loading3 && <Skeleton variant=\"text\" height={250} />}\r\n      </Grid>\r\n    </Grid>\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Card, CardHeader, CardContent,\r\n    Grid, Button, ButtonGroup,\r\n} from '@material-ui/core';\r\nimport Chart from './components/Chart';\r\nimport Cards from './components/Cards';\r\nimport Bar from './components/Bar';\r\nimport { Heading } from 'business/widgets/Mini';\r\nimport moment from 'moment';\r\nimport { map } from 'lodash';\r\nimport Service from 'business/services/report.service';\r\nimport { useSnackbar } from 'notistack';\r\nimport { Typography } from '@material-ui/core';\r\nimport { t } from 'business/utils/lang';\r\nimport { getUserGlobal } from 'portal/services/auth.service';\r\n\r\nconst timeFrames = ['Today', 'Two days', 'Four days', 'One week'];\r\n\r\nconst UI = (props) => {\r\n    const [changed, setChanged] = React.useState(0);\r\n    const [loading, setLoading] = React.useState(false);\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const [searchFields, setSearchFields] = React.useState({\r\n        startDate: moment().subtract(2, 'd').format('YYYY-MM-DD'),\r\n        timeFrame: timeFrames[1],\r\n    });\r\n\r\n    const onChangeTime = e => {\r\n        let startDate;\r\n        if (e === timeFrames[0]) {\r\n            startDate = moment().subtract(0, 'd').format('YYYY-MM-DD')\r\n        }\r\n        else if (e === timeFrames[1]) {\r\n            startDate = moment().subtract(2, 'd').format('YYYY-MM-DD')\r\n        }\r\n        else if (e === timeFrames[2]) {\r\n            startDate = moment().subtract(4, 'd').format('YYYY-MM-DD')\r\n        }\r\n        else if (e === timeFrames[3]) {\r\n            startDate = moment().subtract(7, 'd').format('YYYY-MM-DD')\r\n        }\r\n        setSearchFields({ ...searchFields, timeFrame: e, startDate });\r\n        setChanged(changed + 1)\r\n    };\r\n\r\n    const [details, setDetails] = React.useState({\r\n        jobs: '-', directHbl: '-', assigned: '-', notAssigned: '-', driverPicked: '-', totalPicked: '-', notPicked: '-', cashed: '-', notCashed: '-', \r\n    });\r\n\r\n    React.useEffect(() => {\r\n        setLoading(true);\r\n        setLoading(false);\r\n        // Service.getFlowChartData(searchFields.startDate)\r\n        //     .then(result => {\r\n        //         let hblDirectNotCashed = 0;\r\n        //         let hblDirectCashed = 0;\r\n        //         let jobNotAssigned = 0;\r\n        //         let jobAssigned = 0;\r\n        //         let jobPicked = 0;\r\n        //         let jobCashed = 0;\r\n        //         map(result, i => {\r\n        //             if (i.label === 'NULL#-1') jobNotAssigned = +i.value\r\n        //             else if (i.label === 'NULL#0') hblDirectNotCashed = +i.value\r\n        //             else if (i.label === 'NULL#1') hblDirectCashed = +i.value\r\n        //             else if (i.label.includes('#-1')) jobAssigned = +i.value\r\n        //             else if (i.label.includes('#0')) jobPicked = +i.value\r\n        //             else if (i.label.includes('#1')) jobCashed = +i.value\r\n        //         })\r\n        //         setDetails({\r\n        //             directHbl: hblDirectNotCashed + hblDirectCashed,\r\n        //             assigned: jobAssigned + jobPicked + jobCashed,\r\n        //             notAssigned: jobNotAssigned, \r\n        //             totalPicked: jobPicked + jobCashed + hblDirectNotCashed + hblDirectCashed,\r\n        //             driverPicked: jobPicked + jobCashed,\r\n        //             notPicked: jobAssigned,\r\n        //             jobs: jobNotAssigned + jobAssigned + jobPicked + jobCashed,\r\n        //             cashed: hblDirectCashed + jobCashed, \r\n        //             notCashed: jobPicked + hblDirectNotCashed, \r\n        //         });\r\n        //     }).catch(e => {\r\n        //         enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n        //     }).finally(e => setLoading(false))\r\n    }, [enqueueSnackbar, changed, setLoading, searchFields]);\r\n\r\n    return (<>\r\n        <Card elevation={0}>\r\n            <CardHeader title={\r\n                <Grid container spacing={1} justify=\"space-between\" alignContent=\"space-between\" alignItems=\"space-between\">\r\n                    <Heading size={4} title={t('Dashboard')} subtitle={t('Welcome, ') + getUserGlobal('displayName')} />\r\n                    <Grid container spacing={2} xs={8} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\" style={{paddingRight: 10, paddingTop: 10}}>\r\n                        <Typography style={{paddingRight: 10}}>{searchFields.startDate} Onwards </Typography>\r\n                        <ButtonGroup color=\"primary\">\r\n                            {timeFrames.map(i =>\r\n                                <Button size=\"small\" variant={i === searchFields.timeFrame ? 'contained' : 'outlined'} onClick={e => onChangeTime(i)} >{i}</Button>)}\r\n                        </ButtonGroup>\r\n                    </Grid>\r\n                </Grid>}\r\n            />\r\n            <CardContent>\r\n                <Card style={{paddingTop: 0}}>\r\n                    <Cards details={details} loading={loading} />\r\n                    {/* <Bar searchFields={searchFields} /> */}\r\n                </Card>\r\n            </CardContent>\r\n        </Card>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Grid\r\n} from '@material-ui/core';\r\nimport { Card } from 'business/widgets/Mini';\r\nimport { AssignmentTurnedIn, HourglassFull, Motorcycle } from '@material-ui/icons';\r\nimport { pastels } from 'business/utils/colors';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        details, loading\r\n    } = props;\r\n    \r\n    const [data, setData] = React.useState([]);\r\n\r\n    React.useEffect(() => {\r\n        const cards = [\r\n            { color: pastels[7], label: 'Assigned Jobs', labelRight: 'Now', isActive: true, value: details.totalJobs, icon: <Motorcycle fontSize=\"large\" style={{ color: 'white' }} />},\r\n            { color: pastels[6], label: 'Delivered', labelRight: 'Now', isActive: true, value: details.doorDelivered, icon: <AssignmentTurnedIn fontSize=\"large\" style={{ color: 'white' }} />},\r\n            { color: pastels[4], label: 'Pending', labelRight: 'Now', isActive: true, value: details.jobAssignedNotDelivered, icon: <HourglassFull fontSize=\"large\" style={{ color: 'white' }} />},\r\n        ];\r\n        setData(cards);\r\n    }, [details]);\r\n\r\n    return (\r\n        <Grid container style={{paddingBottom: 50}}>\r\n            {data.map(i => <Grid item xs={12} sm={4} style={{padding: 30, paddingLeft: 30}}>\r\n                <Card data={i} color={i.color} loading={loading} />\r\n            </Grid>)}\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Card, CardHeader, CardContent,\r\n    Grid, Button, ButtonGroup,\r\n} from '@material-ui/core';\r\n// import Chart from './components/Chart';\r\nimport Cards from './components/Cards';\r\nimport { Heading } from 'business/widgets/Mini';\r\nimport moment from 'moment';\r\nimport { map } from 'lodash';\r\nimport Service from 'business/services/report.service';\r\nimport { useSnackbar } from 'notistack';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nconst timeFrames = ['Today', 'Two days', 'Four days', 'One week'];\r\n\r\nconst UI = (props) => {\r\n    const [changed, setChanged] = React.useState(0);\r\n    const [loading, setLoading] = React.useState(false);\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const [searchFields, setSearchFields] = React.useState({\r\n        startDate: moment().subtract(4, 'd').format('YYYY-MM-DD'),\r\n        timeFrame: timeFrames[2],\r\n    });\r\n\r\n    const onChangeTime = e => {\r\n        let startDate;\r\n        if (e === timeFrames[0]) {\r\n            startDate = moment().subtract(0, 'd').format('YYYY-MM-DD')\r\n        }\r\n        else if (e === timeFrames[1]) {\r\n            startDate = moment().subtract(2, 'd').format('YYYY-MM-DD')\r\n        }\r\n        else if (e === timeFrames[2]) {\r\n            startDate = moment().subtract(4, 'd').format('YYYY-MM-DD')\r\n        }\r\n        else if (e === timeFrames[3]) {\r\n            startDate = moment().subtract(7, 'd').format('YYYY-MM-DD')\r\n        }\r\n        setSearchFields({ ...searchFields, timeFrame: e, startDate });\r\n        setChanged(changed + 1)\r\n    };\r\n\r\n    const [details, setDetails] = React.useState({\r\n        jobs: '-', directHbl: '-', assigned: '-', notAssigned: '-', driverPicked: '-', totalPicked: '-', notPicked: '-', cashed: '-', notCashed: '-', \r\n    });\r\n\r\n    React.useEffect(() => {\r\n        setLoading(true);\r\n        Service.getFlowChartData(searchFields.startDate)\r\n            .then(result => {\r\n                let jobAssignedNotDelivered = 0;\r\n                let jobNotAssigned = 0;\r\n                let doorDelivered = 0;\r\n                let upbDelivered = 0;\r\n                map(result, i => {\r\n                    if (i.label === 'NULL#3') jobNotAssigned = +i.value\r\n                    else if (i.label === 'NULL#4') upbDelivered = +i.value\r\n                    else if (i.label.includes('#3')) jobAssignedNotDelivered = +i.value\r\n                    else if (i.label.includes('#4')) doorDelivered = +i.value\r\n                })\r\n                setDetails({\r\n                    totalJobs: doorDelivered + jobAssignedNotDelivered,\r\n                    jobAssignedNotDelivered: jobAssignedNotDelivered,\r\n                    doorDelivered: doorDelivered,\r\n                    upbDelivered,\r\n                    jobNotAssigned,\r\n                });\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    }, [enqueueSnackbar, changed, setLoading, searchFields]);\r\n\r\n    return (<>\r\n        <Card elevation={0}>\r\n            <CardHeader title={\r\n                <Grid container spacing={1} justify=\"space-between\" alignContent=\"space-between\" alignItems=\"space-between\">\r\n                    <Heading size={4} title={'Dashboard'} subtitle={'Welcome, ' + localStorage.getItem(\"mw-u\")} />\r\n                    <Grid container spacing={2} xs={8} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\" style={{paddingRight: 10, paddingTop: 10}}>\r\n                        <Typography style={{paddingRight: 10}}>{searchFields.startDate} Onwards </Typography>\r\n                        <ButtonGroup color=\"primary\">\r\n                            {timeFrames.map(i =>\r\n                                <Button size=\"small\" variant={i === searchFields.timeFrame ? 'contained' : 'outlined'} onClick={e => onChangeTime(i)} >{i}</Button>)}\r\n                        </ButtonGroup>\r\n                    </Grid>\r\n                </Grid>}\r\n            />\r\n            <CardContent>\r\n                <Card style={{paddingTop: 0}}>\r\n                    <Cards details={details} loading={loading} />\r\n                    {/* <Chart details={details} loading={loading} /> */}\r\n                    <div style={{padding: 10}}></div>\r\n                </Card>\r\n            </CardContent>\r\n        </Card>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Grid\r\n} from '@material-ui/core';\r\nimport { Card } from 'business/widgets/Mini';\r\nimport { AssignmentTurnedIn, HourglassFull, Motorcycle } from '@material-ui/icons';\r\nimport { pastels } from 'business/utils/colors';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        details, loading\r\n    } = props;\r\n    \r\n    const [data, setData] = React.useState([]);\r\n\r\n    React.useEffect(() => {\r\n        const cards = [\r\n            { color: pastels[7], label: 'Assigned Jobs', labelRight: 'Now', isActive: true, value: details.totalJobs, icon: <Motorcycle fontSize=\"large\" style={{ color: 'white' }} />},\r\n            { color: pastels[6], label: 'Delivered', labelRight: 'Now', isActive: true, value: details.doorDelivered, icon: <AssignmentTurnedIn fontSize=\"large\" style={{ color: 'white' }} />},\r\n            { color: pastels[4], label: 'Pending', labelRight: 'Now', isActive: true, value: details.jobAssignedNotDelivered, icon: <HourglassFull fontSize=\"large\" style={{ color: 'white' }} />},\r\n        ];\r\n        setData(cards);\r\n    }, [details]);\r\n\r\n    return (\r\n        <Grid container style={{paddingBottom: 50}}>\r\n            {data.map(i => <Grid item xs={12} sm={4} style={{padding: 30, paddingLeft: 30}}>\r\n                <Card data={i} color={i.color} loading={loading} />\r\n            </Grid>)}\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Card, CardHeader, CardContent,\r\n    Grid, Button, ButtonGroup,\r\n} from '@material-ui/core';\r\n// import Chart from './components/Chart';\r\nimport Cards from './components/Cards';\r\nimport { Heading } from 'business/widgets/Mini';\r\nimport moment from 'moment';\r\nimport { map } from 'lodash';\r\nimport Service from 'business/services/report.service';\r\nimport { useSnackbar } from 'notistack';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nconst timeFrames = ['Today', 'Two days', 'Four days', 'One week'];\r\n\r\nconst UI = (props) => {\r\n    const [changed, setChanged] = React.useState(0);\r\n    const [loading, setLoading] = React.useState(false);\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const [searchFields, setSearchFields] = React.useState({\r\n        startDate: moment().subtract(4, 'd').format('YYYY-MM-DD'),\r\n        timeFrame: timeFrames[2],\r\n    });\r\n\r\n    const onChangeTime = e => {\r\n        let startDate;\r\n        if (e === timeFrames[0]) {\r\n            startDate = moment().subtract(0, 'd').format('YYYY-MM-DD')\r\n        }\r\n        else if (e === timeFrames[1]) {\r\n            startDate = moment().subtract(2, 'd').format('YYYY-MM-DD')\r\n        }\r\n        else if (e === timeFrames[2]) {\r\n            startDate = moment().subtract(4, 'd').format('YYYY-MM-DD')\r\n        }\r\n        else if (e === timeFrames[3]) {\r\n            startDate = moment().subtract(7, 'd').format('YYYY-MM-DD')\r\n        }\r\n        setSearchFields({ ...searchFields, timeFrame: e, startDate });\r\n        setChanged(changed + 1)\r\n    };\r\n\r\n    const [details, setDetails] = React.useState({\r\n        jobs: '-', directHbl: '-', assigned: '-', notAssigned: '-', driverPicked: '-', totalPicked: '-', notPicked: '-', cashed: '-', notCashed: '-', \r\n    });\r\n\r\n    React.useEffect(() => {\r\n        setLoading(true);\r\n        Service.getFlowChartData(searchFields.startDate)\r\n            .then(result => {\r\n                let jobAssignedNotDelivered = 0;\r\n                let jobNotAssigned = 0;\r\n                let doorDelivered = 0;\r\n                let upbDelivered = 0;\r\n                map(result, i => {\r\n                    if (i.label === 'NULL#3') jobNotAssigned = +i.value\r\n                    else if (i.label === 'NULL#4') upbDelivered = +i.value\r\n                    else if (i.label.includes('#3')) jobAssignedNotDelivered = +i.value\r\n                    else if (i.label.includes('#4')) doorDelivered = +i.value\r\n                })\r\n                setDetails({\r\n                    totalJobs: doorDelivered + jobAssignedNotDelivered,\r\n                    jobAssignedNotDelivered: jobAssignedNotDelivered,\r\n                    doorDelivered: doorDelivered,\r\n                    upbDelivered,\r\n                    jobNotAssigned,\r\n                });\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    }, [enqueueSnackbar, changed, setLoading, searchFields]);\r\n\r\n    return (<>\r\n        <Card elevation={0}>\r\n            <CardHeader title={\r\n                <Grid container spacing={1} justify=\"space-between\" alignContent=\"space-between\" alignItems=\"space-between\">\r\n                    <Heading size={4} title={'Dashboard'} subtitle={'Welcome, ' + localStorage.getItem(\"mw-u\")} />\r\n                    <Grid container spacing={2} xs={8} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\" style={{paddingRight: 10, paddingTop: 10}}>\r\n                        <Typography style={{paddingRight: 10}}>{searchFields.startDate} Onwards </Typography>\r\n                        <ButtonGroup color=\"primary\">\r\n                            {timeFrames.map(i =>\r\n                                <Button size=\"small\" variant={i === searchFields.timeFrame ? 'contained' : 'outlined'} onClick={e => onChangeTime(i)} >{i}</Button>)}\r\n                        </ButtonGroup>\r\n                    </Grid>\r\n                </Grid>}\r\n            />\r\n            <CardContent>\r\n                <Card style={{paddingTop: 0}}>\r\n                    <Cards details={details} loading={loading} />\r\n                    {/* <Chart details={details} loading={loading} /> */}\r\n                    <div style={{padding: 10}}></div>\r\n                </Card>\r\n            </CardContent>\r\n        </Card>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport Pickup from './main';\r\nimport Delivery from '../DashboardDelivery';\r\nimport DashboardDomestic from '../DashboardDomestic';\r\nimport { clientX } from 'portal/services/client.service';\r\nimport { types } from 'portal/helpers/constants';\r\n\r\n\r\nconst UI = (props) => {\r\n    if (clientX().type === types.domestic)\r\n        return <DashboardDomestic />\r\n    else if (clientX().type === types.delivery)\r\n        return <Delivery />\r\n    return <Pickup />;\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport Service from 'business/services/report.service';\r\nimport { useSnackbar } from 'notistack';\r\nimport reduce from 'lodash/reduce';\r\nimport map from 'lodash/map';\r\nimport orderBy from 'lodash/orderBy';\r\nimport filter from 'lodash/filter';\r\nimport { pastels } from '../../../../utils/colors';\r\nimport { Skeleton } from '@material-ui/lab';\r\n\r\nconst options = {\r\n  legend: {\r\n    position: 'right'\r\n  }\r\n};\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        changed, searchFields\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    \r\n    const [details, setDetails] = React.useState({\r\n      labels: [],\r\n      datasets: [ { data: [] } ],\r\n    });\r\n    const [loading, setLoading] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        setLoading(true);\r\n        Service.getDriverMonthly(searchFields.startDate)\r\n            .then(result => {\r\n                const alls = reduce(orderBy(map(filter(result, i => i.label), i => ({ label: i.label, value: +i.value })), ['value'], ['desc']),\r\n                    (all, { label, value }) => ({ labels: [ ...all.labels, `${label} (${value})`], values: [ ...all.values, value] }),\r\n                    { labels: [], values: [] }\r\n                )\r\n                setDetails({\r\n                  labels: alls.labels || [],\r\n                  datasets: [\r\n                    {\r\n                      label: 'Completed Jobs',\r\n                      data: alls.values || [],\r\n                      backgroundColor: pastels,\r\n                      borderColor: pastels,\r\n                      borderWidth: 1,\r\n                    },\r\n                  ],\r\n                });\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    }, [enqueueSnackbar, changed, searchFields]);\r\n\r\n    return <>\r\n      {!loading && <div style={{paddingRight: 30}}><Doughnut data={details} options={options} /></div>}\r\n      {loading && <Skeleton variant=\"text\" height={250} />}\r\n    </>;\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport Service from 'business/services/report.service';\r\nimport { useSnackbar } from 'notistack';\r\nimport reduce from 'lodash/reduce';\r\nimport orderBy from 'lodash/orderBy';\r\nimport { pastels } from '../../../../utils/colors';\r\nimport { Skeleton } from '@material-ui/lab';\r\n\r\nconst options = {\r\n  scales: {\r\n    yAxes: [{\r\n      ticks: {\r\n        stepSize: 1,\r\n        beginAtZero: true,\r\n      },\r\n      scaleLabel: {\r\n        display: true,\r\n        labelString: 'HBL'\r\n      }\r\n    }],\r\n    xAxes: [{\r\n      scaleLabel: {\r\n        display: true,\r\n        labelString: 'Date'\r\n      }\r\n    }],\r\n  },\r\n  legend: {\r\n    display: false\r\n  }\r\n};\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        changed, searchFields\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    \r\n    const [details, setDetails] = React.useState({\r\n      labels: [],\r\n      datasets: [ { data: [] } ],\r\n    });\r\n    const [loading, setLoading] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        setLoading(true);\r\n        Service.getHblMonthly(searchFields.startDate)\r\n            .then(result => {\r\n                const alls = reduce(orderBy(result, ['label'], ['asc']),\r\n                    (all, { label, value }) => ({ labels: [ ...all.labels, (label || '').substring(8)], values: [ ...all.values, value] }),\r\n                    { labels: [], values: [] }\r\n                )\r\n                setDetails({\r\n                  labels: alls.labels || [],\r\n                  datasets: [\r\n                    {\r\n                      data: alls.values || [],\r\n                      backgroundColor: pastels,\r\n                      borderColor: pastels,\r\n                      borderWidth: 1,\r\n                    },\r\n                  ],\r\n                });\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    }, [enqueueSnackbar, changed, searchFields]);\r\n\r\n    return <>\r\n      {!loading && <Bar data={details} options={options} />}\r\n      {loading && <Skeleton variant=\"text\" height={250} />}\r\n    </>;\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Grid\r\n} from '@material-ui/core';\r\nimport { Card } from 'business/widgets/Mini';\r\nimport Service from 'business/services/report.service';\r\nimport { useSnackbar } from 'notistack';\r\nimport reduce from 'lodash/reduce';\r\nimport { LocalShipping, Receipt } from '@material-ui/icons';\r\nimport { clientX } from 'portal/services/client.service';\r\nimport { pastels } from 'business/utils/colors';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        changed, searchFields\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    \r\n    const [details, setDetails] = React.useState([{}, {}]);\r\n    const [loading, setLoading] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        setLoading(true);\r\n        Service.getSummaryCards(searchFields.startDate)\r\n            .then(result => {\r\n                const obj = reduce(\r\n                    result,\r\n                    (acc, { label, value }) => ({ ...acc, [label]: value }),\r\n                    {}\r\n                )\r\n                const cards = [\r\n                    { color: pastels[6], label: 'HBLs', labelRight: clientX().branch, isActive: true, value: obj['this-month-cargo'], icon: <Receipt fontSize=\"large\" style={{ color: 'white' }} />},\r\n                    { color: pastels[7], label: 'Shipments', labelRight: clientX().branch, isActive: true, value: obj['this-month-loading'], icon: <LocalShipping fontSize=\"large\" style={{ color: 'white' }} />},\r\n                ];\r\n                setDetails(cards);\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    }, [enqueueSnackbar, changed, searchFields]);\r\n\r\n    return (\r\n        <Grid container style={{paddingBottom: 25}}>\r\n            <Grid item xs={12} sm={6} style={{}}>\r\n                <Card data={details[0]} color={details[0].color} loading={loading} />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6} style={{paddingLeft: 25}}>\r\n                <Card data={details[1]} color={details[1].color} loading={loading} />\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Grid, CardHeader, Card, CardContent\r\n} from '@material-ui/core';\r\nimport DriverDounut from './DriverDounut';\r\nimport HblBar from './HblBar';\r\nimport Cards from './Cards';\r\n\r\nconst UI = ({ searchFields }) => {\r\n    return (\r\n        <Grid container style={{paddingBottom: 30}}>\r\n            <Grid item xs={12} sm={6} style={{padding: 20}}>\r\n                <Card elevation={2} style={{}}>\r\n                    <CardHeader title={'Contribution of Drivers'} />\r\n                    <CardContent>\r\n                        <DriverDounut searchFields={searchFields} />\r\n                    </CardContent>\r\n                </Card>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6} style={{padding: 20}}>\r\n                <Cards searchFields={searchFields} />\r\n                <Card elevation={2} style={{marginTop: 20}}>\r\n                    <CardHeader title={'Number of HBL per day'} />\r\n                    <CardContent>\r\n                        <HblBar searchFields={searchFields} />\r\n                    </CardContent>\r\n                </Card>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6} style={{padding: 20}}>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import { clientX, clientZ } from 'portal/services/client.service';\r\nimport React from 'react';\r\n\r\nexport const PERMS = {\r\n    ADD_JOB: 'ADD_JOB',\r\n    ADD_HBL: 'ADD_HBL',\r\n    EDIT_HBL: 'EDIT_HBL',\r\n    PENDING_PICKUP: 'PP1',\r\n    PENDING_PICKUP_OPERATIONS: 'PP2',\r\n    SPACE1: '',\r\n    CASH_SETTLEMENT: 'CS1',\r\n    CASH_SETTLEMENT_OPERATIONS: 'CS2',\r\n    SPACE2: '',\r\n    PICKUP_WAREHOUSE: 'PW1',\r\n    PICKUP_WAREHOUSE_OPERATIONS: 'PW2',\r\n    SPACE3: '',\r\n    LOADING_POINT: 'LP1',\r\n    MANUAL_LOADING: 'ML1',\r\n    SPACE3A: '',\r\n    UN_LOADING_POINT: 'ULP1',\r\n    UN_LOADING_POINT_OPERATIONS: 'ULP2',\r\n    SPACE3B: '',\r\n    LOADED_SHIPMENTS: 'LS1',\r\n    LOADED_SHIPMENTS_OPERATIONS: 'LS2',\r\n    SPACE4: '',\r\n    BONDED_WAREHOUSE: 'BW1',\r\n    BONDED_WAREHOUSE_OPERATIONS: 'BW2',\r\n    SPACE5: '',\r\n    DELIVERY_WAREHOUSE: 'DW1',\r\n    DELIVERY_WAREHOUSE_OPERATIONS: 'DW2',\r\n    SPACE6: '',\r\n    DISPATCH_POINT: 'DP1',\r\n    DISPATCHED_CARGOS: 'DP2',\r\n    SPACE7: '',\r\n    COMPLAINTS: 'CO1',\r\n    COMPLAINTS_UPDATE: 'CO2',\r\n    SPACE8: '',\r\n    REPORTS: 'REPORTS',\r\n}\r\n\r\nexport const PERMS_CUSTOMER = {\r\n    CUSTOMER_ADD_JOB: 'CUS1',\r\n    CARGO_STATUS: 'CUS2',\r\n    GRID_OVERVIEW: 'CO5',\r\n    PENDING_PICKUP: 'CUS3',\r\n    PENDING_PICKUP_OPERATIONS: 'CUS4',\r\n    SPACE2: '',\r\n}\r\n\r\nexport const ROLES = {\r\n    ONLY_ADMIN: 'ONLY_ADMIN',\r\n}\r\n\r\nexport const hasAccess = (MODULE) => {\r\n    if (true) return true\r\n    const obj = clientZ()[clientX().branch];\r\n    if (MODULE === ROLES.ONLY_ADMIN) return obj.access === 'admin'\r\n    return obj.access === 'admin' ? true : obj.perms[MODULE]\r\n}\r\n\r\nexport const isEmptyAccess = () => {\r\n    const obj = clientZ()[clientX().branch] || {};\r\n    return obj.access === 'empty'\r\n}\r\n\r\nexport const NoAccessUI = () => <div style={{width: '80%', paddingLeft: '10%', paddingTop: '30vh', paddingBottom: '30vh', textAlign: 'center'}}>\r\n    You are not Authorized to view this section.<br/>Please contact your Admin</div>\r\n\r\nexport const NoAccessStr = 'You are not Authorized. Please contact Admin'","import React from 'react';\r\nimport {\r\n    Card, CardHeader, CardContent,\r\n    Grid, Button, ButtonGroup\r\n} from '@material-ui/core';\r\nimport Graphs from './components/Graphs';\r\nimport moment from 'moment';\r\nimport { Heading } from 'business/widgets/Mini';\r\nimport { Assessment } from '@material-ui/icons';\r\nimport { PERMS, hasAccess, NoAccessUI } from 'business/utils/permissions';\r\n\r\nconst timeFrames = ['Two days', 'This week', 'This month', 'Three Months'];\r\n\r\nconst UI = (props) => {\r\n    const [searchFields, setSearchFields] = React.useState({\r\n        startDate: moment().startOf(\"month\").format('YYYY-MM-DD'),\r\n        timeFrame: 'This month',\r\n    });\r\n\r\n    const onChangeTime = e => {\r\n        let startDate;\r\n        if (e === 'Two days') {\r\n            startDate = moment().subtract(2, 'd').format('YYYY-MM-DD')\r\n        }\r\n        else if (e === 'This week') {\r\n            startDate = moment().startOf(\"week\").format('YYYY-MM-DD')\r\n        }\r\n        else if (e === 'This month') {\r\n            startDate = moment().startOf(\"month\").format('YYYY-MM-DD')\r\n        }\r\n        else if (e === 'Three Months') {\r\n            startDate = moment().subtract(90, 'd').format('YYYY-MM-DD')\r\n        }\r\n        setSearchFields({ ...searchFields, timeFrame: e, startDate });\r\n    };\r\n\r\n    if (!hasAccess(PERMS.REPORTS)) return <NoAccessUI />\r\n    return (<>\r\n        <Card elevation={0}>\r\n            <CardHeader title={\r\n                <Grid container spacing={1} justify=\"space-between\" alignContent=\"space-between\" alignItems=\"space-between\">\r\n                    <Heading Icon={Assessment} size={4} title={'Progress/Efficiency'} subtitle={'Hi, ' + localStorage.getItem(\"mw-u\")} />\r\n                    <Grid container spacing={2} xs={8} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\" style={{paddingRight: 10, paddingTop: 10}}>\r\n                        <ButtonGroup color=\"primary\">\r\n                            {timeFrames.map(i =>\r\n                                <Button variant={i === searchFields.timeFrame ? 'contained' : 'outlined'} onClick={e => onChangeTime(i)} >{i}</Button>)}\r\n                        </ButtonGroup>\r\n                    </Grid>\r\n                </Grid>}\r\n            />\r\n            <CardContent>\r\n                <Card style={{paddingTop: 0}}>\r\n                    <Graphs searchFields={searchFields} />\r\n                    <div style={{padding: 200}}></div>\r\n                </Card>\r\n            </CardContent>\r\n        </Card>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport Service from 'business/services/members.service';\r\nimport { useSnackbar } from 'notistack';\r\nimport reduce from 'lodash/reduce';\r\nimport orderBy from 'lodash/orderBy';\r\nimport { pastels } from '../../../../utils/colors';\r\nimport { Skeleton } from '@material-ui/lab';\r\n\r\nconst options = {\r\n  scales: {\r\n    yAxes: [{\r\n      ticks: {\r\n        stepSize: 1,\r\n        beginAtZero: true,\r\n      },\r\n      scaleLabel: {\r\n        display: true,\r\n        labelString: 'Members'\r\n      }\r\n    }],\r\n    xAxes: [{\r\n      scaleLabel: {\r\n        display: true,\r\n        labelString: 'Batch'\r\n      }\r\n    }],\r\n  },\r\n  legend: {\r\n    display: false\r\n  }\r\n};\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        changed, searchFields\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    \r\n    const [details, setDetails] = React.useState({\r\n      labels: [],\r\n      datasets: [ { data: [] } ],\r\n    });\r\n    const [loading, setLoading] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n      return\r\n      setLoading(true);\r\n        Service.getMembersByBatch(searchFields.startDate)\r\n            .then(result => {\r\n                const alls = reduce(orderBy(result, ['label'], ['asc']),\r\n                    (all, { label, value }) => ({ labels: [ ...all.labels, (label || '').substring(8)], values: [ ...all.values, value] }),\r\n                    { labels: [], values: [] }\r\n                )\r\n                setDetails({\r\n                  labels: alls.labels || [],\r\n                  datasets: [\r\n                    {\r\n                      data: alls.values || [],\r\n                      backgroundColor: pastels,\r\n                      borderColor: pastels,\r\n                      borderWidth: 1,\r\n                    },\r\n                  ],\r\n                });\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    }, [enqueueSnackbar, changed, searchFields]);\r\n\r\n    return <>\r\n      {!loading && <Bar data={details} options={options} />}\r\n      {loading && <Skeleton variant=\"text\" height={250} />}\r\n    </>;\r\n};\r\n\r\nexport default UI;\r\n","import { GET, POST, PUT, DELETE } from 'portal/helpers/adapter';\r\nimport { clientX } from 'portal/services/client.service';\r\n\r\nconst getById = async(id, branch) => {\r\n    return GET(`/v1/driver/get-by-id/${id}?branch=${branch || clientX().branch}`)\r\n}\r\n\r\nconst getByBranch = async() => {\r\n    return GET(`/v1/driver/get-all?branch=${clientX().branch}`)\r\n}\r\n\r\nconst create = async(obj) => {\r\n\treturn POST(`/v1/driver/create?branch=${clientX().branch}`,  {\r\n        ...obj,\r\n        branch: clientX().branch,\r\n        auth: clientX().username,\r\n        createdDate: new Date()\r\n    })\r\n}\r\n\r\nconst update = async(id, obj) => {\r\n\treturn PUT(`/v1/driver/update/${id}?branch=${clientX().branch}`, obj)\r\n}\r\n\r\nconst updatePassword = async(username, obj) => {\r\n\treturn PUT(`/v1/driver/update-password?branch=${clientX().branch}`, {username: username, ...obj})\r\n}\r\n\r\nconst remove = async(id) => {\r\n\treturn DELETE(`/v1/driver/delete/${id}?branch=${clientX().branch}`)\r\n}\r\n\r\nexport default {\r\n    getById,\r\n    getByBranch,\r\n    updatePassword,\r\n    create,\r\n    remove,\r\n    update\r\n}\r\n","import React from 'react';\r\nimport {\r\n    Grid, CardHeader, Card, CardContent\r\n} from '@material-ui/core';\r\nimport HblBarMonthly from './HblBarMonthly';\r\nimport HeatMapZones from './HeatMapZones';\r\nimport HeatMapDrivers from './HeatMapDrivers';\r\n\r\nconst UI = ({ searchFields }) => {\r\n\r\n    return (\r\n        <Grid container style={{paddingBottom: 30}}>\r\n            {/* <Grid item xs={12} sm={12} style={{padding: 0}}>\r\n                <Card elevation={2} style={{marginTop: 20}}>\r\n                    <CardHeader title={'HBL Trend:: per DAY, per PICKUP ZONE'}\r\n                    />\r\n                    <CardContent>\r\n                        <HeatMapZones searchFields={searchFields} />\r\n                    </CardContent>\r\n                </Card>\r\n            </Grid>\r\n            <Grid item xs={12} sm={12} style={{padding: 0}}>\r\n                <Card elevation={2} style={{marginTop: 20}}>\r\n                    <CardHeader title={'HBL Trend:: per DAY, per DRIVER'}\r\n                    />\r\n                    <CardContent>\r\n                        <HeatMapDrivers searchFields={searchFields} />\r\n                    </CardContent>\r\n                </Card>\r\n            </Grid> */}\r\n            <Grid item xs={12} sm={12} style={{padding: 0}}>\r\n                <Card elevation={2} style={{marginTop: 20}}>\r\n                    <CardHeader title={'Members :: Batch'}\r\n                    />\r\n                    <CardContent>\r\n                        <HblBarMonthly searchFields={searchFields} />\r\n                    </CardContent>\r\n                </Card>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6} style={{padding: 20}}>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Card, CardHeader, CardContent,\r\n    Grid, Button, ButtonGroup\r\n} from '@material-ui/core';\r\nimport Graphs from './components/Graphs';\r\nimport moment from 'moment';\r\nimport { Heading } from 'business/widgets/Mini';\r\nimport { BubbleChart } from '@material-ui/icons';\r\nimport { PERMS, hasAccess, NoAccessUI } from 'business/utils/permissions';\r\n\r\nconst timeFrames = ['One Month', 'Two Months', 'Three Months'];\r\n\r\nconst UI = (props) => {\r\n    const [searchFields, setSearchFields] = React.useState({\r\n        startDate: moment().subtract(31, 'd').format('YYYY-MM-DD'),\r\n        timeFrame: timeFrames[0],\r\n    });\r\n\r\n    const onChangeTime = e => {\r\n        let startDate;\r\n        if (e === timeFrames[0]) {\r\n            startDate = moment().subtract(31, 'd').format('YYYY-MM-DD')\r\n        }\r\n        else if (e === timeFrames[1]) {\r\n            startDate = moment().subtract(62, 'd').format('YYYY-MM-DD')\r\n        }\r\n        else if (e === timeFrames[2]) {\r\n            startDate = moment().subtract(92, 'd').format('YYYY-MM-DD')\r\n        }\r\n        setSearchFields({ ...searchFields, timeFrame: e, startDate });\r\n    };\r\n\r\n    if (!hasAccess(PERMS.REPORTS)) return <NoAccessUI />\r\n    return (<>\r\n        <Card elevation={0}>\r\n            <CardHeader title={\r\n                <Grid container spacing={1} justify=\"space-between\" alignContent=\"space-between\" alignItems=\"space-between\">\r\n                    <Heading Icon={BubbleChart} size={4} title={'Members'} subtitle={'Batch Comparision'} />\r\n                    <Grid container spacing={2} xs={8} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\" style={{paddingRight: 10, paddingTop: 10}}>\r\n                        <ButtonGroup color=\"primary\">\r\n                            {timeFrames.map(i =>\r\n                                <Button variant={i === searchFields.timeFrame ? 'contained' : 'outlined'} onClick={e => onChangeTime(i)} >{i}</Button>)}\r\n                        </ButtonGroup>\r\n                    </Grid>\r\n                </Grid>}\r\n            />\r\n            <CardContent>\r\n                <Card style={{paddingTop: 0}}>\r\n                    <Graphs searchFields={searchFields} />\r\n                    <div style={{padding: 200}}></div>\r\n                </Card>\r\n            </CardContent>\r\n        </Card>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport Service from 'business/services/report.service';\r\nimport { useSnackbar } from 'notistack';\r\nimport { pastels } from '../../../../utils/colors';\r\nimport { Skeleton } from '@material-ui/lab';\r\nimport moment from 'moment';\r\n\r\nconst options = {\r\n  scales: {\r\n    yAxes: [{\r\n      ticks: {\r\n        beginAtZero: true,\r\n      },\r\n      scaleLabel: {\r\n        display: true,\r\n        labelString: 'Sales'\r\n      }\r\n    }],\r\n    xAxes: [{\r\n      scaleLabel: {\r\n        display: true,\r\n        labelString: 'Aggregated on Date'\r\n      }\r\n    }],\r\n  },\r\n  legend: {\r\n    display: false\r\n  }\r\n};\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        changed, searchFields, timeFrames\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    \r\n    const [details, setDetails] = React.useState({\r\n      labels: [],\r\n      datasets: [ { data: [] } ],\r\n    });\r\n    const [loading, setLoading] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        setLoading(true);\r\n        Service.getSalesAggregate(searchFields.startDate, searchFields.timeQuarter)\r\n            .then(result => {\r\n                const keyValue = {}\r\n                const labels = []\r\n                const values = []\r\n\r\n                let count = ''\r\n                let type = ''\r\n                if (searchFields.timeFrame === timeFrames[0]) {\r\n                    count = 14\r\n                    type = 'd'\r\n                }\r\n                else if (searchFields.timeFrame === timeFrames[1]) {\r\n                    count = 50\r\n                    type = 'd'\r\n                }\r\n                else if (searchFields.timeFrame === timeFrames[2]) {\r\n                    count = 6\r\n                    type = 'M'\r\n                }\r\n                else if (searchFields.timeFrame === timeFrames[3]) {\r\n                    count = 12\r\n                    type = 'M'\r\n                }\r\n                for (let i = 0; i < count; i++) {\r\n                    if (type === 'd') {\r\n                        result.forEach(i => {\r\n                          keyValue[i.label] = i.value\r\n                        });\r\n                        const label = moment().subtract(i, type).format('YYYY-MM-DD')\r\n                        labels[i] = label.substring(5);\r\n                        values[i] = keyValue[label] || 0;  \r\n                    } else if (type === 'M') {\r\n                        result.forEach(i => {\r\n                          keyValue[i.label.substring(0, 7)] = i.value\r\n                        });\r\n                        const label = moment().subtract(i, type).format('YYYY-MM')\r\n                        labels[i] = label;\r\n                        values[i] = keyValue[label] || 0;  \r\n                    }\r\n                }\r\n                setDetails({\r\n                    labels: labels.reverse() || [],\r\n                    datasets: [\r\n                      {\r\n                        data: values.reverse() || [],\r\n                        backgroundColor: pastels,\r\n                        borderColor: pastels,\r\n                        borderWidth: 1,\r\n                      },\r\n                    ],\r\n                });\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    }, [enqueueSnackbar, changed, searchFields, timeFrames]);\r\n\r\n    return <>\r\n      {!loading && <Bar data={details} options={options} />}\r\n      {loading && <Skeleton variant=\"text\" height={250} />}\r\n    </>;\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Grid, CardHeader, Card, CardContent\r\n} from '@material-ui/core';\r\nimport HblBarMonthly from './HblBarMonthly';\r\n\r\nconst UI = ({ searchFields, timeFrames }) => {\r\n\r\n    return (\r\n        <Grid container style={{paddingBottom: 30}}>\r\n            <Grid item xs={12} sm={12} style={{padding: 0}}>\r\n                <Card elevation={2} style={{marginTop: 20}}>\r\n                    <CardHeader title={'Sales :: ' + searchFields.timeFrame} />\r\n                    <CardContent>\r\n                        <HblBarMonthly timeFrames={timeFrames} searchFields={searchFields} />\r\n                    </CardContent>\r\n                </Card>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6} style={{padding: 20}}>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Card, CardHeader, CardContent,\r\n    Grid, Button, ButtonGroup\r\n} from '@material-ui/core';\r\nimport Graphs from './components/Graphs';\r\nimport moment from 'moment';\r\nimport { Heading } from 'business/widgets/Mini';\r\nimport { TrendingUp } from '@material-ui/icons';\r\nimport { PERMS, hasAccess, NoAccessUI } from 'business/utils/permissions';\r\n\r\nconst timeFrames = ['Two Weeks - daily', 'Two Month - daily', 'Six Months - Monthly', 'One Year - Monthly'];\r\n\r\nconst UI = (props) => {\r\n    const [searchFields, setSearchFields] = React.useState({\r\n        startDate: moment().subtract(31, 'd').format('YYYY-MM-DD'),\r\n        timeFrame: timeFrames[0],\r\n        timeQuarter: 'DAILY',\r\n    });\r\n\r\n    const onChangeTime = e => {\r\n        let startDate;\r\n        let timeQuarter;\r\n        if (e === timeFrames[0]) {\r\n            startDate = moment().subtract(14, 'd').format('YYYY-MM-DD')\r\n            timeQuarter = 'DAILY';\r\n        }\r\n        else if (e === timeFrames[1]) {\r\n            startDate = moment().subtract(2, 'M').format('YYYY-MM-DD')\r\n            timeQuarter = 'DAILY';\r\n        }\r\n        else if (e === timeFrames[2]) {\r\n            startDate = moment().subtract(6, 'M').format('YYYY-MM-DD')\r\n            timeQuarter = 'MONTHLY';\r\n        }\r\n        else if (e === timeFrames[3]) {\r\n            startDate = moment().subtract(12, 'M').format('YYYY-MM-DD')\r\n            timeQuarter = 'MONTHLY';\r\n        }\r\n        setSearchFields({ ...searchFields, timeQuarter, timeFrame: e, startDate });\r\n    };\r\n\r\n    if (!hasAccess(PERMS.REPORTS)) return <NoAccessUI />\r\n    return (<>\r\n        <Card elevation={0}>\r\n            <CardHeader title={\r\n                <Grid container spacing={1} justify=\"space-between\" alignContent=\"space-between\" alignItems=\"space-between\">\r\n                    <Heading Icon={TrendingUp} size={4} title={'Sales Trend'} subtitle={'Hi, ' + localStorage.getItem(\"mw-u\")} />\r\n                    <Grid container spacing={2} xs={8} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\" style={{paddingRight: 10, paddingTop: 10}}>\r\n                        <ButtonGroup color=\"primary\">\r\n                            {timeFrames.map(i =>\r\n                                <Button size=\"small\" variant={i === searchFields.timeFrame ? 'contained' : 'outlined'} onClick={e => onChangeTime(i)} >{i}</Button>)}\r\n                        </ButtonGroup>\r\n                    </Grid>\r\n                </Grid>}\r\n            />\r\n            <CardContent>\r\n                <Card style={{paddingTop: 0}}>\r\n                    <Graphs searchFields={searchFields} timeFrames={timeFrames} />\r\n                    <div style={{padding: 200}}></div>\r\n                </Card>\r\n            </CardContent>\r\n        </Card>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport { Chip } from '@material-ui/core';\r\nimport palette from 'portal/theme/palette';\r\nimport { thousandSeparator } from 'business/utils/number';\r\n\r\nconst customHeadRender = (columnMeta, updateDirection) => (\r\n    <th style={{textAlign: 'right', background: palette.shades.light, color: 'white'}}>\r\n        {columnMeta.label}\r\n    </th>\r\n)\r\n\r\nexport default [\r\n    {\r\n        label: '  ', name: '', options: { customHeadRender, display: true },\r\n    },\r\n    {\r\n        name: 'level', options: { display: false },\r\n    },\r\n    {\r\n        name: 'currency', options: { display: false },\r\n    },\r\n    {\r\n        label: 'Criteria', name: 'id',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            customBodyRender: function(value, meta) {\r\n                if (meta.rowData[1] === 1)\r\n                    return <b>{value}</b>\r\n                return <>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {value}</> \r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'HBL Count', name: 'count',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            setCellProps: () => ({ align: \"right\" }),\r\n            customHeadRender, customBodyRender: function(value, meta) {\r\n                if (meta.rowData[1] === 1)\r\n                    return <Chip label={Math.round(value)} style={{color: 'white', backgroundColor: palette.shades.green}} />\r\n                return <Chip label={Math.round(value)} />\r\n            },\r\n        },\r\n    },\r\n    {\r\n        label: 'Total sales', name: 'amount',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            setCellProps: () => ({ align: \"right\" }),\r\n            customHeadRender, customBodyRender: function(value, meta) {\r\n                if (meta.rowData[1] === 1)\r\n                    return <Chip label={meta.rowData[2] + ' ' + thousandSeparator(Math.round(value))} style={{color: 'white', backgroundColor: palette.shades.green}} />\r\n                return <Chip label={meta.rowData[2] + ' ' + thousandSeparator(Math.round(value)) } />\r\n            },\r\n        },\r\n    },\r\n    {\r\n        label: 'Total Collection', name: 'paid',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            setCellProps: () => ({ align: \"right\" }),\r\n            customHeadRender, customBodyRender: function(value, meta) {\r\n                if (meta.rowData[1] === 1)\r\n                    return <b>{meta.rowData[2] + ' ' + thousandSeparator(Math.round(value))}</b>\r\n                return meta.rowData[2] + ' ' + thousandSeparator(Math.round(value))\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: '  ', name: '', options: { customHeadRender, display: true },\r\n    },\r\n];\r\n\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport { createMuiTheme } from '@material-ui/core';\r\nimport MUIDataTable from 'mui-datatables';\r\nimport palette from 'portal/theme/palette';\r\n\r\nconst theme = createMuiTheme({\r\n    overrides: {\r\n        MuiTableCell: {\r\n            root: {\r\n                paddingLeft: '6px !important' ,\r\n                paddingRight: '6px !important' ,\r\n                paddingTop: '2px !important' ,\r\n                paddingBottom: '2px !important' ,\r\n            }\r\n        },\r\n        MUIDataTableHeadCell: {\r\n            root: {\r\n                padding: '8px !important' ,\r\n                border: '1px solid white',\r\n                backgroundColor : palette.shades.light + ' !important',\r\n                color : 'rgb(255, 255, 255) !important'\r\n            }\r\n        },\r\n        MuiIconButton: {\r\n            root: {\r\n                margin : '0 6px',\r\n                padding : 7,\r\n                fontSize: 20,\r\n                color: palette.shades.main,\r\n                '&:hover': {\r\n                  cursor : 'pointer'\r\n                }\r\n            }\r\n        },\r\n        MuiButton: {\r\n            root: {\r\n                backgroundColor: palette.shades.main + ' !important',\r\n                '&:hover': {\r\n                    backgroundColor: palette.shades.light + ' !important',\r\n                },\r\n                '&$disabled': {\r\n                    backgroundColor: palette.shades.light + ' !important',\r\n                }\r\n            }\r\n        },\r\n        MuiCheckbox: {\r\n            root: {\r\n                '&$checked': {\r\n                    color: palette.shades.main + ' !important',\r\n                }\r\n            }\r\n        },\r\n        MuiChip: {\r\n            label: {\r\n                paddingLeft: '6px !important',\r\n                paddingRight: '6px !important',\r\n                // minWidth: '20px !important',\r\n            }\r\n        },\r\n    }\r\n});\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        data, columns, minified, customToolbar, filter, onRowClick, noSearch, noPagination, sort, viewColumns, noDownload, title\r\n    } = props;\r\n\r\n    columns.forEach(c => (c.options.setCellHeaderProps = (value) => ({ })));\r\n\r\n    const options = {\r\n        elevation: 1,\r\n        responsive: 'standard',\r\n        tableBodyHeight: '100%',\r\n        selectableRows: 'none',\r\n        customToolbar,\r\n        textLabels: {\r\n            body: { noMatch: 'No Items' }\r\n        },\r\n        downloadOptions: {\r\n            filename: \"reports.csv\",\r\n        },\r\n        // rowHover: true,\r\n        setRowProps: (row, i) => ({\r\n            className: clsx({\r\n                // [classes.table]: true,\r\n                // [classes.darken]: i % 2 === 0\r\n            })\r\n        }),\r\n        onRowClick,\r\n        fixedHeader: true,\r\n        viewColumns: (viewColumns === undefined ? false : viewColumns),\r\n        download: minified ? false : (noDownload !== undefined ? !noDownload : true),\r\n        search: minified ? false : (noSearch !== undefined ? !noSearch : true),\r\n        print: false,\r\n        sort: (sort === undefined ? false : sort),\r\n        filter: minified ? false : filter,\r\n        filterType: 'checkbox' || 'dropdown',\r\n        serverSide: false,\r\n        pagination: minified ? false : (noPagination !== undefined ? !noPagination : true),\r\n        enableNestedDataAccess: '.',\r\n        // count: count,\r\n        // page: filters.pageIndex,\r\n        rowsPerPage: 100,\r\n    };\r\n\r\n    if (minified) \r\n        return <MUIDataTable data={data} options={options} columns={columns} />\r\n    return (\r\n        <ThemeProvider theme={theme}>\r\n            <MUIDataTable title={title} data={data} options={options} columns={columns} />\r\n        </ThemeProvider>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport { useSnackbar } from 'notistack';\r\nimport { pastels } from '../../../../utils/colors';\r\nimport { Skeleton } from '@material-ui/lab';\r\nimport { clientX } from 'portal/services/client.service';\r\nimport { clientY } from 'portal/services/auth.service';\r\n\r\nconst options = labelString => ({\r\n  plugins: {\r\n    title: {\r\n      display: true,\r\n      text: 'Chart.js Bar Chart - Stacked',\r\n    },\r\n  },\r\n  responsive: true,\r\n  interaction: {\r\n    mode: 'index',\r\n    intersect: false,\r\n  },\r\n  scales: {\r\n    x: {\r\n      stacked: true,\r\n    },\r\n    y: {\r\n      stacked: true,\r\n    },\r\n    yAxes: [{\r\n      scaleLabel: {\r\n        display: true,\r\n        labelString\r\n      }\r\n    }]\r\n  }\r\n});\r\n\r\nconst UI = (props) => {\r\n    const {\r\n      rawDetails, loading, level1, level2, paramter\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    \r\n    const [details, setDetails] = React.useState({\r\n      labels: ['qatar', 'dubai'],\r\n      datasets: [ { data: [12, 13] }, { data: [32, 23] } ],\r\n    });\r\n\r\n    React.useEffect(() => {\r\n        const labels = rawDetails.filter(i => i.level === 1).map(i => i[level1])\r\n        const secondaryValues = level2 === 'branch' ? clientY() \r\n          : level2 === 'warehouseLocation' ? clientX().warehouseLocation \r\n          : level2 === 'cargoMode' ? clientX().cargoMode \r\n          : level2 === 'deliveryType' ? clientX().deliveryType\r\n          : [] \r\n        const values = secondaryValues.map(cargoMode => rawDetails.filter(i => i.level === 2 && i[level2] === cargoMode).map(i => i[paramter]))\r\n\r\n        setDetails({\r\n            labels: labels || [],\r\n            datasets: values.map((data, i) => ({\r\n              label: secondaryValues[i],\r\n              data,\r\n              backgroundColor: pastels[4 + i],\r\n              stack: 'Stack 0',\r\n            })),\r\n        });\r\n    }, [enqueueSnackbar, rawDetails, level1, level2, paramter]);\r\n\r\n    return <>\r\n      {!loading && <Bar data={details} options={options('Total HBL ' + paramter)} />}\r\n      {loading && <Skeleton variant=\"text\" height={250} />}\r\n    </>;\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport Service from 'business/services/report.service';\r\nimport { useSnackbar } from 'notistack';\r\nimport { groupBy, map, values, reduce, forEach } from 'lodash';\r\nimport columns from './Cols';\r\nimport Table from 'business/widgets/Table';\r\nimport { LinearLoader, Select } from 'business/widgets/Mini';\r\nimport { Grid } from '@material-ui/core';\r\nimport { clientY } from 'portal/services/auth.service';\r\nimport BarCount from './BarCount';\r\nimport { clientF } from 'portal/services/client.service';\r\n\r\nconst levels = [{label: 'Branch', value: 'branch'}, {label: 'Cargo Mode', value: 'cargoMode'}, {label: 'Delivery Type', value: 'deliveryType'}, {label: 'Warehouse Location', value: 'warehouseLocation'}]\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        changed, searchFields\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    \r\n    const [details, setDetails] = React.useState([]);\r\n    const [rawDetails, setRawDetails] = React.useState([]);\r\n    const [loading, setLoading] = React.useState(false);\r\n    const [level1, setLevel1] = React.useState('branch');\r\n    const [level2, setLevel2] = React.useState('cargoMode');\r\n\r\n    React.useEffect(() => {\r\n        setLoading(true);\r\n        Service.getCrossBranch(clientY(), searchFields.startDate)\r\n            .then(result => {\r\n              setRawDetails(result)\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    }, [enqueueSnackbar, changed, searchFields]);\r\n\r\n    React.useEffect(() => {\r\n        const rows = []\r\n\r\n        // creating level 1 rows logic\r\n        const level1GroupedArray = groupBy(rawDetails, level1)\r\n        const level1Rows = map(values(level1GroupedArray), arr => reduce(arr, (t, n) => ({\r\n          [level1]: n[level1],\r\n          level: 1,\r\n          id: n[level1].toUpperCase() + \" (\" + level1.toLowerCase() + \")\",\r\n          count: (t.count || 0) + +n.count,\r\n          amount: (t.amount || 0) + +n.amount,\r\n          paid: (t.paid || 0) + +n.paid,\r\n          currency: level1 === 'branch' ? clientF(n.branch).currency : '',\r\n        }), {}))\r\n\r\n        // creating level 2 rows logic\r\n        forEach(level1Rows, level1Row => {\r\n          const level1Single = level1GroupedArray[level1Row[level1]]\r\n          const level2GroupedArray = groupBy(level1Single, level2)\r\n          const level2Rows = map(values(level2GroupedArray), arr => reduce(arr, (t, n) => ({\r\n                [level2]: n[level2],\r\n                id: \" - - - > \" + n[level2].toUpperCase() + \" (\" + level2.toLowerCase() + \")\",\r\n                level: 2,\r\n                count: (t.count || 0) + +n.count,\r\n                amount: (t.amount || 0) + +n.amount,\r\n                paid: (t.paid || 0) + +n.paid,\r\n                currency: (level2 === 'branch' || level1 === 'branch') ? clientF(n.branch).currency : '',\r\n            }), {}))\r\n\r\n          rows.push(level1Row, ...level2Rows)\r\n        })\r\n\r\n        setDetails(rows);\r\n    }, [enqueueSnackbar, rawDetails, level1, level2]);\r\n\r\n    return <>\r\n      <Grid container>\r\n          <Grid container xs={12} sm={12} md={12} lg={12} xl={12} style={{marginBottom: 10}}>\r\n              <Select size={2} label=\"Primary Level\" valueObjects={levels}\r\n                  value={level1} onChange={e => setLevel1(e.target.value)}>\r\n              </Select>\r\n              <Select size={2} label=\"Secondary Level\" valueObjects={levels} style={{marginLeft: 10}}\r\n                  value={level2} onChange={e => e.target.value !== level1 && setLevel2(e.target.value)}>\r\n              </Select>\r\n          </Grid>\r\n          <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n              <LinearLoader loading={loading} />\r\n              <Table data={details} columns={columns}\r\n                  filter={false} noSearch={true} noPagination={true} noDownload={true} />\r\n          </Grid>\r\n          <Grid item xs={5} sm={5} md={5} lg={5} xl={5} style={{marginTop: 80, paddingLeft: 40}}>\r\n              <BarCount paramter={'count'} rawDetails={details} loading={false && loading} level1={level1} level2={level2}/>\r\n          </Grid>\r\n          <Grid item xs={2} sm={2} md={2} lg={2} xl={2} style={{marginTop: 80}}>\r\n          </Grid>\r\n          <Grid item xs={5} sm={5} md={5} lg={5} xl={5} style={{marginTop: 80, paddingRight: 40}}>\r\n              <BarCount paramter={'amount'} rawDetails={details} loading={false && loading} level1={level1} level2={level2}/>\r\n          </Grid>\r\n      </Grid>\r\n    </>;\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Grid\r\n} from '@material-ui/core';\r\nimport Table from './Table';\r\n\r\nconst UI = ({ searchFields }) => {\r\n\r\n    return (\r\n        <Grid container style={{paddingBottom: 30}}>\r\n            <Grid item xs={12} sm={12} style={{padding: 0}}>\r\n                <Table searchFields={searchFields} />\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Card, CardHeader, CardContent,\r\n    Grid, Button, ButtonGroup\r\n} from '@material-ui/core';\r\nimport Graphs from './components/Graphs';\r\nimport moment from 'moment';\r\nimport { Heading } from 'business/widgets/Mini';\r\nimport { BubbleChart } from '@material-ui/icons';\r\nimport { PERMS, hasAccess, NoAccessUI } from 'business/utils/permissions';\r\n\r\nconst timeFrames = ['One Week', 'One Month', 'Three Months'];\r\n\r\nconst UI = (props) => {\r\n    const [searchFields, setSearchFields] = React.useState({\r\n        startDate: moment().subtract(7, 'd').format('YYYY-MM-DD'),\r\n        timeFrame: timeFrames[0],\r\n    });\r\n\r\n    const onChangeTime = e => {\r\n        let startDate;\r\n        if (e === timeFrames[0]) {\r\n            startDate = moment().subtract(7, 'd').format('YYYY-MM-DD')\r\n        }\r\n        else if (e === timeFrames[1]) {\r\n            startDate = moment().subtract(31, 'd').format('YYYY-MM-DD')\r\n        }\r\n        else if (e === timeFrames[2]) {\r\n            startDate = moment().subtract(92, 'd').format('YYYY-MM-DD')\r\n        }\r\n        setSearchFields({ ...searchFields, timeFrame: e, startDate });\r\n    };\r\n\r\n    if (!hasAccess(PERMS.REPORTS)) return <NoAccessUI />\r\n    return (<>\r\n        <Card elevation={0}>\r\n            <CardHeader title={\r\n                <Grid container spacing={1} justify=\"space-between\" alignContent=\"space-between\" alignItems=\"space-between\">\r\n                    <Heading Icon={BubbleChart} size={4} title={'Cross Branch Sales'} subtitle={'Hi, ' + localStorage.getItem(\"mw-u\")} />\r\n                    <Grid container spacing={2} xs={8} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\" style={{paddingRight: 10, paddingTop: 10}}>\r\n                        <ButtonGroup color=\"primary\">\r\n                            {timeFrames.map(i =>\r\n                                <Button variant={i === searchFields.timeFrame ? 'contained' : 'outlined'} onClick={e => onChangeTime(i)} >{i}</Button>)}\r\n                        </ButtonGroup>\r\n                    </Grid>\r\n                </Grid>}\r\n            />\r\n            <CardContent>\r\n                <Card style={{paddingTop: 0}}>\r\n                    <Graphs searchFields={searchFields} />\r\n                    <div style={{padding: 200}}></div>\r\n                </Card>\r\n            </CardContent>\r\n        </Card>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport palette from 'portal/theme/palette';\r\n\r\nconst customHeadRender = (columnMeta, updateDirection) => (\r\n    <th style={{textAlign: 'center', background: palette.shades.light, color: 'white'}}>\r\n        {columnMeta.label}\r\n    </th>\r\n)\r\n\r\nexport default [\r\n    {\r\n        label: '  ', name: '', options: { customHeadRender, display: true },\r\n    },\r\n    {\r\n        name: 'level', options: { display: false },\r\n    },\r\n    {\r\n        label: 'Criteria', name: 'id',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            customBodyRender: function(value, meta) {\r\n                if (meta.rowData[1] === 1)\r\n                    return <b>{value}</b>\r\n                return <>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {value}</> \r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'HBL', name: 'countPending',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            setCellProps: () => ({ align: \"center\" }),\r\n            customHeadRender, customBodyRender: function(value, meta) {\r\n                if (meta.rowIndex === 0)\r\n                    return <b>Pending</b>\r\n                if (meta.rowData[1] === 1)\r\n                    return <b>{Math.round(value)}</b>\r\n                return Math.round(value)\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'Volume', name: 'volumePending',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            setCellProps: () => ({ align: \"center\" }),\r\n            customHeadRender, customBodyRender: function(value, meta) {\r\n                if (meta.rowIndex === 0)\r\n                    return <b>Pending</b>\r\n                if (meta.rowData[1] === 1)\r\n                    return <b>{Math.round(value)}</b>\r\n                return Math.round(value)\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'Weight', name: 'weightPending',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            setCellProps: () => ({ align: \"center\" }),\r\n            customHeadRender, customBodyRender: function(value, meta) {\r\n                if (meta.rowIndex === 0)\r\n                    return <b>Pending</b>\r\n                if (meta.rowData[1] === 1)\r\n                    return <b>{Math.round(value)}</b>\r\n                return Math.round(value)\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: '  ', name: 'id',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            customBodyRender: function(value, meta) {\r\n                return <> </> \r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'HBL', name: 'countLoaded',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            setCellProps: () => ({ align: \"center\" }),\r\n            customHeadRender, customBodyRender: function(value, meta) {\r\n                if (meta.rowIndex === 0)\r\n                    return <b>Loaded</b>\r\n                if (meta.rowData[1] === 1)\r\n                    return <b>{Math.round(value)}</b>\r\n                return Math.round(value)\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'Volume', name: 'volumeLoaded',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            setCellProps: () => ({ align: \"center\" }),\r\n            customHeadRender, customBodyRender: function(value, meta) {\r\n                if (meta.rowIndex === 0)\r\n                    return <b>Loaded</b>\r\n                if (meta.rowData[1] === 1)\r\n                    return <b>{Math.round(value)}</b>\r\n                return Math.round(value)\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'Weight', name: 'weightLoaded',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            setCellProps: () => ({ align: \"center\" }),\r\n            customHeadRender, customBodyRender: function(value, meta) {\r\n                if (meta.rowIndex === 0)\r\n                    return <b>Loaded</b>\r\n                if (meta.rowData[1] === 1)\r\n                    return <b>{Math.round(value)}</b>\r\n                return Math.round(value)\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'Shipment', name: 'shipmentLoaded',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            setCellProps: () => ({ align: \"center\" }),\r\n            customHeadRender, customBodyRender: function(value, meta) {\r\n                if (meta.rowIndex === 0)\r\n                    return <b>Loaded</b>\r\n                if (meta.rowData[1] === 1)\r\n                    return <b>{Math.round(value)}</b>\r\n                return Math.round(value)\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: '  ', name: 'id',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            customBodyRender: function(value, meta) {\r\n                return <> </> \r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'HBL', name: 'countReached',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            setCellProps: () => ({ align: \"center\" }),\r\n            customHeadRender, customBodyRender: function(value, meta) {\r\n                if (meta.rowIndex === 0)\r\n                    return <b>Reached</b>\r\n                if (meta.rowData[1] === 1)\r\n                    return <b>{Math.round(value)}</b>\r\n                return Math.round(value)\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'Volume', name: 'volumeReached',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            setCellProps: () => ({ align: \"center\" }),\r\n            customHeadRender, customBodyRender: function(value, meta) {\r\n                if (meta.rowIndex === 0)\r\n                    return <b>Reached</b>\r\n                if (meta.rowData[1] === 1)\r\n                    return <b>{Math.round(value)}</b>\r\n                return Math.round(value)\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'Weight', name: 'weightReached',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            setCellProps: () => ({ align: \"center\" }),\r\n            customHeadRender, customBodyRender: function(value, meta) {\r\n                if (meta.rowIndex === 0)\r\n                    return <b>Reached</b>\r\n                if (meta.rowData[1] === 1)\r\n                    return <b>{Math.round(value)}</b>\r\n                return Math.round(value)\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'Shipment', name: 'shipmentReached',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            setCellProps: () => ({ align: \"center\" }),\r\n            customHeadRender, customBodyRender: function(value, meta) {\r\n                if (meta.rowIndex === 0)\r\n                    return <b>Reached</b>\r\n                if (meta.rowData[1] === 1)\r\n                    return <b>{Math.round(value)}</b>\r\n                return Math.round(value)\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: '  ', name: '', options: { customHeadRender, display: true },\r\n    },\r\n];\r\n\r\n","import React from 'react';\r\nimport Service from 'business/services/report.service';\r\nimport { useSnackbar } from 'notistack';\r\nimport { groupBy, map, values, reduce, forEach } from 'lodash';\r\nimport columns from './Cols';\r\nimport Table from 'business/widgets/Table';\r\nimport { LinearLoader, Select } from 'business/widgets/Mini';\r\nimport { Grid } from '@material-ui/core';\r\nimport { clientY } from 'portal/services/auth.service';\r\nimport BarCount from './BarCount';\r\n\r\nconst levels = [{label: 'Branch', value: 'branch'}, {label: 'Cargo Mode', value: 'cargoMode'}]\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        changed, searchFields\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    \r\n    const [details, setDetails] = React.useState([]);\r\n    const [rawDetails, setRawDetails] = React.useState([]);\r\n    const [rawDetails2, setRawDetails2] = React.useState([]);\r\n    const [loading, setLoading] = React.useState(false);\r\n    const [level1, setLevel1] = React.useState('branch');\r\n    const [level2, setLevel2] = React.useState('cargoMode');\r\n\r\n    React.useEffect(() => {\r\n        setLoading(2);\r\n        Service.getCrossBranchHblByFetched(clientY(), searchFields.startDate)\r\n            .then(result => {\r\n              setRawDetails(result)\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch HBLs', { variant: 'error' });\r\n            }).finally(e => setLoading(l => l - 1))\r\n        Service.getCrossBranchShipments(clientY(), searchFields.startDate)\r\n            .then(result => {\r\n              setRawDetails2(result)\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch Shipments', { variant: 'error' });\r\n            }).finally(e => setLoading(l => l - 1))\r\n    }, [enqueueSnackbar, changed, searchFields]);\r\n\r\n    React.useEffect(() => {\r\n        const rows = []\r\n\r\n        // creating level 1 rows logic\r\n        const level1GroupedArray = groupBy(rawDetails, level1)\r\n        const level1Rows = map(values(level1GroupedArray), arr => reduce(arr, (t, n) => ({\r\n            ...t,\r\n            [level1]: n[level1],\r\n            level: 1,\r\n            id: n[level1].toUpperCase(),\r\n            [`count${n.fetched}`]: (t[`count${n.fetched}`] || 0) + +n.count,\r\n            [`volume${n.fetched}`]: (t[`volume${n.fetched}`] || 0) + +n.volume,\r\n            [`weight${n.fetched}`]: (t[`weight${n.fetched}`] || 0) + +n.weight,\r\n            shipmentLoaded: rawDetails2.filter(i => i[level1] === n[level1] && i.reached === '0').reduce((t, n) => t + +n.count, 0) || 0,\r\n            shipmentReached: rawDetails2.filter(i => i[level1] === n[level1] && i.reached === '1').reduce((t, n) => t + +n.count, 0) || 0,\r\n        }), {}))\r\n\r\n        console.log(rawDetails.filter(i => i.fetched === 'Pending' && i[level1] === 'qatar' && i[level2] === 'Air Cargo'))\r\n        // creating level 2 rows logic\r\n        forEach(level1Rows, level1Row => {\r\n          const level1Single = level1GroupedArray[level1Row[level1]]\r\n          const level2GroupedArray = groupBy(level1Single, level2)\r\n          const level2Rows = map(values(level2GroupedArray), arr => reduce(arr, (t, n) => ({\r\n                ...t,\r\n                [level2]: n[level2],\r\n                id: \" - - - > \" + n[level2].toUpperCase(),\r\n                level: 2,\r\n                [`count${n.fetched}`]: (t[`count${n.fetched}`] || 0) + +n.count,\r\n                [`volume${n.fetched}`]: (t[`volume${n.fetched}`] || 0) + +n.volume,\r\n                [`weight${n.fetched}`]: (t[`weight${n.fetched}`] || 0) + +n.weight,\r\n                shipmentLoaded: rawDetails2.filter(i => i[level2] === n[level2] && i[level1] === n[level1] && i.reached === '0').reduce((t, n) => t + +n.count, 0) || 0,\r\n                shipmentReached: rawDetails2.filter(i => i[level2] === n[level2] && i[level1] === n[level1] && i.reached === '1').reduce((t, n) => t + +n.count, 0) || 0,\r\n            }), {}))\r\n\r\n          rows.push(level1Row, ...level2Rows)\r\n        })\r\n\r\n        const r = rows.map(row => {\r\n            return {\r\n                ...row,\r\n                countPending: row.countPending || 0,\r\n                countLoaded: row.countLoaded || 0,\r\n                countReached: row.countReached || 0,\r\n                volumePending: row.volumePending || 0,\r\n                volumeLoaded: row.volumeLoaded || 0,\r\n                volumeReached: row.volumeReached || 0,\r\n                weightPending: row.weightPending || 0,\r\n                weightLoaded: row.weightLoaded || 0,\r\n                weightReached: row.weightReached || 0,\r\n            }\r\n        });\r\n        setDetails([ ...r, {\r\n            id: 'TOTAL',\r\n            level: 1,\r\n            countPending: reduce(r, (t, n) => t + +(n.level === 1 ? n['countPending'] || 0 : 0), 0),\r\n            countLoaded: reduce(r, (t, n) => t + +(n.level === 1 ? n['countLoaded'] || 0 : 0), 0),\r\n            countReached: reduce(r, (t, n) => t + +(n.level === 1 ? n['countReached'] || 0 : 0), 0),\r\n            volumePending: reduce(r, (t, n) => t + +(n.level === 1 ? n['volumePending'] || 0 : 0), 0),\r\n            volumeLoaded: reduce(r, (t, n) => t + +(n.level === 1 ? n['volumeLoaded'] || 0 : 0), 0),\r\n            volumeReached: reduce(r, (t, n) => t + +(n.level === 1 ? n['volumeReached'] || 0 : 0), 0),\r\n            weightPending: reduce(r, (t, n) => t + +(n.level === 1 ? n['weightPending'] || 0 : 0), 0),\r\n            weightLoaded: reduce(r, (t, n) => t + +(n.level === 1 ? n['weightLoaded'] || 0 : 0), 0),\r\n            weightReached: reduce(r, (t, n) => t + +(n.level === 1 ? n['weightReached'] || 0 : 0), 0),\r\n            shipmentLoaded: reduce(r, (t, n) => t + +(n.level === 1 ? n['shipmentLoaded'] || 0 : 0), 0),\r\n            shipmentReached: reduce(r, (t, n) => t + +(n.level === 1 ? n['shipmentReached'] || 0 : 0), 0),\r\n        }]);\r\n\r\n    }, [enqueueSnackbar, rawDetails, rawDetails2, level1, level2]);\r\n\r\n    return <>\r\n      <Grid container>\r\n          <Grid container xs={12} sm={12} md={12} lg={12} xl={12} style={{marginBottom: 10}}>\r\n              <Select size={2} label=\"Primary Level\" valueObjects={levels}\r\n                  value={level1} onChange={e => setLevel1(e.target.value)}>\r\n              </Select>\r\n              <Select size={2} label=\"Secondary Level\" valueObjects={levels} style={{marginLeft: 10}}\r\n                  value={level2} onChange={e => e.target.value !== level1 && setLevel2(e.target.value)}>\r\n              </Select>\r\n          </Grid>\r\n          <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n              <LinearLoader loading={!!loading} />\r\n              <Table data={[{}, ...details]} columns={columns}\r\n                  filter={false} noSearch={true} noPagination={true} noDownload={true} />\r\n          </Grid>\r\n          {false && <><Grid item xs={5} sm={5} md={5} lg={5} xl={5} style={{marginTop: 80, paddingLeft: 40}}>\r\n              <BarCount paramter={'count'} rawDetails={details} loading={false && loading} level1={level1} level2={level2}/>\r\n          </Grid>\r\n          <Grid item xs={2} sm={2} md={2} lg={2} xl={2} style={{marginTop: 80}}>\r\n          </Grid>\r\n          <Grid item xs={5} sm={5} md={5} lg={5} xl={5} style={{marginTop: 80, paddingRight: 40}}>\r\n              <BarCount paramter={'amount'} rawDetails={details} loading={false && loading} level1={level1} level2={level2}/>\r\n          </Grid></>}\r\n      </Grid>\r\n    </>;\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Grid\r\n} from '@material-ui/core';\r\nimport Table from './Table';\r\n\r\nconst UI = ({ searchFields }) => {\r\n\r\n    return (\r\n        <Grid container style={{paddingBottom: 30}}>\r\n            <Grid item xs={12} sm={12} style={{padding: 0}}>\r\n                <Table searchFields={searchFields} />\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Card, CardHeader, CardContent,\r\n    Grid, Button, ButtonGroup\r\n} from '@material-ui/core';\r\nimport Graphs from './components/Graphs';\r\nimport moment from 'moment';\r\nimport { Heading } from 'business/widgets/Mini';\r\nimport { BubbleChart } from '@material-ui/icons';\r\nimport { PERMS, hasAccess, NoAccessUI } from 'business/utils/permissions';\r\n\r\nconst timeFrames = ['Two Weeks', 'One Month', 'Three Months'];\r\n\r\nconst UI = (props) => {\r\n    const [searchFields, setSearchFields] = React.useState({\r\n        startDate: moment().subtract(14, 'd').format('YYYY-MM-DD'),\r\n        timeFrame: timeFrames[0],\r\n    });\r\n\r\n    const onChangeTime = e => {\r\n        let startDate;\r\n        if (e === timeFrames[0]) {\r\n            startDate = moment().subtract(14, 'd').format('YYYY-MM-DD')\r\n        }\r\n        else if (e === timeFrames[1]) {\r\n            startDate = moment().subtract(31, 'd').format('YYYY-MM-DD')\r\n        }\r\n        else if (e === timeFrames[2]) {\r\n            startDate = moment().subtract(92, 'd').format('YYYY-MM-DD')\r\n        }\r\n        setSearchFields({ ...searchFields, timeFrame: e, startDate });\r\n    };\r\n\r\n    if (!hasAccess(PERMS.REPORTS)) return <NoAccessUI />\r\n    return (<>\r\n        <Card elevation={0}>\r\n            <CardHeader title={\r\n                <Grid container spacing={1} justify=\"space-between\" alignContent=\"space-between\" alignItems=\"space-between\">\r\n                    <Heading Icon={BubbleChart} size={4} title={'Cross Branch Shipments'} subtitle={'Hi, ' + localStorage.getItem(\"mw-u\")} />\r\n                    <Grid container spacing={2} xs={8} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\" style={{paddingRight: 10, paddingTop: 10}}>\r\n                        <ButtonGroup color=\"primary\">\r\n                            {timeFrames.map(i =>\r\n                                <Button variant={i === searchFields.timeFrame ? 'contained' : 'outlined'} onClick={e => onChangeTime(i)} >{i}</Button>)}\r\n                        </ButtonGroup>\r\n                    </Grid>\r\n                </Grid>}\r\n            />\r\n            <CardContent>\r\n                <Card style={{paddingTop: 0}}>\r\n                    <Graphs searchFields={searchFields} />\r\n                    <div style={{padding: 200}}></div>\r\n                </Card>\r\n            </CardContent>\r\n        </Card>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport { Grid, } from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\nimport columns from './Cols';\r\nimport Table from 'business/widgets/Table';\r\nimport {\r\n    LinearLoader,\r\n} from 'business/widgets/Mini';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        excelCargos\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    \r\n    const [loading, setLoading] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        setLoading(false)\r\n    }, [enqueueSnackbar]);\r\n\r\n    return (\r\n        <div>\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <LinearLoader loading={loading} />\r\n                    <Table data={excelCargos} columns={columns} filter={false} />\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Card, CardHeader, CardContent, Grid,\r\n    Button,\r\n} from '@material-ui/core';\r\nimport List from './components/List';\r\nimport { \r\n    LinearLoader, DateOnly, Heading, Radio, Text, Select\r\n} from 'business/widgets/Mini';\r\nimport moment from 'moment';\r\nimport CloudUpload from '@material-ui/icons/CloudUpload';\r\nimport { clientX } from 'portal/services/client.service';\r\nimport { DropzoneArea } from 'material-ui-dropzone'\r\nimport { onUpload } from './fileRead'\r\nimport { Description } from '@material-ui/icons';\r\nimport Service from 'business/services/loading.service';\r\nimport { useSnackbar } from 'notistack';\r\nimport columns from './components/Cols';\r\nimport groupBy from 'lodash/groupBy';\r\nimport values from 'lodash/values';\r\nimport map from 'lodash/map';\r\nimport { PERMS, hasAccess, NoAccessUI } from 'business/utils/permissions';\r\n\r\nconst UI = (props) => {\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const [searchFields, setSearchFields] = React.useState({\r\n        startDate: moment().subtract(2, 'd').format('YYYY-MM-DD'),\r\n        endDate: moment().format('YYYY-MM-DD'),\r\n    });\r\n    const [excelCargos, setExcelCargos] = React.useState([]);\r\n    const [loading, setLoading] = React.useState(false);\r\n\r\n    const onChange = e => {\r\n        setSearchFields({ ...searchFields, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const finishLoading = e => {\r\n        if (!searchFields.cargoMode || !searchFields.origin || !searchFields.destination) {\r\n            enqueueSnackbar('Please select Cargo Mode, Destination and Origin', { variant: 'warning' });\r\n            return\r\n        }\r\n        setLoading(true);\r\n        const cargos = groupBy(excelCargos, 'HBL')\r\n        const cargosAndPackages = map(values(cargos), i => {\r\n            const uuid = Math.random().toString(16).slice(2, 10) + '-' + Math.random().toString(16).slice(2, 10)\r\n            return {\r\n                cargo: {\r\n                    branch: searchFields.origin,\r\n                    cargoMode: searchFields.cargoMode,\r\n                    id: i[0]['HBL'],\r\n                    name: i[0]['Name'],\r\n                    ppNo: i[0]['PP No'],\r\n                    contact: i[0]['Contact'],\r\n                    slAddress: i[0]['Consingee Address'],\r\n                    slName: i[0]['Consingee Name'],\r\n                    slContact: i[0]['Consingee Contact'],\r\n                    slNic: i[0]['Consingee NIC'],\r\n                    address: \"\",\r\n                    amount: 0,\r\n                    amountSpec: \"[]\",\r\n                    amountSystem: \"[]\",\r\n                    fetched: 0,\r\n                    paid: 0,\r\n                    pickedupDate: moment().format('YYYY-MM-DD'),\r\n                    pickedupTime: moment().format('HH:mm'),\r\n                    pickupDate: moment().format('YYYY-MM-DD'),\r\n                    pickupTime: moment().format('HH:mm'),\r\n                    deliveryType: i[0]['Delivery Type'],\r\n                    warehouseLocation: i[0]['Warehouse'],\r\n                    currency: '',\r\n                    uuid\r\n                    // add missing cargo fields here\r\n                },\r\n                packages: i.map(j => ({\r\n                    type: j['Package Type'],\r\n                    height: j['Height'],\r\n                    length: j['Length'],\r\n                    breadth: j['Width'],\r\n                    quantity: j['Quantity'],\r\n                    volume: j['Volume'],\r\n                    uuid\r\n                    // add missing package fields here\r\n                }))\r\n            }\r\n        })\r\n\r\n        Service.createLoadingFromExcel(searchFields, cargosAndPackages)\r\n            .then(rows => {\r\n                enqueueSnackbar('Created', { variant: 'success' });\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not create', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    };\r\n    \r\n    const sampleDownload = () => {\r\n        const cols = columns.slice(1).map(i => i.name)\r\n        enqueueSnackbar('Sample File DownloadedExcel Column Names: ' + cols.join(', '), { variant: '' });\r\n        if(window.open('download/sample-shipment', '_blank')) {\r\n        } else {\r\n            enqueueSnackbar('Popop Blocked. File not Downloaded. Excel Column Names: ' + cols.join(', '), { variant: '' });\r\n        }\r\n    };\r\n\r\n    if (!hasAccess(PERMS.MANUAL_LOADING)) return <NoAccessUI />\r\n    return (<>\r\n        <Card elevation={0}>\r\n            <CardHeader title={\r\n                <Grid container spacing={1} justify=\"space-between\" alignContent=\"space-between\" alignItems=\"space-between\">\r\n                    <Heading Icon={CloudUpload} size={12} title={'Bulk Job Upload'} subtitle={'Pickup'} />\r\n                    <LinearLoader loading={loading} />\r\n                    <Grid container spacing={2} xs={1} style={{paddingLeft: 10}}></Grid>\r\n                    <Grid container spacing={2} xs={3} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\" style={{marginLeft: 10, marginTop: 10}}>\r\n                        <DropzoneArea onChange={a => onUpload(a, setExcelCargos)} filesLimit={1} getPreviewIcon={() => <Description />} maxFileSize={2000000}/>\r\n                    </Grid>\r\n                    <Grid container spacing={1} xs={6} justify=\"flex-start\" alignContent=\"center\" alignItems=\"center\" style={{marginTop: 10, paddingLeft: 10, border: '4px dashed #eeeeee', borderRadius: 5}}>\r\n                        <Radio size={12} name={'cargoMode'} onChange={onChange} pullRight={false}\r\n                            value={searchFields.cargoMode} values={clientX().cargoMode}>\r\n                        </Radio>\r\n                        <Select size={3} label=\"Origin\" name=\"origin\"\r\n                            value={searchFields.origin} values={clientX().pickups} onChange={onChange}>\r\n                        </Select>\r\n                        <Select size={3} label=\"Destination\" name=\"destination\"\r\n                            value={searchFields.destination} values={clientX().destination} onChange={onChange}>\r\n                        </Select>\r\n                        <DateOnly label=\"Date\" name=\"date\"\r\n                            value={searchFields.date} onChange={onChange}\r\n                        />\r\n                        <Text size={6} label=\"Ref\" name=\"ref\"\r\n                            value={searchFields.ref} onChange={onChange}>\r\n                        </Text>\r\n                        <Grid md={12} container justify=\"space-between\" style={{paddingLeft: 5, paddingRight: 10, paddingTop: 10, paddingBottom: 5}}>\r\n                            <Button color='primary' variant=\"contained\" size=\"medium\" onClick={finishLoading} style={{marginTop: 2}}>Confirm Upload</Button>\r\n                            <Button color='primary' variant=\"outlined\" size=\"medium\" onClick={sampleDownload} style={{marginTop: 2}}>Get Sample Excel</Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={2} xs={1} style={{paddingLeft: 10}}></Grid>\r\n                </Grid>}\r\n            />\r\n            <CardContent>\r\n                <Card>\r\n                    <List \r\n                        excelCargos={excelCargos}\r\n                    />\r\n                </Card>\r\n            </CardContent>\r\n        </Card>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import { GET, POST, PUT, DELETE } from 'portal/helpers/adapter';\r\nimport { clientX } from 'portal/services/client.service';\r\n\r\nconst get = async() => {\r\n    return GET(`/v1/zone/get-all?branch=${clientX().branch}`)\r\n}\r\n\r\nconst getById = async(id) => {\r\n    return GET(`/v1/zone/get-by-id/${id}?branch=${clientX().branch}`)\r\n}\r\n\r\nconst create = async(obj) => {\r\n\treturn POST(`/v1/zone/create?branch=${clientX().branch}`,  {\r\n        ...obj,\r\n        auth: clientX().username,\r\n        branch: clientX().branch,\r\n        createdDate: new Date()\r\n    })\r\n}\r\n\r\nconst update = async(id, obj) => {\r\n\treturn PUT(`/v1/zone/update/${id}?branch=${clientX().branch}`, obj)\r\n}\r\n\r\nconst remove = async(id) => {\r\n\treturn DELETE(`/v1/zone/delete/${id}?branch=${clientX().branch}`)\r\n}\r\n\r\nexport default {\r\n    get,\r\n    getById,\r\n    create,\r\n    remove,\r\n    update\r\n}\r\n","import React from 'react';\r\nimport {\r\n    Grid, Button, ExpansionPanel, ExpansionPanelDetails\r\n} from '@material-ui/core';\r\nimport {\r\n    Text, DateTime, LinearLoader, HeadingExpansion, Select, IconButton,\r\n    RadioButton, MobileNumber, TextAuto, Label\r\n} from 'business/widgets/Mini';\r\nimport { useSnackbar } from 'notistack';\r\nimport Service from 'business/services/hbl.service';\r\nimport ServiceZone from 'business/services/zone.service';\r\nimport { clientF, clientX } from 'portal/services/client.service';\r\nimport { Create, Room, PersonOutline, Email } from '@material-ui/icons';\r\nimport moment from 'moment';\r\nimport map from 'lodash/map';\r\nimport palette from 'portal/theme/palette';\r\nimport { filter, reduce } from 'lodash';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        loading, setLoading, setOverlayDetail, location, draft\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    \r\n    const init = {\r\n        pickupDateTime: moment(),\r\n        fetched: -1,\r\n        cargoMode: clientX().cargoMode[0],\r\n        currency: clientX().currency,\r\n        branch: clientX().branch,\r\n        uuid: Math.random().toString(16).slice(2, 10) + '-' + Math.random().toString(16).slice(2, 10)\r\n    }\r\n    const [details, setDetails] = React.useState({ ...init });\r\n    const [assigneeList, setAssigneeList] = React.useState([]);\r\n    \r\n    // Zone filters stuffs\r\n    const [addressList, setAddressList] = React.useState([]);\r\n    const [addressMap, setAddressMap] = React.useState([]);\r\n    \r\n    // Address breakdown feature\r\n    const [addressParts, setAddressParts] = React.useState({});\r\n    const addressBreakdown = clientF(clientX().branch).addressBreakdown || '';\r\n    const addressKeys = addressBreakdown.split(',');\r\n\r\n    const detailsRef = React.useRef();\r\n    detailsRef.current = details;\r\n    React.useEffect(() => {\r\n        return () => {\r\n            if (detailsRef.current.name) {\r\n                localStorage.setItem('add-job-draft', JSON.stringify({\r\n                    name: detailsRef.current.name,\r\n                    contact: detailsRef.current.contact,\r\n                    cargoMode: detailsRef.current.cargoMode,\r\n                    branch: detailsRef.current.branch,\r\n                }))\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    React.useEffect(() => {\r\n        setDetails(details => ({ ...details, ...draft }))\r\n    }, [draft]);\r\n    \r\n    React.useEffect(() => {\r\n        ServiceZone.get()\r\n            .then(rows => {\r\n                setAssigneeList(map(filter(rows, k => !k.deleted), i => i.name));\r\n                const mapTemp = {}\r\n                setAddressList(reduce(rows, (t, i) => {\r\n                    const tokens = i.district.split('/');\r\n                    tokens.forEach(j => mapTemp[j] = i.name)\r\n                    return [ ...t, ...tokens]\r\n                }, []));\r\n                setAddressMap(mapTemp)\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            })\r\n    }, [enqueueSnackbar]);\r\n    \r\n    React.useEffect(() => {\r\n        if (details.address)\r\n            setDetails({ ...details, pickupArea: addressMap[details.address] });\r\n        // eslint-disable-next-line\r\n    }, [details.address]);\r\n\r\n    React.useEffect(() => {\r\n        setDetails({ ...details, location });\r\n        // eslint-disable-next-line\r\n    }, [location]);\r\n\r\n    React.useEffect(() => {\r\n        const address = addressKeys.filter(i => addressParts[i]).map(i => i + ' ' + addressParts[i]).join(', ')\r\n        setDetails({ ...details, address });\r\n        // eslint-disable-next-line\r\n    }, [addressParts]);\r\n\r\n    const onCreate = () => {\r\n        if (!details.name || !details.address || !details.contact) {\r\n            enqueueSnackbar('Please fill details', { variant: 'warning' });\r\n            return\r\n        }\r\n\r\n        setLoading(true)\r\n        Service.addJob(details)\r\n            .then(rows => {\r\n                enqueueSnackbar('Created', { variant: 'success' });\r\n                onClear()\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not Create', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    };\r\n\r\n    const onChange = e => {\r\n        setDetails({ ...details, [e.target.name]: e.target.value });\r\n    };\r\n    \r\n    const addToNote = e => {\r\n        setDetails({ ...details, note: (details.note || '') + ' ' + e.target.value.split(' ').join('-') });\r\n    };\r\n\r\n    const onClear = () => {\r\n        setLoading(true);\r\n        setTimeout(() => {\r\n            setDetails({ ...init })\r\n            setLoading(false);\r\n            setAddressParts({})\r\n        }, 200)\r\n    }\r\n\r\n    return (<>\r\n        <div>\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <LinearLoader loading={loading} />\r\n                    <Grid container spacing={0} style={{paddingTop: 20}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'BASIC DETAILS'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <RadioButton size={5} name={'cargoMode'} onChange={onChange}\r\n                                            value={details.cargoMode} values={clientX().cargoMode}>\r\n                                        </RadioButton>\r\n                                        <MobileNumber size={5} name=\"contact\" countryCode={clientX().countryCode}\r\n                                            value={details.contact} onChange={onChange}\r\n                                        />\r\n                                        <Grid item md={2} />\r\n                                        <Text size={3} label=\"Name\" name=\"name\" Icon={PersonOutline}\r\n                                            value={details.name} onChange={onChange}>\r\n                                        </Text>\r\n                                        <Text size={3} label=\"Email\" name=\"email\" Icon={Email}\r\n                                            value={details.email} onChange={onChange}>\r\n                                        </Text>\r\n                                        <Grid item md={6} />\r\n                                        {addressBreakdown\r\n                                            ? <>{addressKeys.map(i => <Text size={1} label={i} name={i}\r\n                                                value={addressParts[i] || ''} onChange={e => setAddressParts({ ...addressParts, [i]: e.target.value })}>\r\n                                            </Text>)}\r\n                                            <Grid item md={1} />\r\n                                            {details.address && <Label size={4} label=\"Full Address\" value={details.address}></Label>}\r\n                                            </>\r\n                                            : <TextAuto size={4} label=\"Address\" name=\"address\" loading={loading}\r\n                                                value={details.address} auto={addressList} onChange={onChange}>\r\n                                            </TextAuto>}\r\n                                        <Text size={9} label=\"Note\" name=\"note\"\r\n                                            value={details.note} onChange={onChange}>\r\n                                        </Text>\r\n                                        <Select size={3} label=\"Add to Note\" values={clientX().packageType}\r\n                                            onChange={addToNote}\r\n                                        />\r\n                                        <Grid item md={3} />\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={0} style={{paddingTop: 20}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'ADDITIONAL DETAILS'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <Text size={3} label=\"Location\" name=\"location\"\r\n                                            value={details.location} onChange={onChange}>\r\n                                        </Text>\r\n                                        <IconButton size={1} onClick={() => setOverlayDetail('MAP')} icon={<Room style={{color: palette.shades.light}} />}\r\n                                            tooltip={'MAP PICKER'} label={''} />\r\n                                        <Select size={3} label=\"Zone\" name=\"pickupArea\" values={assigneeList}\r\n                                            value={details.pickupArea} onChange={onChange} />\r\n                                        <DateTime size={3} label={'Pickup Date Time'} name=\"pickupDateTime\"\r\n                                            value={details.pickupDateTime} onChange={onChange}\r\n                                        />\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={1} alignContent=\"flex-end\" alignItems=\"flex-end\" justify=\"flex-end\">\r\n                        <Button variant=\"outlined\" color=\"primary\" size=\"medium\" style={{marginRight: 5}}\r\n                            disabled={loading} onClick={() => onClear()}>Clear\r\n                        </Button>\r\n                        <Button variant=\"contained\" color=\"primary\" size=\"medium\" endIcon={<Create />} style={{marginRight: 5}}\r\n                            disabled={loading} onClick={() => onCreate()}>Add Job\r\n                        </Button>\r\n                    </Grid>\r\n                    <LinearLoader loading={loading} />\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","// Marker.js\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n    position: absolute;\r\n    width: 38px;\r\n    height: 37px;\r\n    background-image: url(https://icon-library.com/images/pin-icon-png/pin-icon-png-9.jpg);\r\n    background-size: contain;\r\n    background-repeat: no-repeat;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    -webkit-transform: translate(-50%,-50%);\r\n    -ms-transform: translate(-50%,-50%);\r\n    transform: translate(-50%,-50%);\r\n    cursor: grab;\r\n`;\r\n\r\nconst Marker = ({ text, onClick }) => (\r\n    <Wrapper\r\n        alt={text}\r\n        onClick={onClick}\r\n    />\r\n);\r\n\r\nMarker.defaultProps = {\r\n    onClick: null,\r\n};\r\n\r\nMarker.propTypes = {\r\n    onClick: PropTypes.func,\r\n    text: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Marker;","export const MAP_KEY = 'AIzaSyAT29fYAnGsmcUacyqR0mnKvAL2PiAXqpQ'\r\n// export const MAP_KEY = 'AIzaSyDB5fyNIDpXphBnu1mGRj40nypM3w1CJgY'","import React from 'react';\r\n\r\nimport GoogleMapReact from 'google-map-react';\r\nimport styled from 'styled-components';\r\nimport Marker from './Marker';\r\nimport {\r\n    Grid\r\n} from '@material-ui/core';\r\nimport { MAP_KEY } from 'business/utils/keys';\r\n\r\nconst Wrapper = styled.main`\r\n  width: 100%;\r\n  height: 80vh;\r\n`;\r\n\r\nconst UI = (props) => {\r\n   \r\n    const [state, setState] = React.useState({\r\n        mapApiLoaded: false,\r\n        mapInstance: null,\r\n        mapApi: null,\r\n        geoCoder: null,\r\n        places: [],\r\n        center: [props.coordinates.lat, props.coordinates.lng],\r\n        zoom: 9,\r\n        address: '',\r\n        draggable: true,\r\n        lat: props.coordinates.lat,\r\n        lng: props.coordinates.lng\r\n    });\r\n\r\n    React.useEffect(() => {\r\n        setState({\r\n            draggable: true,\r\n            zoom: 9,\r\n            center: [0, props.coordinates.lng],\r\n            lat: 0,\r\n            lng: props.coordinates.lng\r\n        });\r\n        setTimeout(() => {\r\n            console.log('timeoout')\r\n            setState({\r\n                draggable: true,\r\n                zoom: 17,\r\n                center: [props.coordinates.lat, props.coordinates.lng],\r\n                lat: props.coordinates.lat,\r\n                lng: props.coordinates.lng\r\n            });    \r\n        }, 500)\r\n    }, [props.coordinates]);\r\n\r\n    const onMarkerInteraction = (childKey, childProps, mouse) => {\r\n        setState({\r\n            ...state,\r\n            draggable: false,\r\n            lat: mouse.lat,\r\n            lng: mouse.lng\r\n        });\r\n    }\r\n\r\n    const onMarkerInteractionMouseUp = (childKey, childProps, mouse) => {\r\n        setState({ ...state, draggable: true });\r\n    }\r\n\r\n    const _onChange = ({ center, zoom }) => {\r\n        setState({\r\n            ...state,\r\n            center: center,\r\n            zoom: zoom,\r\n        });\r\n\r\n    }\r\n\r\n    const _onClick = (value) => {\r\n        props.setCoordinatesSelected({\r\n            lat: value.lat,\r\n            lng: value.lng\r\n        })\r\n        setState({\r\n            ...state,\r\n            lat: value.lat,\r\n            lng: value.lng\r\n        });\r\n    }\r\n\r\n    const apiHasLoaded = (map, maps) => {\r\n        setState({\r\n            ...state,\r\n            mapApiLoaded: true,\r\n            mapInstance: map,\r\n            mapApi: maps,\r\n        });\r\n    };\r\n\r\n    console.log(state.lat, state.lng)\r\n    if (!state.lat)\r\n        return <Grid container style={{padding: 200}} spacing={1} alignContent=\"center\" alignItems=\"center\" justify=\"center\">\r\n            <p>Please select or search an Area</p>\r\n        </Grid>\r\n    return (\r\n        <Wrapper>\r\n            <GoogleMapReact\r\n                center={state.center}\r\n                zoom={state.zoom}\r\n                draggable={state.draggable}\r\n                onChange={_onChange}\r\n                onChildMouseDown={onMarkerInteraction}\r\n                onChildMouseUp={onMarkerInteractionMouseUp}\r\n                onChildMouseMove={onMarkerInteraction}\r\n                onChildClick={() => console.log('child click')}\r\n                onClick={_onClick}\r\n                bootstrapURLKeys={{\r\n                    key: MAP_KEY,\r\n                    libraries: [],\r\n                }}\r\n                yesIWantToUseGoogleMapApiInternals\r\n                onGoogleApiLoaded={({ map, maps }) => apiHasLoaded(map, maps)}\r\n            >\r\n                <Marker\r\n                    text={'Your Location'}\r\n                    lat={state.lat}\r\n                    lng={state.lng}\r\n                />\r\n            </GoogleMapReact>\r\n        </Wrapper >\r\n    );\r\n}\r\n\r\nexport default UI;","import handleResponse from 'portal/helpers/commonHandler';\r\n\r\nconst suggestion = async({ text }) => {\r\n\ttry {\r\n        let response = await fetch(`https://nominatim.openstreetmap.org/search.php?q=${text}&polygon_geojson=1&format=jsonv2`, {\r\n\t\t\tmethod: \"GET\",\r\n\t\t})\r\n\t\tlet result = handleResponse(response);\r\n        return result;\r\n    } catch (e) {\r\n        throw e;\r\n    }\r\n}\r\n\r\nexport default {\r\n    suggestion,\r\n}\r\n","import React from 'react';\r\nimport MyGoogleMap from './MyGoogleMap';\r\nimport Autocomplete from './Autocomplete';\r\nimport {\r\n  Typography, Toolbar, Grid, Button\r\n} from '@material-ui/core';\r\nimport { Close, Done } from '@material-ui/icons';\r\nimport { makeStyles } from '@material-ui/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  overlayHeader: {\r\n      backgroundColor: theme.palette.primary.main,\r\n      color: theme.palette.primary.contrastText,\r\n      boxShadow: '0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23)'\r\n  },\r\n  overlayTitle: {\r\n      flexGrow: 1\r\n  },\r\n}));\r\n\r\nconst UI = (props) => {\r\n  const classes = useStyles();\r\n  const { setOverlayDetail, onChoose } = props;\r\n  const [coordinates, setCoordinates] = React.useState({\r\n    lat: 0,\r\n    lng: 30.33\r\n  });\r\n  const [coordinatesSelected, setCoordinatesSelected] = React.useState({\r\n    lat: 0,\r\n    lng: 30.33\r\n  });\r\n\r\n  return (<>\r\n    <Grid container spacing={0} >\r\n      <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n          <Toolbar className={classes.overlayHeader} variant=\"dense\">\r\n            <Typography variant=\"h6\" color=\"inherit\" className={classes.overlayTitle}>{'LOCATION PICKER'}</Typography>\r\n            <Button variant=\"contained\" color=\"primary\" size=\"small\" endIcon={<Done />} style={{marginRight: 5}}\r\n                disabled={!coordinates.lat} onClick={() => {setOverlayDetail(false); onChoose(coordinatesSelected)}}>Choose this Location\r\n            </Button>\r\n            <Button variant=\"contained\" color=\"primary\" size=\"small\" endIcon={<Close />} style={{marginRight: 0}}\r\n                onClick={() => setOverlayDetail(false)}>Close\r\n            </Button>\r\n          </Toolbar>\r\n      </Grid>\r\n    </Grid>\r\n    <Grid container spacing={0} style={{paddingTop: 10}}>\r\n        <Grid item xs={3} sm={3} md={3} lg={3} xl={3} style={{borderRight: '1px solid lightgrey'}}>\r\n          <Autocomplete setCoordinates={setCoordinates} setCoordinatesSelected={setCoordinatesSelected} />\r\n        </Grid>\r\n        <Grid item xs={9} sm={9} md={9} lg={9} xl={9}>\r\n          <MyGoogleMap coordinates={coordinates} setCoordinates={setCoordinates} setCoordinatesSelected={setCoordinatesSelected} />\r\n        </Grid>\r\n    </Grid>\r\n  </>);\r\n}\r\n\r\nexport default UI;","import React, { useEffect } from 'react';\r\nimport {\r\n    Card, CardHeader, CardContent, Grid, Button, Typography\r\n} from '@material-ui/core';\r\nimport Add from './components/Add';\r\nimport { Heading, Dialog } from 'business/widgets/Mini';\r\nimport PostAdd from '@material-ui/icons/PostAdd';\r\nimport Map from 'business/widgets/Map';\r\nimport { PERMS, hasAccess, NoAccessUI } from 'business/utils/permissions';\r\nimport { clientX } from 'portal/services/client.service';\r\nimport palette from 'portal/theme/palette';\r\n\r\nconst UI = () => {\r\n    const [loading, setLoading] = React.useState(false);\r\n    const [overlayDetail, setOverlayDetail] = React.useState(false);\r\n    const [location, setLocation] = React.useState(false);\r\n\r\n    // start: draft related\r\n    const [draft, setDraft] = React.useState({});\r\n    const [sendDraft, setSendDraft] = React.useState({});\r\n\r\n    useEffect(() => {\r\n        const thisDraft = JSON.parse(localStorage.getItem('add-job-draft')) || {}\r\n        if (thisDraft.branch === clientX().branch){\r\n            setDraft(thisDraft)\r\n        }\r\n    }, [])\r\n\r\n    const onUseDraft = () => {\r\n        setSendDraft(draft)\r\n        localStorage.setItem('add-job-draft', null)\r\n    }\r\n    // end: draft related\r\n\r\n    if (!hasAccess(PERMS.ADD_JOB)) return <NoAccessUI />\r\n    return (<>\r\n        <Card elevation={0}>\r\n            <CardHeader title={\r\n                <Grid container spacing={1} justify=\"space-between\" alignContent=\"space-between\" alignItems=\"space-between\">\r\n                    <Heading Icon={PostAdd} size={8} title={'Add Job'} subtitle={'OBA'} />\r\n                    <Grid container spacing={2} xs={4} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\" style={{paddingRight: 10, paddingTop: 10}}>\r\n                        {draft.name && <Card elevation={2}>\r\n                            <CardContent>\r\n                                <Typography>Continue from where you left off?</Typography>\r\n                                <Button onClick={onUseDraft} size=\"small\" variant='outlined' style={{color: palette.shades.green}}>Use Auto-Saved</Button>\r\n                            </CardContent>\r\n                        </Card>}\r\n                    </Grid>\r\n                </Grid>}\r\n            />\r\n            <CardContent>\r\n                <Card style={{paddingTop: 0}}>\r\n                    <Add setOverlayDetail={setOverlayDetail} location={location} draft={sendDraft}\r\n                        loading={loading} setLoading={setLoading} />\r\n                    <div style={{padding: 20}}></div>\r\n                </Card>\r\n            </CardContent>\r\n        </Card>\r\n        <Dialog open={overlayDetail} width=\"lg\" content={\r\n            <Map setOverlayDetail={setOverlayDetail} onChoose={e => setLocation((e.lat + '').substring(0, 7) + ',' + (e.lng + '').substring(0, 8))}/>\r\n        }/>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport { Chip } from '@material-ui/core';\r\nimport palette from 'portal/theme/palette';\r\n\r\nexport default [\r\n    {\r\n        label: 'ID', name: 'id',\r\n        options: {\r\n            display: false\r\n        },\r\n    },\r\n    {\r\n        label: 'Qualification', name: 'type',\r\n        options: {\r\n            customBodyRender: function(value, meta) {\r\n                return <Chip label={value} style={{color: 'white', backgroundColor: palette.shades.green}} />\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'School', name: 'length', options: {}\r\n    },\r\n    {\r\n        label: 'Year', name: 'volume', options: {}\r\n    },\r\n];\r\n\r\n","import React from 'react';\r\nimport {\r\n    Grid, IconButton, Tooltip, Typography\r\n} from '@material-ui/core';\r\nimport columns from './ColsPackage';\r\nimport Table from 'business/widgets/Table';\r\nimport { Edit, DeleteForever } from '@material-ui/icons';\r\nimport { useDialog } from 'muibox';\r\nimport { clientF, clientX } from 'portal/services/client.service';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        setOverlayDetail, packages, setPackages, setOverlayType\r\n    } = props;\r\n    const dialog = useDialog();\r\n    const packagePricing = clientF(clientX().branch).packagePricing;\r\n    \r\n    const remove = (id, name) => {\r\n        dialog.confirm({\r\n            title: (<span style={{ fontWeight: 500, fontSize: 18, letterSpacing: '-0.06px', lineHeight: '24px'}}>DELETE CONFIRMATION</span>),\r\n            message: (<Typography>Are you sure you want to <strong>Remove {name}</strong></Typography>),\r\n            ok: { text: 'Delete', variant: 'contained', color: 'primary' }\r\n        }).then(() => {\r\n            setPackages(packages.filter(i => i.id !== id))\r\n        })\r\n    }\r\n\r\n    const columnsWithActions = [ ...columns,\r\n        {\r\n            label: 'Price', name: 'price', options: { display: packagePricing }\r\n        },\r\n        {\r\n            name: 'actions', label: '  ',\r\n            options: {\r\n                empty: true, viewColumns: false, filter: false, sort: false,\r\n                customBodyRender: (value, table) => (<React.Fragment>\r\n                    <Tooltip title=\"Delete\"><span><IconButton \r\n                                onClick={() => remove(table.rowData[0], table.rowData[1])}>\r\n                                <DeleteForever />\r\n                    </IconButton></span></Tooltip>\r\n                    <Tooltip title=\"Edit/Change Password\"><span><IconButton \r\n                                onClick={() => { \r\n                                    setOverlayDetail({ id: table.rowData[0] });\r\n                                    setOverlayType('ADD_EDU')\r\n                                }}>\r\n                                <Edit />\r\n                    </IconButton></span></Tooltip>\r\n                </React.Fragment>)\r\n            }\r\n        }\r\n    ]\r\n\r\n    return (\r\n        <div>\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <Table data={packages} columns={columnsWithActions} minified={true} />\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","/**\n * Generate Membership ID in format: ZO[B/G][YEAR][SEQUENCE]\n * \n * Format breakdown:\n * - ZO: Prefix (Zahira OBA/OGA)\n * - B or G: Boy or Girl (based on gender)\n * - YEAR: A/L year (if only O/L year provided, add 3 years)\n * - SEQUENCE: 4-digit sequence number (0001, 0002, etc.)\n * \n * Examples:\n * - Old boy, O/L 2005, 3rd person: ZOB20080003\n * - Old girl, O/L 2005, 1st person: ZOG20080001\n */\n\n/**\n * Generate membership ID\n * @param {string} gender - 'Male' or 'Female'\n * @param {string} batchOl - O/L batch year (e.g., '2005')\n * @param {string} batchAl - A/L batch year (optional, e.g., '2008')\n * @param {number} sequence - Sequence number (1, 2, 3, etc.)\n * @returns {string} Membership ID (e.g., 'ZOB20080001')\n */\nexport const generateMembershipId = (gender, batchOl, batchAl, sequence) => {\n    // Determine B or G based on gender\n    const genderCode = gender === 'Female' ? 'G' : 'B';\n\n    // Determine year\n    let year;\n    if (batchAl) {\n        // If A/L year is provided, use it\n        year = batchAl.toString();\n    } else if (batchOl) {\n        // If only O/L year, add 3 years\n        const olYear = parseInt(batchOl);\n        if (!isNaN(olYear)) {\n            year = (olYear + 3).toString();\n        } else {\n            // Fallback to current year if invalid\n            year = new Date().getFullYear().toString();\n        }\n    } else {\n        // Fallback to current year\n        year = new Date().getFullYear().toString();\n    }\n\n    // Format sequence as 4-digit number with leading zeros\n    const sequenceStr = sequence.toString().padStart(4, '0');\n\n    // Combine: ZO + [B/G] + YEAR + SEQUENCE\n    return `ZO${genderCode}${year}${sequenceStr}`;\n};\n\n/**\n * Get next sequence number for a given year and gender\n * This should query the database to find the highest sequence for that year/gender combination\n * For now, returns a placeholder - this should be implemented in the service layer\n */\nexport const getNextSequence = async (gender, year) => {\n    // TODO: Implement database query to get max sequence for this year/gender\n    // For now, return 1 as placeholder\n    return 1;\n};\n\n","import React from 'react';\nimport {\n    Grid, Button, ExpansionPanel, ExpansionPanelDetails\n} from '@material-ui/core';\nimport {\n    Text, DateOnly, LinearLoader, HeadingExpansion, ConfirmationFragment,\n    RadioButton, MobileNumber, TextAuto\n} from 'business/widgets/Mini';\nimport { useSnackbar } from 'notistack';\nimport Service from 'business/services/members.service';\nimport { clientX, clientF } from 'portal/services/client.service';\nimport { Create, Add, PersonOutline } from '@material-ui/icons';\nimport ListPackage from './ListPackage';\nimport moment from 'moment';\nimport { useDialog } from 'muibox';\nimport { getUserGlobal } from 'portal/services/auth.service';\nimport { generateMembershipId } from 'business/utils/membershipIdGenerator';\n\nconst UI = (props) => {\n    const {\n        loading, setLoading, setOverlayDetail, packages, setPackages, setOverlayType,\n        setCargoRedundantData\n    } = props;\n    const { enqueueSnackbar } = useSnackbar();\n    // const dialogInput = useDialogInput();\n    const dialog = useDialog();\n\n    const init = {\n        dateOfBirth: moment().subtract(25, 'year'),\n        memberSince: moment().startOf('year'),\n        gender: process.env.REACT_APP_OLD_TYPE === 'OBA' ? 'Male' : process.env.REACT_APP_OLD_TYPE === 'OGA' ? 'Female' : '',\n        obaType: 'Not Exco',\n        fetched: 0,\n        auth: getUserGlobal('displayName'),\n        uuid: Math.random().toString(16).slice(2, 10) + '-' + Math.random().toString(16).slice(2, 10)\n    }\n    const [details, setDetails] = React.useState({ ...init });\n    const [amount, setAmount] = React.useState(false);\n    const [amountSystem, setAmountSystem] = React.useState(false);\n    const [paid, setPaid] = React.useState(0);\n    const [membershipId, setMembershipId] = React.useState('');\n    const [errors, setErrors] = React.useState({});\n\n    // Address breakdown feature\n    const [addressParts, setAddressParts] = React.useState({});\n    const client = clientF(clientX().branch) || {};\n    const addressBreakdown = client.addressBreakdown || '';\n    const addressKeys = addressBreakdown.split(',');\n    React.useEffect(() => {\n        const address = addressKeys.filter(i => addressParts[i]).map(i => i + ' ' + addressParts[i]).join(', ')\n        setDetails({ ...details, address });\n        // eslint-disable-next-line\n    }, [addressParts]);\n\n    React.useEffect(() => {\n        setCargoRedundantData({ ...details });\n        // eslint-disable-next-line\n    }, [setCargoRedundantData, details.warehouseLocation]);\n\n    const onCreate = () => {\n        // Validate mandatory fields\n        if (!validateFields()) {\n            enqueueSnackbar('Please fill all mandatory fields', { variant: 'error' });\n            return;\n        }\n\n        if (paid) {\n            dialog.confirm(ConfirmationFragment('Continue? Paid amount is Zero', 'ADD WITH ZERO PAYMENT')).then(() => {\n                onAddAfterMax()\n            })\n        } else {\n            onAddAfterMax()\n        }\n    };\n\n    const onAddAfterMax = () => {\n        Service.getMax().then(max => onAdd(max + 1000 + 1));\n    };\n\n    const onAdd = async (memberId) => {\n        setLoading(true)\n\n        // Generate final membership ID if not already generated\n        let finalMembershipId = membershipId;\n        if (!finalMembershipId && details.gender && (details.batchOl || details.batchAl)) {\n            try {\n                let year;\n                if (details.batchAl) {\n                    year = details.batchAl;\n                } else if (details.batchOl) {\n                    const olYear = parseInt(details.batchOl);\n                    if (!isNaN(olYear)) {\n                        year = (olYear + 3).toString();\n                    }\n                }\n                if (year) {\n                    const sequence = await Service.getNextSequence(details.gender, year);\n                    finalMembershipId = generateMembershipId(\n                        details.gender,\n                        details.batchOl,\n                        details.batchAl,\n                        sequence\n                    );\n                }\n            } catch (error) {\n                console.error('Error generating membership ID:', error);\n            }\n        }\n\n        Service.create({\n            ...details,\n            memberId,\n            memberCode: finalMembershipId || `ZCM-${process.env.REACT_APP_OLD_TYPE}-${memberId}-${String.fromCharCode(65 + Math.floor(Math.random() * 26))}`,\n            dateOfBirth: typeof details.dateOfBirth === 'string' ? details.dateOfBirth : details.dateOfBirth.format('YYYY-MM-DD'),\n            memberSince: typeof details.memberSince === 'string' ? details.memberSince : details.memberSince.format('YYYY-MM-DD'),\n            education: packages\n        })\n            .then(id => {\n                enqueueSnackbar('Created', { variant: 'success' });\n                setOverlayType('VIEW')\n                setOverlayDetail({ id })\n                onClear()\n            }).catch(e => {\n                debugger\n                enqueueSnackbar('Could not Create', { variant: 'error' });\n            }).finally(e => setLoading(false))\n    };\n\n    const onChange = e => {\n        setDetails({ ...details, [e.target.name]: e.target.value });\n\n        // Clear error for this field when user starts typing/selecting\n        if (errors[e.target.name]) {\n            const newErrors = { ...errors };\n            delete newErrors[e.target.name];\n            setErrors(newErrors);\n        }\n    };\n\n    // Validate mandatory fields\n    const validateFields = () => {\n        const newErrors = {};\n\n        if (!details.fullName || !details.fullName.trim()) {\n            newErrors.fullName = 'Full Name is required';\n        }\n        if (!details.nic || !details.nic.trim()) {\n            newErrors.nic = 'NIC Number is required';\n        }\n        if (!details.gender) {\n            newErrors.gender = 'Gender is required';\n        }\n        if (!details.dateOfBirth || (typeof details.dateOfBirth === 'string' && !details.dateOfBirth.trim())) {\n            newErrors.dateOfBirth = 'Date of Birth is required';\n        }\n        if (!details.email || !details.email.trim()) {\n            newErrors.email = 'Email is required';\n        }\n        if (!details.contact || !details.contact.trim()) {\n            newErrors.contact = 'Mobile Number is required';\n        }\n        if (!details.batchOl || !details.batchOl.trim()) {\n            newErrors.batchOl = 'O/L Year is required';\n        }\n\n        setErrors(newErrors);\n        return Object.keys(newErrors).length === 0;\n    };\n\n    // Generate membership ID when required fields are available\n    React.useEffect(() => {\n        const generateId = async () => {\n            if (details.gender && (details.batchOl || details.batchAl)) {\n                try {\n                    // Determine year for sequence lookup\n                    let year;\n                    if (details.batchAl) {\n                        year = details.batchAl;\n                    } else if (details.batchOl) {\n                        const olYear = parseInt(details.batchOl);\n                        if (!isNaN(olYear)) {\n                            year = (olYear + 3).toString();\n                        }\n                    }\n\n                    if (year) {\n                        // Get next sequence number\n                        const sequence = await Service.getNextSequence(details.gender, year);\n                        // Generate membership ID\n                        const id = generateMembershipId(\n                            details.gender,\n                            details.batchOl,\n                            details.batchAl,\n                            sequence\n                        );\n                        setMembershipId(id);\n                    }\n                } catch (error) {\n                    console.error('Error generating membership ID:', error);\n                    // Generate with sequence 1 as fallback\n                    const id = generateMembershipId(\n                        details.gender,\n                        details.batchOl,\n                        details.batchAl,\n                        1\n                    );\n                    setMembershipId(id);\n                }\n            } else {\n                setMembershipId('');\n            }\n        };\n\n        generateId();\n    }, [details.gender, details.batchOl, details.batchAl]);\n\n    const onClear = () => {\n        setDetails({ ...init });\n        setPackages([])\n        setAmount(false);\n        setAddressParts({})\n        setAmountSystem(false && amountSystem);\n    }\n\n    return (<>\n        <div >\n            <Grid container>\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\n                    <LinearLoader loading={loading} />\n                    <Grid container spacing={0} style={{ paddingTop: 0 }}>\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\n                            <ExpansionPanel defaultExpanded>\n                                <HeadingExpansion title={'PERSONAL DETAILS'} />\n                                <ExpansionPanelDetails>\n                                    <Grid container spacing={2} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\n                                        <Text size={6} label=\"Full Name*\" name=\"fullName\" Icon={PersonOutline}\n                                            value={details.fullName} onChange={onChange}\n                                            error={errors.fullName} helperText={errors.fullName}\n                                        />\n                                        <Text size={6} label=\"Name with Initial*\" name=\"shortName\" Icon={PersonOutline}\n                                            value={details.shortName} onChange={onChange}\n                                        />\n                                        <Text size={6} label=\"NIC No*\" name=\"nic\"\n                                            value={details.nic} onChange={onChange}\n                                            error={errors.nic} helperText={errors.nic}\n                                        />\n                                        <Text size={6} label=\"Membership ID\" name=\"memberCode\"\n                                            value={membershipId} disabled={true}\n                                            helperText=\"Auto-generated based on gender and batch year\"\n                                        />\n                                        <RadioButton size={3} name={'gender'} onChange={onChange}\n                                            value={details.gender} values={['Male', 'Female']}\n                                            error={errors.gender}>\n                                        </RadioButton>\n                                        {errors.gender && (\n                                            <Grid item xs={12}>\n                                                <span style={{ color: '#f44336', fontSize: '0.75rem', marginLeft: '14px' }}>{errors.gender}</span>\n                                            </Grid>\n                                        )}\n                                        <DateOnly size={3} label=\"Date of Birth*\" name=\"dateOfBirth\"\n                                            value={details.dateOfBirth} onChange={onChange}\n                                            error={errors.dateOfBirth} helperText={errors.dateOfBirth}\n                                        />\n                                    </Grid>\n                                </ExpansionPanelDetails>\n                            </ExpansionPanel>\n                        </Grid>\n                    </Grid>\n                    <Grid container spacing={0} style={{ paddingTop: 5 }}>\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\n                            <ExpansionPanel defaultExpanded>\n                                <HeadingExpansion title={'CONTACT DETAILS'} />\n                                <ExpansionPanelDetails>\n                                    <Grid container spacing={2} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\n                                        <Text size={3} label=\"Email*\" name=\"email\"\n                                            value={details.email} onChange={onChange}\n                                            error={errors.email} helperText={errors.email}>\n                                        </Text>\n                                        <Text size={6} label=\"Address\" name=\"address\"\n                                            value={details.address} onChange={onChange}>\n                                        </Text>\n                                        {!loading ? <MobileNumber size={6} label=\"Mobile Number*\" name=\"contact\" countryCode={clientX().countryCodeConsignee}\n                                            value={details.contact} onChange={onChange}\n                                            error={errors.contact} helperText={errors.contact}\n                                        /> : <Text size={6} />}\n                                        {!loading ? <MobileNumber size={6} label=\"Landline Number\" name=\"contactAlt\" countryCode={clientX().countryCodeConsignee}\n                                            value={details.contactAlt} onChange={onChange}\n                                        /> : <Text size={5} />}\n                                        <Text size={6} label=\"Note\" name=\"note\"\n                                            value={details.note} onChange={onChange}>\n                                        </Text>\n\n                                    </Grid>\n                                </ExpansionPanelDetails>\n                            </ExpansionPanel>\n                        </Grid>\n                    </Grid>\n                    <Grid container spacing={0} style={{ paddingTop: 5 }}>\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\n                            <ExpansionPanel defaultExpanded>\n                                <HeadingExpansion title={'SCHOOL DAYS'} />\n                                <ExpansionPanelDetails>\n                                    <Grid container spacing={2} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\n                                        <Text size={2} label=\"O/L Batch*\" name=\"batchOl\"\n                                            value={details.batchOl} onChange={onChange}\n                                            error={errors.batchOl} helperText={errors.batchOl}>\n                                        </Text>\n                                        <Text size={2} label=\"A/L Batch\" name=\"batchAl\"\n                                            value={details.batchAl} onChange={onChange}>\n                                        </Text>\n                                        <Text size={2} label=\"Year of Admission\" name=\"yearOfAdmission\"\n                                            value={details.yearOfAdmission} onChange={onChange}>\n                                        </Text>\n                                        <Text size={2} label=\"Year of Leaving\" name=\"yearOfLeaving\"\n                                            value={details.yearOfLeaving} onChange={onChange}>\n                                        </Text>\n                                        <Text size={2} label=\"Index Number\" name=\"indexNumber\"\n                                            value={details.indexNumber} onChange={onChange}>\n                                        </Text>\n                                        <Text size={6} label=\"Achievements\" name=\"achievements\"\n                                            value={details.achievements} onChange={onChange}>\n                                        </Text>\n                                        <Text size={6} label=\"Postions Held\" name=\"postionsHeld\"\n                                            value={details.postionsHeld} onChange={onChange}>\n                                        </Text>\n                                        <Text size={6} label=\"Note\" name=\"note\"\n                                            value={details.note} onChange={onChange}>\n                                        </Text>\n                                    </Grid>\n                                </ExpansionPanelDetails>\n                            </ExpansionPanel>\n                        </Grid>\n                    </Grid>\n                    <Grid container spacing={0} style={{ paddingTop: 5 }}>\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\n                            <ExpansionPanel defaultExpanded>\n                                <HeadingExpansion title={'EDUCATION DETAILS'} />\n                                <ExpansionPanelDetails>\n                                    <Grid container spacing={2} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\n                                        <Grid item xs={12} md={11} style={{ paddingTop: 15, paddingBottom: 5 }}>\n                                            <Button variant=\"contained\" color=\"primary\" endIcon={<Add />}\n                                                disabled={loading} onClick={() => {\n                                                    setOverlayType('ADD_EDU');\n                                                    setOverlayDetail({})\n                                                }}>Add Education\n                                            </Button>\n                                        </Grid>\n                                        <Grid item xs={12} md={12}>\n                                            <ListPackage\n                                                setPackages={setPackages} packages={packages}\n                                                setOverlayDetail={setOverlayDetail} setOverlayType={setOverlayType} />\n                                        </Grid>\n                                    </Grid>\n                                </ExpansionPanelDetails>\n                            </ExpansionPanel>\n                        </Grid>\n                    </Grid>\n                    <Grid container spacing={0} style={{ paddingTop: 5 }}>\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\n                            <ExpansionPanel defaultExpanded>\n                                <HeadingExpansion title={'EMPLOYMENT DETAILS'} />\n                                <ExpansionPanelDetails>\n                                    <Grid container spacing={2} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\n                                        <Text size={2} label=\"Work Place\" name=\"workPlace\"\n                                            value={details.workPlace} onChange={onChange}>\n                                        </Text>\n                                        <Text size={2} label=\"Designation\" name=\"designation\"\n                                            value={details.designation} onChange={onChange}>\n                                        </Text>\n                                        <TextAuto size={2} label=\"Category\" name=\"workCategory\" auto={clientX().workCategory}\n                                            value={details.workCategory} onChange={onChange}\n                                        />\n                                        <Text size={6} label=\"Note\" name=\"workNote\"\n                                            value={details.workNote} onChange={onChange}>\n                                        </Text>\n                                    </Grid>\n                                </ExpansionPanelDetails>\n                            </ExpansionPanel>\n                        </Grid>\n                    </Grid>\n                    <Grid container spacing={0} style={{ paddingTop: 5 }}>\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\n                            <ExpansionPanel defaultExpanded>\n                                <HeadingExpansion title={process.env.REACT_APP_OLD_TYPE + ' RELATED'} />\n                                <ExpansionPanelDetails>\n                                    <Grid container spacing={2} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\n                                        <DateOnly label=\"Membership since\" name=\"memberSince\"\n                                            value={details.memberSince} onChange={onChange}\n                                        />\n                                        <RadioButton size={3} name={'obaType'} onChange={onChange}\n                                            value={details.obaType} values={['Not Exco', 'Exco', 'Ex-Exco']}>\n                                        </RadioButton>\n                                        <Text size={6} label=\"Note\" name=\"obaNote\"\n                                            value={details.obaNote} onChange={onChange}>\n                                        </Text>\n                                    </Grid>\n                                </ExpansionPanelDetails>\n                            </ExpansionPanel>\n                        </Grid>\n                    </Grid>\n                    <Grid container spacing={0} style={{ paddingTop: 20 }}>\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\n                            <Grid container spacing={1} alignContent=\"flex-end\" alignItems=\"flex-end\" justify=\"flex-end\">\n                                <Button variant=\"outlined\" color=\"primary\" size=\"medium\" style={{ marginRight: 5 }}\n                                    disabled={loading} onClick={() => onClear()}>Clear\n                                </Button>\n                                <Button variant=\"contained\" color=\"primary\" size=\"medium\" endIcon={<Create />} style={{ marginRight: 5 }}\n                                    disabled={loading} onClick={() => onCreate()}>{'Create Membership'}\n                                </Button>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                    <LinearLoader loading={loading} />\n                </Grid>\n            </Grid>\n        </div>\n    </>);\n};\n\nexport default UI;\n","import React from 'react';\r\nimport {\r\n    Grid, Button, ExpansionPanel, ExpansionPanelDetails\r\n} from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\nimport { Add, AttachMoney, ControlPointDuplicate } from '@material-ui/icons';\r\nimport { HeadingOverlay, Text, TextAuto, Select } from 'business/widgets/Mini';\r\nimport { clientX, clientF } from 'portal/services/client.service';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        overlayDetail, setOverlayDetail, setPackages, packages\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    \r\n    const [details, setDetails] = React.useState(overlayDetail.id !== undefined ? packages.filter(i => i.id === overlayDetail.id)[0] : { quantity: 1 });\r\n\r\n    const packagePricing = clientF(clientX().branch).packagePricing;\r\n\r\n    const create = () => {\r\n        if (packagePricing && details.price === undefined) {\r\n            enqueueSnackbar('Please calculate price', { variant: 'warning' });\r\n            return\r\n        }\r\n        if (!details.type) {\r\n            enqueueSnackbar('Please select Type', { variant: 'warning' });\r\n            return\r\n        }\r\n        if (!details.quantity) {\r\n            enqueueSnackbar('Please type quantity', { variant: 'warning' });\r\n            return\r\n        }\r\n        const q = details.quantity;\r\n        if (+q <= 0) {\r\n            enqueueSnackbar('Please type quantity', { variant: 'warning' });\r\n            return\r\n        }\r\n        if (overlayDetail.id !== undefined) { // if edit\r\n            const newPack = packages.map(i => {\r\n                if (i.id !== overlayDetail.id) return i\r\n                return ({...details, id: new Date() })\r\n            })\r\n            setPackages(newPack)\r\n        }\r\n        else setPackages([...packages, {...details, id: new Date() }])\r\n        setOverlayDetail(false)\r\n    };\r\n    \r\n    const onChange = e => {\r\n        setDetails({ ...details, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    return (<>\r\n        <div >\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <HeadingOverlay title={'ADD EDUCATIONAL QUALIFICATION'} onClose={() => setOverlayDetail(false)} />\r\n                    <Grid container spacing={0} style={{paddingTop: 0}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <TextAuto size={6} label=\"Type\" name=\"type\" auto={clientX().eduType}\r\n                                            value={details.type} onChange={onChange}\r\n                                        />\r\n                                        <Text size={6} label=\"Completion year\" name=\"completionYear\"\r\n                                            value={details.completionYear} onChange={onChange}\r\n                                        />\r\n                                        <TextAuto size={6} label=\"Category\" name=\"category\" auto={clientX().eduCategory}\r\n                                            value={details.category} onChange={onChange}\r\n                                        />\r\n                                        <Text size={6} label=\"Name of the course\" name=\"course\"\r\n                                            value={details.course} onChange={onChange}\r\n                                        />\r\n                                        <Text size={6} label=\"Institution/University/School\" name=\"institution\"\r\n                                            value={details.institution} onChange={onChange}\r\n                                        />\r\n                                        <Text size={12} label=\"Remarks\" name=\"remarks\"\r\n                                            value={details.remarks} onChange={onChange}\r\n                                        />\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={0} style={{paddingTop: 20, paddingBottom: 20}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <Grid container spacing={1} alignContent=\"flex-end\" alignItems=\"flex-end\" justify=\"flex-end\">\r\n                                <Button variant=\"contained\" color=\"primary\" endIcon={<Add />}\r\n                                    onClick={() => create()}>Add Education\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport { Chip } from '@material-ui/core';\r\nimport palette from 'portal/theme/palette';\r\n\r\nexport default [\r\n    {\r\n        label: 'ID', name: 'id',\r\n        options: {\r\n            display: false\r\n        },\r\n    },\r\n    {\r\n        name: 'shortLoaded',\r\n        options: {\r\n            display: false\r\n        },\r\n    },\r\n    {\r\n        label: 'Type', name: 'type',\r\n        options: {\r\n            customBodyRender: function(value, meta) {\r\n                if (meta.rowData[1])\r\n                    return <Chip label={value} style={{ backgroundColor: palette.shades.red, color: 'white' }} />\r\n                return <Chip label={value} />\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'Course', name: 'course', options: {}\r\n    },\r\n    {\r\n        label: 'Institution', name: 'institution', options: {}\r\n    },\r\n    {\r\n        label: 'Remarks', name: 'remarks', options: {}\r\n    },\r\n];\r\n\r\n","import React from 'react';\r\nimport {\r\n    Grid,\r\n} from '@material-ui/core';\r\nimport columns from './ColsPackage';\r\nimport Table from 'business/widgets/Table';\r\nimport { LabelChip, LabelChipColored } from 'business/widgets/Mini';\r\nimport get from 'lodash.get';\r\nimport { oneDecimal, quantityTotal, twoDecimal, volumeTotal, weightTotal } from 'business/utils/number';\r\nimport palette from 'portal/theme/palette';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        packages, shortLoaded\r\n    } = props;\r\n\r\n    const [totals, setTotals] = React.useState({});\r\n\r\n    React.useEffect(() => {\r\n        setTotals({quantity: quantityTotal(packages), weight: weightTotal(packages), volume: volumeTotal(packages) });  \r\n    }, [packages])\r\n\r\n    return (\r\n        <div>\r\n            <Grid container>\r\n                {/* <Grid container xs={12} sm={12} md={12} lg={12} xl={12} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\">\r\n                    <LabelChip label={'Packages'} value={get(totals, 'quantity', '-')} />\r\n                    <LabelChip label={'Weight'} value={oneDecimal(get(totals, 'weight', 0))} />\r\n                    <LabelChip label={'Volume'} value={twoDecimal(get(totals, 'volume', 0))} />\r\n                </Grid> */}\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <Table data={packages} columns={columns} minified={true} />\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Grid, ExpansionPanel, ExpansionPanelDetails\r\n} from '@material-ui/core';\r\nimport {\r\n    LinearLoader, HeadingExpansion, HeadingOverlay, Label\r\n} from 'business/widgets/Mini';\r\nimport ListPackage from './ListPackage';\r\nimport map from 'lodash/map';\r\nimport get from 'lodash/get';\r\nimport { clientF, clientX } from 'portal/services/client.service';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        setOverlayDetail, details, loading\r\n    } = props;\r\n    const client = clientF(clientX().branch) || {};\r\n    const qidLabel = client.qidLabel || 'Residential ID';\r\n\r\n    return (<>\r\n        <div >\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <HeadingOverlay title={'MEMBER DETAILS'} onClose={() => setOverlayDetail(false)} />\r\n                    <LinearLoader loading={loading} />\r\n                    <Grid container spacing={0} style={{paddingTop: 0}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'PERSONAL DETAILS'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <Label size={3} label=\"Membership ID\" value={details.memberCode} />\r\n                                        <Label size={3} label=\"Short Name\" value={details.shortName} />\r\n                                        <Label size={6} label=\"Full Name\" value={details.fullName} />\r\n                                        <Label size={3} label=\"Gender\" value={details.gender} />\r\n                                        <Label size={3} label=\"NIC Number\" value={details.nic} />\r\n                                        <Label size={3} label=\"Date of Birth\" value={details.dateOfBirth} />                                        \r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={0} style={{paddingTop: 5}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'CONTACT DETAILS'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <Label size={3} label=\"Email\" value={details.email} />\r\n                                        <Label size={6} label=\"Address\" value={details.address} />\r\n                                        <Grid item md={3} />\r\n                                        <Label size={3} label=\"Contact\" value={details.contact} />\r\n                                        <Label size={3} label=\"Contact Alt\" value={details.contactAlt} />\r\n                                        <Label size={6} label=\"Note\" value={details.note} />\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={0} style={{paddingTop: 5}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'SCHOOL DAYS'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <Label size={2} label=\"Batch\" value={details.batch} />\r\n                                        <Label size={2} label=\"Year of Admission\" value={details.yearOfAdmission} />\r\n                                        <Label size={2} label=\"Year of Leaving\" value={details.yearOfLeaving} />\r\n                                        <Label size={2} label=\"Index Number\" value={details.indexNumber} />\r\n                                        <Label size={6} label=\"Achievements\" value={details.achievements} />\r\n                                        <Label size={6} label=\"Position Held\" value={details.positionHeld} />\r\n                                        <Label size={6} label=\"Notes\" value={details.notes} />\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={0} style={{paddingTop: 5}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'EDUCATIONAL QUALIFICATION'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <Grid item md={12}>\r\n                                            <ListPackage packages={get(details, 'education', [])} shortLoaded={details.cargo?.shortLoaded} />\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={0} style={{paddingTop: 5}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'EMPLOYMENT'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <Label size={2} label=\"Work Place\" value={details.workPlace} />\r\n                                        <Label size={2} label=\"Designation\" value={details.designation} />\r\n                                        <Label size={2} label=\"Category\" value={details.workCategory} />\r\n                                        <Label size={6} label=\"Notes\" value={details.workNote} />\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={0} style={{paddingTop: 5}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={process.env.REACT_APP_OLD_TYPE + ' RELATED'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <Label size={2} label=\"Membership Since\" value={details.memberSince} />\r\n                                        <Label size={2} label=\"Membership Type\" value={details.obaType} />\r\n                                        <Label size={6} label=\"Notes\" value={details.obaNote} />\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <LinearLoader loading={loading} />\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import { PUT, DELETE } from 'portal/helpers/adapter';\r\nimport { clientX } from 'portal/services/client.service';\r\nimport { POST, GET, GETbyId } from 'portal/services/fs.service';\r\nimport { startAt, orderBy, endAt, where } from 'firebase/firestore';\r\n\r\nconst collectionName = 'subs'\r\nconst get = async(search) => {\r\n    debugger\r\n    const params = []\r\n    if (search.id) {\r\n    \treturn GETbyId(collectionName, search.memberId)\r\n    }\r\n    if (search.memberId) {\r\n        params.push(where('memberId', '==', search.memberId))\r\n    }\r\n    if (search.startDate) {\r\n        params.push(where('date', '>=', search.startDate + '00:00'))\r\n        params.push(where('date', '<=', search.endDate + '23:59'))\r\n    }\r\n    if (search.nameWithInitials) {\r\n        params.push(orderBy('nameWithInitials'))\r\n        params.push(startAt(search.nameWithInitials))\r\n        params.push(endAt(search.nameWithInitials + '\\uf8ff'))\r\n    }\r\n\treturn GET(collectionName, ...params)\r\n}\r\n\r\nconst create = async(obj) => {\r\n    return POST(collectionName,  {\r\n        ...obj\r\n    })\r\n}\r\n\r\nconst update = async(id, obj) => {\r\n\treturn PUT(`/v1/user/update-type/${id}?branch=${clientX().branch}`, obj)\r\n}\r\n\r\nconst updateSettings = async(id, obj) => {\r\n\treturn PUT(`/v1/user/update-settings/${id}?branch=${clientX().branch}`, obj)\r\n}\r\n\r\nconst updatePassword = async(username, obj) => {\r\n\treturn PUT(`/v1/user/update-password?branch=${clientX().branch}`, {username: username || clientX().username, ...obj})\r\n}\r\n\r\nconst resetPassword = async(username, obj) => {\r\n\treturn PUT(`/v1/user/reset-password?branch=${clientX().branch}`, {username: username || clientX().username, ...obj})\r\n}\r\n\r\nconst remove = async(id, obj) => {\r\n\treturn DELETE(`/v1/user/delete/${id}?branch=${clientX().branch}`, obj)\r\n}\r\n\r\nexport default {\r\n    get,\r\n    updatePassword,\r\n    resetPassword,\r\n    create,\r\n    remove,\r\n    update,\r\n    updateSettings\r\n}\r\n","import React from 'react';\r\nimport { Chip } from '@material-ui/core';\r\n\r\nexport default [\r\n    {\r\n        label: 'ID', name: 'id',\r\n        options: {\r\n            display: false\r\n        },\r\n    },\r\n    {\r\n        label: 'Amount', name: 'amount',\r\n        options: {\r\n            customBodyRender: function(value, meta) {\r\n                return <Chip label={value} />\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'Date', name: 'date', options: {}\r\n    },\r\n    {\r\n        label: 'Note', name: 'forNote', options: {}\r\n    },\r\n    {\r\n        label: 'Authorized by', name: 'auth', options: {}\r\n    },\r\n];\r\n\r\n","import React from 'react';\r\nimport {\r\n    Grid, ExpansionPanel, ExpansionPanelDetails, Chip\r\n} from '@material-ui/core';\r\nimport {\r\n    LinearLoader, HeadingExpansion, HeadingOverlay, Text, DateOnly, \r\n} from 'business/widgets/Mini';\r\nimport { useSnackbar } from 'notistack';\r\nimport ServiceSubs from 'business/services/subs.service';\r\nimport palette from 'portal/theme/palette';\r\nimport { Button } from '@material-ui/core';\r\nimport { Create } from '@material-ui/icons';\r\nimport Table from 'business/widgets/Table';\r\nimport columns from './ColsAudit';\r\nimport moment from 'moment';\r\nimport { getUserGlobal } from 'portal/services/auth.service';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        setOverlayDetail, details\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    \r\n    const [newSubDetails, setNewSubDetails] = React.useState({\r\n        date: moment().format('YYYY-MM-DD HH:mm'),\r\n        memberId: details.uuid,\r\n        fullName: details.fullName,\r\n        batchOl: details.batchOl,\r\n        auth: getUserGlobal('displayName'),\r\n    });\r\n    const [subs, setSubs] = React.useState([]);\r\n    const [changed, setChanged] = React.useState(0);\r\n    const [loading2, setLoading2] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        debugger\r\n        if (details.uuid) {\r\n            setLoading2(true);\r\n            ServiceSubs.get({ memberId: details.uuid })\r\n                .then(r => {\r\n                    setSubs(r);\r\n                }).catch(e => {\r\n                    debugger\r\n                    enqueueSnackbar('Could not fetch driver', { variant: 'error' });\r\n                }).finally(e => setLoading2(false))\r\n        }\r\n    }, [enqueueSnackbar, details.uuid, changed]);\r\n\r\n    const onAdd = () => {\r\n        setLoading2(true)\r\n        ServiceSubs.create({\r\n            ...newSubDetails,\r\n        })\r\n            .then(id => {\r\n                enqueueSnackbar('Renewed', { variant: 'success' });\r\n                onClear()\r\n                setChanged(changed + 1)\r\n            }).catch(e => {\r\n                debugger\r\n                enqueueSnackbar('Could not Renew', { variant: 'error' });\r\n            }).finally(e => setLoading2(false))\r\n    };\r\n    \r\n    const onChange = e => {\r\n        setNewSubDetails({ ...newSubDetails, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const onClear = () => {\r\n        setNewSubDetails({ \r\n            date: moment().format('YYYY-MM-DD HH:mm'),\r\n            memberId: details.uuid,\r\n            fullName: details.fullName,    \r\n            batchOl: details.batchOl,\r\n            auth: getUserGlobal('displayName'),    \r\n        });\r\n    }\r\n\r\n    return (<>\r\n        <div >\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <HeadingOverlay title={'SUBSCRIPTIONS OF ' + details?.fullName?.toUpperCase()} onClose={() => setOverlayDetail(false)} />\r\n                    <LinearLoader loading={loading2} />\r\n                    <Grid container spacing={0} style={{paddingTop: 5}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12} style={{padding: 10}}>\r\n                            <Chip label={'STATUS: ' + (details.obaType || 'N/A')} style={{color: 'white', backgroundColor: palette.shades.green}} />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded={false}>\r\n                                <HeadingExpansion title={'ADD NEW SUBSCRIPTIONS'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <Text size={6} disabled label=\"Member\" value={newSubDetails.fullName} />\r\n                                        <Text size={4} disabled label=\"Date of Reciept\" value={newSubDetails.date} />\r\n                                        <Text size={6} label=\"Amount\" name=\"amount\"\r\n                                            value={newSubDetails.amount} onChange={onChange}>\r\n                                        </Text>\r\n                                        <Text size={6} label=\"For\" value={newSubDetails.forNote} name=\"forNote\" onChange={onChange}/>\r\n                                    </Grid>\r\n                                    <Grid container spacing={1} alignContent=\"flex-end\" alignItems=\"flex-end\" justify=\"flex-end\">\r\n                                        <Button variant=\"outlined\" color=\"primary\" size=\"medium\" style={{marginRight: 5}}\r\n                                            disabled={loading2} onClick={() => onClear()}>Clear\r\n                                        </Button>\r\n                                        <Button variant=\"contained\" color=\"primary\"  size=\"medium\" endIcon={<Create />} style={{marginRight: 5}}\r\n                                            disabled={loading2} onClick={() => onAdd()}>{'Renew Subscription'}\r\n                                        </Button>\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={0} style={{paddingTop: 5}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'PREVIOUS SUBSCRIPTIONS'} />\r\n                                <ExpansionPanelDetails><Grid container sm={12}>\r\n                                    <Grid item xs={12} sm={12} md={12} lg={12} xl={12} style={{paddingTop: 5, paddingBottom: 5}}>\r\n                                        <Table data={subs} columns={columns} minified={true} />\r\n                                    </Grid>\r\n                                </Grid></ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <LinearLoader loading={loading2} />\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React, { Suspense } from 'react';\r\n\r\nconst SuspenseUI = React.lazy(() => import('./suspense'));\r\n\r\nconst UI = (props) => {\r\n\r\n    return <Suspense fallback={<div>Loading PDF Library...</div>}><SuspenseUI {...props} /></Suspense>\r\n\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Grid\r\n} from '@material-ui/core';\r\nimport {\r\n    HeadingOverlay, \r\n} from 'business/widgets/Mini';\r\nimport PrintHbl from 'business/views/hbl/PrintHbl';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        setOverlayDetail, details, overlayDetail\r\n    } = props;\r\n\r\n    return (<>\r\n        <div >\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <HeadingOverlay title={'PRINT for ' + details?.fullName?.toUpperCase()} onClose={() => setOverlayDetail(false)} />\r\n                    <PrintHbl id={overlayDetail.id} branch={'all'} />\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport { Grid, Button, ExpansionPanelDetails, ExpansionPanel } from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\nimport Service from 'business/services/file.service';\r\nimport columns from './DocumentListCols';\r\nimport Table from 'business/widgets/Table';\r\nimport {\r\n    LinearLoader, TableButton, HeadingOverlay, Text, HeadingExpansion, ConfirmationFragment\r\n} from 'business/widgets/Mini';\r\nimport { GetApp, Description, DeleteForever, RemoveRedEye } from '@material-ui/icons';\r\nimport { DropzoneArea } from 'material-ui-dropzone'\r\nimport { useDialog } from 'muibox';\r\nimport { PERMS, hasAccess, NoAccessStr, ROLES } from 'business/utils/permissions';\r\nimport { orderBy, map } from 'lodash';\r\nimport { clientX } from 'portal/services/client.service';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        details, setOverlayDetail\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const dialog = useDialog();\r\n    \r\n    const [loading, setLoading] = React.useState(false);\r\n    const [changed, setChanged] = React.useState(0);\r\n    const [file, setFile] = React.useState(false);\r\n    const [docs, setDetails] = React.useState([]);\r\n    const [searchFields, setSearchFields] = React.useState({\r\n    });\r\n\r\n    const onChange = e => {\r\n        setSearchFields({ ...searchFields, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        if (!details.cargo?.id) return;\r\n        setLoading(true);\r\n        Service.getAll({ id: details.cargo?.id, entity: 'cargo'})\r\n            .then(rows => {\r\n                setDetails(map(orderBy(rows, 'deleted'), i => ({ ...i, upload: i.auth + ' ' + i.createdDate + ' ' + i.branch })));  \r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    }, [enqueueSnackbar, details, changed]);\r\n\r\n    const columnsWithActions = [\r\n        ...columns,\r\n        {\r\n            name: 'actions', label: '  ',\r\n            options: {\r\n                empty: true, viewColumns: false, filter: false, sort: false,\r\n                customBodyRender: (value, table) => (table.rowData[1] ? <>Deleted</> : <>\r\n                    <TableButton title=\"Download\" icon={<GetApp />} \r\n                        onClick={() => { \r\n                            download(table.rowData[0], table.rowData[2])\r\n                        }}\r\n                    />                      \r\n                    <TableButton title=\"View\" icon={<RemoveRedEye />} \r\n                        onClick={() => { \r\n                            window.open('view-docs/' + table.rowData[0] + '/' + table.rowData[2], '_blank')\r\n                        }}\r\n                    />                      \r\n                    {clientX().type === 'pickup' && <TableButton title=\"Delete\" icon={<DeleteForever />} \r\n                        onClick={() => { \r\n                            deleteFile(table.rowData[0], table.rowData[2])\r\n                        }}\r\n                    />}\r\n                </>)\r\n            }\r\n        },\r\n    ]\r\n\r\n    const onDrop = (files) => {\r\n        if (files.length> 0) {\r\n            setFile(files[0]);\r\n        }\r\n    }\r\n\r\n    const upload = () => {\r\n        if (!hasAccess(PERMS.LOADED_SHIPMENTS_OPERATIONS)) { \r\n            enqueueSnackbar(NoAccessStr, { variant: 'warning' }); return;\r\n        }\r\n\r\n        if (!details.cargo?.hbl) { \r\n            enqueueSnackbar('This JOB is not Converted as HBL yet', { variant: 'warning' }); return;\r\n        }\r\n        \r\n        setLoading(true)\r\n        Service.upload(file, details.cargo?.id, 'cargo', details.cargo?.hbl, searchFields.notes || '')\r\n            .then(rows => {\r\n                enqueueSnackbar('Upload success', { variant: 'success' });\r\n                setChanged(changed + 1)\r\n                setFile(false)\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not Upload', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    };\r\n\r\n    const download = (id, name) => {\r\n        setLoading(true)\r\n        Service.download(id)\r\n            .then((file) => {\r\n                const downloadUrl = URL.createObjectURL(file);\r\n                const a = document.createElement(\"a\");\r\n                a.href = downloadUrl;\r\n                a.download = name || 'docs-download';\r\n                document.body.appendChild(a);\r\n                a.click();\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not Download', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    };\r\n\r\n    const deleteFile = (id, name) => {\r\n        if (!hasAccess(ROLES.ONLY_ADMIN)) { \r\n            enqueueSnackbar(NoAccessStr, { variant: 'warning' }); return;\r\n        }\r\n\r\n        dialog.confirm(ConfirmationFragment('Delete file: ' + name, 'DELETE')).then(() => {\r\n            setLoading(true);\r\n            Service.deleteFile(id)\r\n                .then(rows => {\r\n                    enqueueSnackbar('Deleted', { variant: 'success' });\r\n                    setChanged(changed + 1)\r\n                }).catch(e => {\r\n                    enqueueSnackbar('Could not Delete', { variant: 'error' });\r\n                }).finally(e => setLoading(false))\r\n        })\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <HeadingOverlay title={'Documents - ' + details.shortName} onClose={() => setOverlayDetail(false)} />\r\n                    <LinearLoader loading={loading} />\r\n                    <Grid container>\r\n                        <Grid item xs={3} sm={3} md={3} lg={3} xl={3}  style={{paddingLeft: 10, paddingTop: 10, paddingRight: 10, borderRight: '1px solid #eeeeee'}}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'UPLOAD NEW DOCUMENTS'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container>\r\n                                        <Grid container spacing={2} xs={12} md={12} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\" style={{paddingLeft: 5, paddingTop: 10}}>\r\n                                            <DropzoneArea onChange={a => onDrop(a)} filesLimit={1} getPreviewIcon={() => <Description />} maxFileSize={5000000} />\r\n                                        </Grid>\r\n                                        <Grid container spacing={1} xs={12} md={12} justify=\"flex-start\" alignContent=\"center\" alignItems=\"center\" style={{marginTop: 20, border: '4px dashed #eeeeee', borderRadius: 5}}>\r\n                                            <Text size={12} label=\"Notes\" name=\"notes\"\r\n                                                value={searchFields.notes} onChange={onChange}>\r\n                                            </Text>\r\n                                            <Grid md={12} container justify=\"space-between\" style={{paddingLeft: 5, paddingRight: 10, paddingTop: 5, paddingBottom: 5}}>\r\n                                                <Button disabled={!file} color='primary' variant=\"contained\" size=\"medium\" onClick={upload} style={{marginTop: 2}}>Upload</Button>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                        <Grid item xs={9} sm={9} md={9} lg={9} xl={9} style={{paddingRight: 10, paddingTop: 10}}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'LIST OF UPLOADED DOCUMENTS'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container>\r\n                                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12} >\r\n                                            <Table data={docs} columns={columnsWithActions} minified={true} />\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport ViewTab from './components/ViewTab';\r\nimport StatusTab from './components/StatusTab';\r\nimport PrintTab from './components/PrintTab';\r\nimport DocumentList from './components/DocumentList';\r\nimport { Tabs, Tab } from 'business/widgets/Mini';\r\nimport PieChartIcon from '@material-ui/icons/PieChart';\r\nimport Service from 'business/services/members.service';\r\nimport { useSnackbar } from 'notistack';\r\nimport map from 'lodash/map';\r\nimport { Description, Print, VerifiedUser } from '@material-ui/icons';\r\nimport { clientX } from 'portal/services/client.service';\r\n\r\nconst UI = ({ overlayDetail, setOverlayDetail }) => {\r\n\r\n    const [tab, setTab] = React.useState(0);\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    \r\n    const [details, setDetails] = React.useState({\r\n        cargo: {},\r\n        packages: []\r\n    });\r\n    const [loading, setLoading] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        if (overlayDetail.id === undefined) return;\r\n        setLoading(true);\r\n        Service.get(overlayDetail).then(rows => {\r\n            const packages = map(rows.packages, item => ({\r\n                ...item,\r\n            }))\r\n            setDetails({\r\n                ...rows,\r\n                packages\r\n            });\r\n        }).catch(e => {\r\n            debugger\r\n            enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n        }).finally(e => setLoading(false))\r\n    }, [enqueueSnackbar, overlayDetail]);\r\n\r\n    const onTab = v => {\r\n        // if (v === 9) {\r\n        //     // if (!details.id) {\r\n        //     //     enqueueSnackbar('Loading! please wait.', { variant: 'warning' });\r\n        //     //     return\r\n        //     // }\r\n        //     window.open('print/' + overlayDetail.id + '/all/1', '_blank')\r\n        //     setOverlayDetail(false)\r\n        //     return;\r\n        // }\r\n        setTab(v)\r\n    }\r\n\r\n    return (<>\r\n        <Tabs value={tab} indicatorColor=\"primary\" textColor=\"primary\" onChange={(e, newVal) => onTab(newVal)} centered>\r\n            <Tab value={0} wrapped={true} label={<span><PieChartIcon />&nbsp;Member Details</span>} />\r\n            <Tab value={1} wrapped={true} label={<span><VerifiedUser />&nbsp;Subscription</span>} />\r\n            {/* <Tab value={2} wrapped={true} label={<span><Description />&nbsp;Documents</span>} /> */}\r\n            <Tab value={9} wrapped={true} label={<span><Print />&nbsp;Print</span>} />\r\n        </Tabs>\r\n        {tab === 0 && <ViewTab\r\n            details={details} loading={loading} setOverlayDetail={setOverlayDetail} \r\n        />}\r\n        {tab === 1 && <StatusTab\r\n            details={details} loading={loading} setOverlayDetail={setOverlayDetail} \r\n        />}\r\n        {tab === 9 && <PrintTab\r\n            details={details} loading={loading} setOverlayDetail={setOverlayDetail} overlayDetail={overlayDetail} \r\n        />}\r\n        {/* {tab === 2 && <DocumentList\r\n            details={details} loading={loading} setOverlayDetail={setOverlayDetail} \r\n        />} */}\r\n        <div style={{padding: 20}}></div>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport { Chip } from '@material-ui/core';\r\n\r\nexport default [\r\n    {\r\n        label: 'ID', name: 'id',\r\n        options: {\r\n            display: false\r\n        },\r\n    },\r\n    {\r\n        label: 'Type', name: 'type',\r\n        options: {\r\n            customBodyRender: function(value, meta) {\r\n                return <Chip label={value} />\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'Length (cm)', name: 'length', options: {}\r\n    },\r\n    {\r\n        label: 'Width', name: 'breadth', options: {}\r\n    },\r\n    {\r\n        label: 'Height', name: 'height', options: {}\r\n    },\r\n    {\r\n        label: 'Quantity', name: 'quantity', options: {}\r\n    },\r\n    {\r\n        label: 'Weight', name: 'weight', options: {}\r\n    },\r\n    {\r\n        label: 'Volume (m.cu.)', name: 'volume', options: {}\r\n    },\r\n    {\r\n        label: 'Remarks', name: 'remarks', options: {}\r\n    },\r\n];\r\n\r\n","import React from 'react';\r\nimport {\r\n    Grid,\r\n} from '@material-ui/core';\r\nimport columns from './ColsPackage';\r\nimport Table from 'business/widgets/Table';\r\nimport { LabelChip } from 'business/widgets/Mini';\r\nimport get from 'lodash.get';\r\nimport { oneDecimal, quantityTotal, twoDecimal, volumeTotal, weightTotal } from 'business/utils/number';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        packages\r\n    } = props;\r\n\r\n    const [totals, setTotals] = React.useState({});\r\n\r\n    React.useEffect(() => {\r\n        setTotals({quantity: quantityTotal(packages), weight: weightTotal(packages), volume: volumeTotal(packages) });  \r\n    }, [packages])\r\n\r\n    return (\r\n        <div>\r\n            <Grid container>\r\n                <Grid container xs={12} sm={12} md={12} lg={12} xl={12} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\">\r\n                    <LabelChip label={'Packages'} value={get(totals, 'quantity', '-')} />\r\n                    <LabelChip label={'Weight'} value={oneDecimal(get(totals, 'weight', 0))} />\r\n                    <LabelChip label={'Volume'} value={twoDecimal(get(totals, 'volume', 0))} />\r\n                </Grid>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <Table data={packages} columns={columns} minified={true} />\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Grid, ExpansionPanel, ExpansionPanelDetails\r\n} from '@material-ui/core';\r\nimport {\r\n    LinearLoader, HeadingExpansion, HeadingOverlay, Label\r\n} from 'business/widgets/Mini';\r\nimport ListPackage from './ListPackage';\r\nimport map from 'lodash/map';\r\nimport get from 'lodash/get';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        setOverlayDetail, details, loading\r\n    } = props;\r\n\r\n    return (<>\r\n        <div >\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <HeadingOverlay title={'MEMBER DETAILS'} onClose={() => setOverlayDetail(false)} />\r\n                    <LinearLoader loading={loading} />\r\n                    <Grid container spacing={0} style={{paddingTop: 0}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'BASIC SHIPPER DETAILS'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <Label size={3} label=\"JOB REF\" value={'REF' + (details.cargo?.id || 'XXXX')} />\r\n                                        {/* <Label size={3} label=\"HBL\" value={details.cargo?.hbl} /> */}\r\n                                        <Grid md={9}/>\r\n                                        <Label size={3} label=\"Name\" value={details.cargo?.name} />\r\n                                        <Label size={6} label=\"Address\" value={details.cargo?.address} />\r\n                                        <Grid md={3}/>\r\n                                        <Label size={3} label=\"Contact\" value={details.cargo?.contact} />\r\n                                        <Label size={3} label=\"Location\" value={details.cargo?.location || '-'} />\r\n\r\n                                        {/* <Label size={3} label=\"Cargo Mode\" value={details.cargo?.cargoMode} />\r\n                                        <Label size={3} label=\"Warehouse Location\" value={details.cargo?.warehouseLocation} />\r\n                                        <Label size={6} label=\"Delivery Type\" value={details.cargo?.deliveryType} /> */}\r\n                                        \r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={0} style={{paddingTop: 5}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'CONSIGNEE DETAILS'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <Label size={3} label=\"Name\" value={details.cargo?.slName} />\r\n                                        <Label size={6} label=\"Address\" value={details.cargo?.slAddress} />\r\n                                        <Grid item md={3} />\r\n                                        <Label size={3} label=\"Contact\" value={details.cargo?.slContact} />\r\n                                        <Label size={3} label=\"Location\" value={details.cargo?.slLocation} />\r\n                                        <Label size={3} label=\"NIC/PP No\" value={details.cargo?.slPpNo} />\r\n                                        <Label size={6} label=\"Note\" value={details.cargo?.note} />\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={0} style={{paddingTop: 5}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'PACKAGE DETAILS'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <Grid item md={12}>\r\n                                            <ListPackage packages={get(details, 'packages', [])} />\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={0} style={{paddingTop: 5}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded={false}>\r\n                                <HeadingExpansion title={'PAYMENT DETAILS'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        {map(details.cargo?.amountSpec, i => (\r\n                                            <Label size={3} label={i.costType} value={i.amount} />\r\n                                        ))}\r\n                                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                                            <hr style={{width: '100%'}} />\r\n                                        </Grid>\r\n                                        {details.cargo &&\r\n                                            <Label size={3} label={'GRAND TOTAL'} value={details.cargo?.amount + ' ' + details.cargo?.currency} />\r\n                                        }\r\n                                        {details.cargo &&\r\n                                            <Label size={3} label={'PAID AMOUNT'} value={details.cargo?.paid + ' ' + details.cargo?.currency} />\r\n                                        }\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <LinearLoader loading={loading} />\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import moment from 'moment';\r\nimport { GET, POST, PUT, DELETE } from 'portal/helpers/adapter';\r\nimport { clientX } from 'portal/services/client.service';\r\n\r\nconst get = async({ startDate, endDate }) => {\r\n    return GET(`/v1/complaint/get-all?branch=${clientX().branch}&startDate=${startDate}&endDate=${endDate}Z`)\r\n}\r\n\r\nconst create = async(obj) => {\r\n\treturn POST(`/v1/complaint/create?branch=${clientX().branch}`,  {\r\n        ...obj,\r\n        branch: clientX().branch,\r\n        auth: clientX().username,\r\n        status: 'NEW',\r\n        createdDate: moment().format('YYYY-MM-DD HH:mm')\r\n    })\r\n}\r\n\r\nconst update = async(id, obj) => {\r\n\treturn PUT(`/v1/complaint/update/${id}?branch=${clientX().branch}`, {\r\n        ...obj,\r\n        lastUpdatedDate: moment().format('YYYY-MM-DD HH:mm'),\r\n        lastUpdatedAuth: clientX().username,\r\n    })\r\n}\r\n\r\nconst remove = async(id) => {\r\n\treturn DELETE(`/v1/complaint/delete/${id}?branch=${clientX().branch}`)\r\n}\r\n\r\nconst getById = async(id) => {\r\n    return GET(`/v1/complaint/get-by-id/${id}?branch=${clientX().branch}`)\r\n}\r\n\r\nconst getByCargoId = async(id) => {\r\n    return GET(`/v1/complaint/get-all-by-cargo-id?cargoId=${id}&branch=${clientX().branch}`)\r\n}\r\n\r\nexport default {\r\n    get,\r\n    getById,\r\n    getByCargoId,\r\n    create,\r\n    remove,\r\n    update\r\n}\r\n","import { GET } from 'portal/helpers/adapter';\r\nimport { clientX } from 'portal/services/client.service';\r\n\r\nconst get = async(id, branch) => {\r\n    return GET('/v1/audit/get-all?branch=' + (branch || clientX().branch) + `&ref=${id}&entity=CARGO`)\r\n}\r\n\r\nexport default {\r\n    get,\r\n}\r\n","export const getStatus = (fetched, driverId, loadingId, dispatcherId, deleted) => {\r\n    return (deleted) ? 'DELETED'\r\n        : (fetched === -12 && !driverId) ? 'DOMESTIC JOB RECIEVED'\r\n        : (fetched === -12 && driverId) ? 'DRIVER ASSIGNED'\r\n        : (fetched === 12 && driverId) ? 'DRIVER PICKED UP'\r\n        : (fetched === 42 && driverId) ? 'DRIVER DELIVERED'\r\n        : (fetched === -1 && !driverId) ? 'CARGO INFO RECIEVED'\r\n        : (fetched === -1 && driverId) ? 'DRIVER ASSIGNED'\r\n        : (fetched === -11) ? 'JOB SUSPENDED'\r\n        : (fetched === 0) ? (driverId ? 'DRIVER PICKED' : 'OFFICER PICKED')\r\n        : (fetched === 1 && !loadingId) ? 'BRANCH WAREHOUSE'\r\n        : (fetched === 1 && loadingId) ? 'ADDED TO SHIPMENT'\r\n        : (fetched === 2 && loadingId) ? 'IN CUSTOMS'\r\n        : (fetched === 3 && !dispatcherId) ? 'SHIPMENT REACHED'\r\n        : (fetched === 3 && dispatcherId) ? 'DELIVERY ASSIGNED'\r\n        : (fetched === 33) ? 'DELIVERY SUSPENDED'\r\n        : (fetched === 4) ? (dispatcherId ? 'PACKAGE DELVIERED' : 'PACKAGE CLEARED')\r\n        : (fetched === 4) ? (dispatcherId ? 'PACKAGE DELVIERED' : 'PACKAGE CLEARED')\r\n        : 'N/A'\r\n}\r\n\r\nexport const getStatusAlpha = (fetched, driverId, loadingId, dispatcherId, deleted) => {\r\n    return (deleted) ? { txt: 'DELETED', i: 0, all: 10 } \r\n            : (fetched === -12 && !driverId) ? { txt: 'DOMESTIC JOB RECIEVED', i: 0, all: 10 }\r\n            : (fetched === -12 && driverId) ? { txt: 'DRIVER ASSIGNED', i: 1, all: 10 }\r\n            : (fetched === 12 && driverId) ? { txt: 'DRIVER PICKED UP', i: 4, all: 10 }\r\n            : (fetched === 42 && driverId) ? { txt: 'DRIVER DELIVERED', i: 8, all: 10 }\r\n            : (fetched === -1 && !driverId) ? { txt: 'CARGO INFO RECIEVED', i: 0, all: 10 }\r\n            : (fetched === -1 && driverId) ? { txt: 'DRIVER ASSIGNED', i: 1, all: 10 }\r\n            : (fetched === -11) ? { txt: 'JOB SUSPENDED', i: 1, all: 10 }\r\n            : (fetched === 0) ? { txt: (driverId ? 'DRIVER PICKED' : 'OFFICER PICKED'), i: 2, all: 10 }\r\n            : (fetched === 1 && !loadingId) ? { txt: 'BRANCH WAREHOUSE', i: 3, all: 10 }\r\n            : (fetched === 1 && loadingId) ? { txt: 'ADDED TO SHIPMENT', i: 4, all: 10 }\r\n            : (fetched === 2 && loadingId) ? { txt: 'IN CUSTOMS', i: 5, all: 10 }\r\n            : (fetched === 3 && !dispatcherId) ? { txt: 'SHIPMENT REACHED', i: 6, all: 10 }\r\n            : (fetched === 3 && dispatcherId) ? { txt: 'DELIVERY ASSIGNED', i: 7, all: 10 }\r\n            : (fetched === 4) ? { txt: dispatcherId ? 'PACKAGE DELVIERED' : 'PACKAGE CLEARED', i: 8, all: 10 }\r\n            : { txt: 'N/A', i: 9, all: 10 }\r\n}\r\n","import React from 'react';\r\nimport { Chip } from '@material-ui/core';\r\n\r\nexport default [\r\n    {\r\n        label: 'ID', name: 'id',\r\n        options: {\r\n            display: false\r\n        },\r\n    },\r\n    {\r\n        label: 'Detail', name: 'added',\r\n        options: {\r\n            customBodyRender: function(value, meta) {\r\n                return <Chip label={value} />\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'Date', name: 'createdDate', options: {}\r\n    },\r\n    {\r\n        label: 'Time', name: 'createdTime', options: {}\r\n    },\r\n    {\r\n        label: 'Auth', name: 'auth', options: {}\r\n    },\r\n    {\r\n        label: 'Branch', name: 'branch', options: {}\r\n    },\r\n];\r\n\r\n","import React from 'react';\r\nimport {\r\n    Grid, ExpansionPanel, ExpansionPanelDetails, Chip\r\n} from '@material-ui/core';\r\nimport {\r\n    LinearLoader, HeadingExpansion, HeadingOverlay, Step, Label\r\n} from 'business/widgets/Mini';\r\nimport { useSnackbar } from 'notistack';\r\nimport ServiceDriver from 'business/services/driver.service';\r\nimport ServiceComplaint from 'business/services/complaint.service';\r\nimport ServiceAudit from 'business/services/audit.service';\r\nimport palette from 'portal/theme/palette';\r\nimport { getStatus } from 'business/utils/statusLogic';\r\nimport { Button } from '@material-ui/core';\r\nimport { Warning } from '@material-ui/icons';\r\nimport Table from 'business/widgets/Table';\r\nimport columns from './ColsAudit';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        setOverlayDetail, details\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    \r\n    const [cargoDetails, setCargoDetails] = React.useState([]);\r\n    const [driverDetails, setDriverDetails] = React.useState({});\r\n    const [complaintDetails, setComplaintDetails] = React.useState([]);\r\n    const [auditDetails, setAuditDetails] = React.useState([]);\r\n    const [status, setStatus] = React.useState('');\r\n    const [loading2, setLoading2] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        if (details.cargo?.driverId) {\r\n            setLoading2(true);\r\n            ServiceDriver.getById(details.cargo?.driverId, details.cargo?.branch)\r\n                .then(r => {\r\n                    setDriverDetails(r);\r\n                }).catch(e => {\r\n                    enqueueSnackbar('Could not fetch driver', { variant: 'error' });\r\n                }).finally(e => setLoading2(false))\r\n        }\r\n        \r\n        ServiceComplaint.getByCargoId(details.cargo?.id)\r\n            .then(r => {\r\n                setComplaintDetails(r);\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch complaints', { variant: 'error' });\r\n            })\r\n        ServiceAudit.get(details.cargo?.id)\r\n            .then(r => {\r\n                setAuditDetails(r);\r\n            }).catch(e => {\r\n                // enqueueSnackbar('Could not fetch Audits', { variant: 'error' });\r\n            })\r\n    }, [enqueueSnackbar, details.cargo]);\r\n\r\n    React.useEffect(() => {\r\n        const i = details.cargo || {}\r\n        const newDetails = [\r\n            { label: 'Job Added', data: 'User: ' + i.auth + ' | on ' + i.createdDate + ' ' + i.createdTime},\r\n            { label: 'Tentative Pickup', data: 'User: ' + i.auth + ' | on ' + i.pickupDate + ' ' + i.pickupTime},\r\n            { label: 'Picked on', data: i.fetched >= 0 && i.pickedUpDate + ' ' + i.pickedUpTime + ' by Driver: ' + (driverDetails.username || 'N/A')},\r\n            { label: 'Delivered on', data: i.fetched === 42 && i.deliveredDate + ' ' + i.deliveredTime},\r\n        ];\r\n        setCargoDetails(newDetails)\r\n        const status = getStatus(i.fetched, i.driverId, i.loadingId, i.dispatchedId, i.deleted)\r\n        setStatus(status)\r\n        \r\n    }, [enqueueSnackbar, details.cargo, driverDetails]);\r\n\r\n    return (<>\r\n        <div >\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <HeadingOverlay title={'HBL STATUS AND AUDIT LOGS'} onClose={() => setOverlayDetail(false)} />\r\n                    <LinearLoader loading={loading2} />\r\n                    <Grid container spacing={0} style={{paddingTop: 5}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12} style={{padding: 10}}>\r\n                            <Chip label={'HBL STATUS: ' + status} style={{color: 'white', backgroundColor: palette.shades.green}} />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'CARGO STATUS'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <Grid item md={6}>\r\n                                            <Step items={cargoDetails.slice(0, 2)} />\r\n                                        </Grid>\r\n                                        <Grid item md={6}>\r\n                                            <Step items={cargoDetails.slice(2)} />\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={0} style={{paddingTop: 5}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'COMPLAINT DETAILS'} />\r\n                                <ExpansionPanelDetails><Grid container>\r\n                                    <Grid container xs={12} sm={12} md={12} lg={12} xl={12} style={{paddingTop: 5, paddingBottom: 5}}>\r\n                                        {complaintDetails.length > 0 ? <Button endIcon={<Warning />} color='primary' variant=\"outlined\" size=\"small\" onClick={() => {\r\n                                                window.open('complaints/' + details.cargo?.hbl, '_blank')                                       \r\n                                        }} style={{marginTop: 0}}>{'VIEW COMPAINTS'}</Button> :\r\n                                        <Label size={2} label=\"No Complaints for this HBL\" value={''} />}\r\n                                    </Grid>\r\n                                    {complaintDetails.map(i => <Grid style={{paddingTop: 15}} container xs={12} sm={12} md={12} lg={12} xl={12} spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <Label size={2} label=\"Created Date\" value={(i.createdDate || '').replace('T', ' ')} />\r\n                                        <Label size={2} label=\"Subject\" value={i.subject} />\r\n                                        <Label size={4} label=\"Detail\" value={i.detail} />\r\n                                        <Label size={2} label=\"Status\" value={i.status} />\r\n                                    </Grid>)}\r\n                                </Grid></ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={0} style={{paddingTop: 5}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'AUDIT DETAILS'} />\r\n                                <ExpansionPanelDetails><Grid container sm={12}>\r\n                                    <Grid item xs={12} sm={12} md={12} lg={12} xl={12} style={{paddingTop: 5, paddingBottom: 5}}>\r\n                                        <Table data={auditDetails} columns={columns} minified={true} />\r\n                                    </Grid>\r\n                                </Grid></ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <LinearLoader loading={loading2} />\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport { Chip } from '@material-ui/core';\r\n\r\nexport default [\r\n    {\r\n        name: 'id', options: { viewColumns: false, filter: false, sort: false, display: false },\r\n    },\r\n    {\r\n        name: 'deleted', options: { viewColumns: false, filter: false, sort: false, display: false },\r\n    },\r\n    {\r\n        name: 'filename', options: { viewColumns: false, filter: false, sort: false, display: false },\r\n    },\r\n    {\r\n        label: 'HBL', name: 'entityRef',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            customBodyRender: function(value, meta) {\r\n                return <b>{value}</b> \r\n            }    \r\n        },\r\n    },\r\n    {\r\n        label: 'Document Name', name: 'filename',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            customBodyRender: function(value, meta) {\r\n                return <Chip label={value} />\r\n            }\r\n        },\r\n    },\r\n    {\r\n        name: 'upload', label: 'Uploaded details',\r\n        options: {\r\n            viewColumns: true, filter: false, sort: true\r\n        }\r\n    },\r\n    {\r\n        name: 'notes', label: 'Notes',\r\n        options: {\r\n            viewColumns: true, filter: false, sort: true\r\n        }\r\n    },\r\n];\r\n\r\n","import React from 'react';\r\nimport { Grid, Button, ExpansionPanelDetails, ExpansionPanel } from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\nimport Service from 'business/services/file.service';\r\nimport columns from './DocumentListCols';\r\nimport Table from 'business/widgets/Table';\r\nimport {\r\n    LinearLoader, TableButton, HeadingOverlay, Text, HeadingExpansion, ConfirmationFragment\r\n} from 'business/widgets/Mini';\r\nimport { GetApp, Description, DeleteForever, RemoveRedEye } from '@material-ui/icons';\r\nimport { DropzoneArea } from 'material-ui-dropzone'\r\nimport { useDialog } from 'muibox';\r\nimport { PERMS, hasAccess, NoAccessStr, ROLES } from 'business/utils/permissions';\r\nimport { orderBy, map } from 'lodash';\r\nimport { clientX } from 'portal/services/client.service';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        details, setOverlayDetail\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const dialog = useDialog();\r\n    \r\n    const [loading, setLoading] = React.useState(false);\r\n    const [changed, setChanged] = React.useState(0);\r\n    const [file, setFile] = React.useState(false);\r\n    const [docs, setDetails] = React.useState([]);\r\n    const [searchFields, setSearchFields] = React.useState({\r\n    });\r\n\r\n    const onChange = e => {\r\n        setSearchFields({ ...searchFields, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        if (!details.cargo?.id) return;\r\n        setLoading(true);\r\n        Service.getAll({ id: details.cargo?.id, entity: 'cargo'})\r\n            .then(rows => {\r\n                setDetails(map(orderBy(rows, 'deleted'), i => ({ ...i, upload: i.auth + ' ' + i.createdDate + ' ' + i.branch })));  \r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    }, [enqueueSnackbar, details, changed]);\r\n\r\n    const columnsWithActions = [\r\n        ...columns,\r\n        {\r\n            name: 'actions', label: '  ',\r\n            options: {\r\n                empty: true, viewColumns: false, filter: false, sort: false,\r\n                customBodyRender: (value, table) => (table.rowData[1] ? <>Deleted</> : <>\r\n                    <TableButton title=\"Download\" icon={<GetApp />} \r\n                        onClick={() => { \r\n                            download(table.rowData[0], table.rowData[2])\r\n                        }}\r\n                    />                      \r\n                    <TableButton title=\"View\" icon={<RemoveRedEye />} \r\n                        onClick={() => { \r\n                            window.open('view-docs/' + table.rowData[0] + '/' + table.rowData[2], '_blank')\r\n                        }}\r\n                    />                      \r\n                    {clientX().type === 'pickup' && <TableButton title=\"Delete\" icon={<DeleteForever />} \r\n                        onClick={() => { \r\n                            deleteFile(table.rowData[0], table.rowData[2])\r\n                        }}\r\n                    />}\r\n                </>)\r\n            }\r\n        },\r\n    ]\r\n\r\n    const onDrop = (files) => {\r\n        if (files.length> 0) {\r\n            setFile(files[0]);\r\n        }\r\n    }\r\n\r\n    const upload = () => {\r\n        if (!hasAccess(PERMS.LOADED_SHIPMENTS_OPERATIONS)) { \r\n            enqueueSnackbar(NoAccessStr, { variant: 'warning' }); return;\r\n        }\r\n\r\n        if (!details.cargo?.hbl) { \r\n            enqueueSnackbar('This JOB is not Converted as HBL yet', { variant: 'warning' }); return;\r\n        }\r\n        \r\n        setLoading(true)\r\n        Service.upload(file, details.cargo?.id, 'cargo', details.cargo?.hbl, searchFields.notes || '')\r\n            .then(rows => {\r\n                enqueueSnackbar('Upload success', { variant: 'success' });\r\n                setChanged(changed + 1)\r\n                setFile(false)\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not Upload', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    };\r\n\r\n    const download = (id, name) => {\r\n        setLoading(true)\r\n        Service.download(id)\r\n            .then((file) => {\r\n                const downloadUrl = URL.createObjectURL(file);\r\n                const a = document.createElement(\"a\");\r\n                a.href = downloadUrl;\r\n                a.download = name || 'docs-download';\r\n                document.body.appendChild(a);\r\n                a.click();\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not Download', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    };\r\n\r\n    const deleteFile = (id, name) => {\r\n        if (!hasAccess(ROLES.ONLY_ADMIN)) { \r\n            enqueueSnackbar(NoAccessStr, { variant: 'warning' }); return;\r\n        }\r\n\r\n        dialog.confirm(ConfirmationFragment('Delete file: ' + name, 'DELETE')).then(() => {\r\n            setLoading(true);\r\n            Service.deleteFile(id)\r\n                .then(rows => {\r\n                    enqueueSnackbar('Deleted', { variant: 'success' });\r\n                    setChanged(changed + 1)\r\n                }).catch(e => {\r\n                    enqueueSnackbar('Could not Delete', { variant: 'error' });\r\n                }).finally(e => setLoading(false))\r\n        })\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <HeadingOverlay title={'Documents Under HBL - ' + details.cargo?.hbl} onClose={() => setOverlayDetail(false)} />\r\n                    <LinearLoader loading={loading} />\r\n                    <Grid container>\r\n                        <Grid item xs={3} sm={3} md={3} lg={3} xl={3}  style={{paddingLeft: 10, paddingTop: 10, paddingRight: 10, borderRight: '1px solid #eeeeee'}}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'UPLOAD NEW DOCUMENTS'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container>\r\n                                        <Grid container spacing={2} xs={12} md={12} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\" style={{paddingLeft: 5, paddingTop: 10}}>\r\n                                            <DropzoneArea onChange={a => onDrop(a)} filesLimit={1} getPreviewIcon={() => <Description />} maxFileSize={5000000} />\r\n                                        </Grid>\r\n                                        <Grid container spacing={1} xs={12} md={12} justify=\"flex-start\" alignContent=\"center\" alignItems=\"center\" style={{marginTop: 20, border: '4px dashed #eeeeee', borderRadius: 5}}>\r\n                                            <Text size={12} label=\"Notes\" name=\"notes\"\r\n                                                value={searchFields.notes} onChange={onChange}>\r\n                                            </Text>\r\n                                            <Grid md={12} container justify=\"space-between\" style={{paddingLeft: 5, paddingRight: 10, paddingTop: 5, paddingBottom: 5}}>\r\n                                                <Button disabled={!file} color='primary' variant=\"contained\" size=\"medium\" onClick={upload} style={{marginTop: 2}}>Upload</Button>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                        <Grid item xs={9} sm={9} md={9} lg={9} xl={9} style={{paddingRight: 10, paddingTop: 10}}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'LIST OF UPLOADED DOCUMENTS'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container>\r\n                                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12} >\r\n                                            <Table data={docs} columns={columnsWithActions} minified={true} />\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","\r\nexport const tryJsonParse = (s, defaultVal) => {\r\n    try {\r\n        return JSON.parse(s)\r\n    } catch {\r\n        return defaultVal\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ViewTab from './components/ViewTab';\r\nimport StatusTab from './components/StatusTab';\r\nimport DocumentList from './components/DocumentList';\r\nimport { Tabs, Tab } from 'business/widgets/Mini';\r\nimport PieChartIcon from '@material-ui/icons/PieChart';\r\nimport { tryJsonParse } from 'business/utils/json';\r\nimport Service from 'business/services/hbl.service';\r\nimport { useSnackbar } from 'notistack';\r\nimport map from 'lodash/map';\r\nimport get from 'lodash/get';\r\nimport { volume } from 'business/utils/number';\r\nimport { Description, VerifiedUser } from '@material-ui/icons';\r\nimport { clientX } from 'portal/services/client.service';\r\n\r\nconst UI = ({ overlayDetail, setOverlayDetail }) => {\r\n\r\n    const [tab, setTab] = React.useState(0);\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    \r\n    const [details, setDetails] = React.useState({\r\n        cargo: {},\r\n        packages: []\r\n    });\r\n    const [loading, setLoading] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        if (overlayDetail.id === undefined) return;\r\n        setLoading(true);\r\n        Service.getCargo(overlayDetail.id)\r\n            .then(rows => {\r\n                const packages = map(rows.packages, item => ({\r\n                    ...item,\r\n                    volume: volume(item) || 0,\r\n                }))\r\n                const cargo = get(rows, 'cargo', {});\r\n                setDetails({\r\n                    cargo: {\r\n                        ...cargo,\r\n                        amountSpec: tryJsonParse(cargo.amountSpec, []),\r\n                    },\r\n                    packages\r\n                });\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    }, [enqueueSnackbar, overlayDetail.id]);\r\n\r\n    const onTab = v => {\r\n        if (v === 9) {\r\n            if (!details.cargo.id) {\r\n                enqueueSnackbar('Loading! please wait.', { variant: 'warning' });\r\n                return\r\n            }\r\n            if (!details.cargo.hbl) {\r\n                enqueueSnackbar('Only HBLs can be printed. This is a Job', { variant: 'warning' });\r\n                return\r\n            }\r\n            window.open('print/' + details.cargo.id + '/' + clientX().branch + '/1', '_blank')\r\n            setOverlayDetail(false)\r\n            return;\r\n        }\r\n        setTab(v)\r\n    }\r\n\r\n    return (<>\r\n        <Tabs value={tab} indicatorColor=\"primary\" textColor=\"primary\" onChange={(e, newVal) => onTab(newVal)} centered>\r\n            <Tab value={0} wrapped={true} label={<span><PieChartIcon />&nbsp;HBL Details</span>} />\r\n            <Tab value={1} wrapped={true} label={<span><VerifiedUser />&nbsp;{'Status & Audit'}</span>} />\r\n            <Tab value={2} wrapped={true} label={<span><Description />&nbsp;{'Documents'}</span>} />\r\n            {/* <Tab value={9} wrapped={true} label={<span><Print />&nbsp;{'Print HBL & CR'}</span>} /> */}\r\n        </Tabs>\r\n        {tab === 0 && <ViewTab\r\n            details={details} loading={loading} setOverlayDetail={setOverlayDetail} \r\n        />}\r\n        {tab === 1 && <StatusTab\r\n            details={details} loading={loading} setOverlayDetail={setOverlayDetail} \r\n        />}\r\n        {tab === 2 && <DocumentList\r\n            details={details} loading={loading} setOverlayDetail={setOverlayDetail} \r\n        />}\r\n        <div style={{padding: 20}}></div>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport NonDomestic from './NonDomestic';\r\nimport Domestic from '../../domestic/ViewDomesticJob';\r\nimport { clientX } from 'portal/services/client.service';\r\nimport { types } from 'portal/helpers/constants';\r\n\r\nconst UI = ({ overlayDetail, setOverlayDetail }) => {\r\n    if (clientX().branch === '') {\r\n        return <NonDomestic overlayDetail={overlayDetail} setOverlayDetail={setOverlayDetail} />\r\n        // return <></>\r\n    } else if (clientX().type === types.domestic) {\r\n        return <Domestic overlayDetail={overlayDetail} setOverlayDetail={setOverlayDetail} />\r\n    } \r\n    return <NonDomestic overlayDetail={overlayDetail} setOverlayDetail={setOverlayDetail} />\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Card, CardHeader, CardContent, Grid,\r\n} from '@material-ui/core';\r\nimport AddHbl from './components/Add';\r\nimport AddPackage from './components/AddPackage';\r\nimport { Heading, Dialog } from 'business/widgets/Mini';\r\nimport QueuePlayNext from '@material-ui/icons/QueuePlayNext';\r\nimport { PERMS, hasAccess, NoAccessUI } from 'business/utils/permissions';\r\nimport ViewHbl from '../ViewHbl';\r\n\r\nconst UI = () => {\r\n    const [loading, setLoading] = React.useState(false);\r\n    const [overlayDetail, setOverlayDetail] = React.useState(false);\r\n    const [overlayType, setOverlayType] = React.useState(false);\r\n    const [packages, setPackages] = React.useState([]);\r\n    const [cargoRedundantData, setCargoRedundantData] = React.useState({});\r\n\r\n    if (!hasAccess(PERMS.ADD_HBL)) return <NoAccessUI />\r\n    return (<>\r\n        <Card elevation={0}>\r\n            <CardHeader title={\r\n                <Grid container spacing={1} justify=\"space-between\" alignContent=\"space-between\" alignItems=\"space-between\">\r\n                    <Heading Icon={QueuePlayNext} size={4} title={'Create new Member'} subtitle={'Zahira ' + process.env.REACT_APP_OLD_TYPE} />\r\n                    <Grid container spacing={2} xs={8} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\" style={{paddingRight: 10, paddingTop: 10}}>\r\n                    </Grid>\r\n                </Grid>}\r\n            />\r\n            <CardContent>\r\n                <Card style={{paddingTop: 0}}>\r\n                    <AddHbl\r\n                        setOverlayDetail={setOverlayDetail}\r\n                        setCargoRedundantData={setCargoRedundantData}\r\n                        setOverlayType={setOverlayType}\r\n                        packages={packages} setPackages={setPackages}\r\n                        loading={loading} setLoading={setLoading}\r\n                    />\r\n                    <div style={{padding: 20}}></div>\r\n                </Card>\r\n            </CardContent>\r\n        </Card>\r\n        <Dialog open={overlayDetail} width={overlayType === 'VIEW' ? 'lg' : \"sm\"} content={<>\r\n            {overlayType === 'VIEW' && <ViewHbl overlayDetail={overlayDetail} setOverlayDetail={setOverlayDetail} />}\r\n            {overlayType === 'ADD_EDU' && <AddPackage cargoRedundantData={cargoRedundantData} setPackages={setPackages} packages={packages}\r\n                overlayDetail={overlayDetail} setOverlayDetail={setOverlayDetail}\r\n            />}</>}\r\n        />\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport { Chip } from '@material-ui/core';\r\n\r\nexport default [\r\n    {\r\n        label: 'ID', name: 'id',\r\n        options: {\r\n            display: false\r\n        },\r\n    },\r\n    {\r\n        label: 'Type', name: 'type',\r\n        options: {\r\n            customBodyRender: function(value, meta) {\r\n                return <Chip label={value} />\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'Length (cm)', name: 'length', options: {}\r\n    },\r\n    {\r\n        label: 'Width', name: 'breadth', options: {}\r\n    },\r\n    {\r\n        label: 'Height', name: 'height', options: {}\r\n    },\r\n    {\r\n        label: 'Quantity', name: 'quantity', options: {}\r\n    },\r\n    {\r\n        label: 'Weight', name: 'weight', options: {}\r\n    },\r\n    {\r\n        label: 'Volume (m.cu.)', name: 'volume', options: {}\r\n    },\r\n    {\r\n        label: 'Remarks', name: 'remarks', options: {}\r\n    },\r\n];\r\n\r\n","import { POST, PUT, DELETE } from 'portal/helpers/adapter';\r\nimport { clientX } from 'portal/services/client.service';\r\n\r\nconst create = async(cargoId, obj) => {\r\n\treturn POST(`/v1/package/create?branch=${clientX().branch}`,  {\r\n        cargoId, ...obj,\r\n        branch: clientX().branch,\r\n        auth: clientX().username,\r\n    })\r\n}\r\n\r\nconst update = async(id, obj) => {\r\n\treturn PUT(`/v1/package/update/${id}?branch=${clientX().branch}`, obj)\r\n}\r\n\r\nconst remove = async(id, obj) => {\r\n\treturn DELETE(`/v1/package/delete/${id}?branch=${clientX().branch}`, obj)\r\n}\r\n\r\nexport default {\r\n    create,\r\n    remove,\r\n    update,\r\n}\r\n","import React from 'react';\r\nimport {\r\n    Grid, IconButton, Tooltip\r\n} from '@material-ui/core';\r\nimport columns from './ColsPackage';\r\nimport Table from 'business/widgets/Table';\r\nimport { Edit, DeleteForever } from '@material-ui/icons';\r\nimport { useDialog } from 'muibox';\r\nimport { LinearLoader, ConfirmationFragment } from 'business/widgets/Mini';\r\nimport { useSnackbar } from 'notistack';\r\nimport Service from 'business/services/package.service';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        setOverlayDetail, packages, setChanged, changed, \r\n    } = props;\r\n    const dialog = useDialog();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const [loading, setLoading] = React.useState(false);\r\n    \r\n    const remove = (id, name) => {\r\n        dialog.confirm(ConfirmationFragment('Delete ' + name, 'DELETE')).then(() => {\r\n            setLoading(true);\r\n            Service.remove(id)\r\n                .then(rows => {\r\n                    enqueueSnackbar('Deleted', { variant: 'success' });\r\n                    setChanged(changed + 1)\r\n                }).catch(e => {\r\n                    enqueueSnackbar('Could not Delete', { variant: 'error' });\r\n                }).finally(e => setLoading(false))\r\n        })\r\n    }\r\n\r\n    const columnsWithActions = [ ...columns,\r\n        {\r\n            name: 'actions', label: '  ',\r\n            options: {\r\n                empty: true, viewColumns: false, filter: false, sort: false,\r\n                customBodyRender: (value, table) => (<React.Fragment>\r\n                    <Tooltip title=\"Delete\"><span><IconButton \r\n                                onClick={() => remove(table.rowData[0], table.rowData[1])}>\r\n                                <DeleteForever />\r\n                    </IconButton></span></Tooltip>\r\n                    <Tooltip title=\"Edit\"><span><IconButton \r\n                                onClick={() => { \r\n                                    setOverlayDetail({ id: table.rowData[0] });\r\n                                }}>\r\n                                <Edit />\r\n                    </IconButton></span></Tooltip>\r\n                </React.Fragment>)\r\n            }\r\n        }\r\n    ]\r\n\r\n    return (\r\n        <div>\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <LinearLoader loading={loading} />\r\n                    <Table data={packages} columns={columnsWithActions} minified={true} />\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Grid, Button, ExpansionPanel, ExpansionPanelDetails\r\n} from '@material-ui/core';\r\nimport {\r\n    Text, Radio, LinearLoader, HeadingExpansion\r\n} from 'business/widgets/Mini';\r\nimport { useSnackbar } from 'notistack';\r\nimport Service from 'business/services/hbl.service';\r\nimport { clientF, clientX } from 'portal/services/client.service';\r\nimport { Create, Add } from '@material-ui/icons';\r\nimport ListPackage from './ListPackage';\r\nimport moment from 'moment';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        loading, setLoading, setOverlayDetail, packages, setPackages, id, changed, setChanged\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const client = clientF(clientX().branch) || {};\r\n    const qidLabel = client.qidLabel || 'Residential ID';\r\n\r\n    const [details, setDetails] = React.useState({});\r\n    \r\n    React.useEffect(() => {\r\n        setLoading(true);\r\n        Service.getCargo(id)\r\n            .then(rows => {\r\n                if (clientX().branch !== rows.cargo.branch) {\r\n                    enqueueSnackbar('You are not Authorized', { variant: 'warning' });\r\n                }\r\n                setDetails({\r\n                    ...rows.cargo,\r\n                    pickupDateTime: moment(rows.cargo.pickupDate + 'T' + rows.cargo.pickupTime + ':00')\r\n                });\r\n                setPackages(rows.packages || []);\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    }, [enqueueSnackbar, id, setLoading, setPackages]);\r\n\r\n    React.useEffect(() => {\r\n        setLoading(true);\r\n        Service.getCargo(id)\r\n            .then(rows => {\r\n                setPackages(rows.packages || []);\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    }, [enqueueSnackbar, id, setLoading, setPackages, changed]);\r\n\r\n    const onCreate = () => {\r\n        setLoading(true)\r\n        Service.editHbl(id, details)\r\n            .then(rows => {\r\n                enqueueSnackbar('Editted', { variant: 'success' });\r\n            }).catch(e => {\r\n                console.log(e)\r\n                enqueueSnackbar('Could not Edit', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    };\r\n\r\n    const onChange = e => {\r\n        setDetails({ ...details, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    return (<>\r\n        <div >\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <LinearLoader loading={loading} />\r\n                    <Grid container spacing={0} style={{paddingTop: 0}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'BASIC DETAILS'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <Radio size={4} name={'cargoMode'} onChange={onChange}\r\n                                            value={details.cargoMode} values={clientX().cargoMode}>\r\n                                        </Radio>\r\n                                        <Radio size={8} name={'warehouseLocation'} onChange={onChange}\r\n                                            value={details.warehouseLocation} values={clientX().warehouseLocation}>\r\n                                        </Radio>\r\n                                        <Text size={3} label=\"Name\" name=\"name\"\r\n                                            value={details.name} onChange={onChange}\r\n                                        />\r\n                                        <Text size={6} label=\"Description\" name=\"description\"\r\n                                            value={details.description} onChange={onChange}>\r\n                                        </Text>\r\n                                        <Grid item md={3} />\r\n                                        <Text size={3} label=\"Contact\" name=\"contact\"\r\n                                            value={details.contact} onChange={onChange}>\r\n                                        </Text>\r\n                                        <Text size={6} label=\"Address\" name=\"address\"\r\n                                            value={details.address} onChange={onChange}>\r\n                                        </Text>\r\n                                        <Text size={3} label=\"Location\" name=\"location\"\r\n                                            value={details.location} onChange={onChange}>\r\n                                        </Text>\r\n                                        <Text size={3} label=\"ID/PP No\" name=\"ppNo\"\r\n                                            value={details.ppNo} onChange={onChange}>\r\n                                        </Text>\r\n                                        <Text size={3} label={qidLabel} name=\"qid\"\r\n                                            value={details.qid} onChange={onChange}>\r\n                                        </Text>\r\n                                        <Grid item md={1} />\r\n                                        <Radio size={5} name={'deliveryType'} onChange={onChange}\r\n                                            value={details.deliveryType} values={clientX().deliveryType}>\r\n                                        </Radio>\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={0} style={{paddingTop: 5}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'CONSIGNEE DETAILS'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <Text size={3} label=\"Name\" name=\"slName\"\r\n                                            value={details.slName} onChange={onChange}>\r\n                                        </Text>\r\n                                        <Text size={6} label=\"Address\" name=\"slAddress\"\r\n                                            value={details.slAddress} onChange={onChange}>\r\n                                        </Text>\r\n                                        <Grid item md={3} />\r\n                                        <Text size={3} label=\"Contact\" name=\"slContact\"\r\n                                            value={details.slContact} onChange={onChange}>\r\n                                        </Text>\r\n                                        <Text size={3} label=\"NIC/PP No\" name=\"slPpNo\"\r\n                                            value={details.slPpNo} onChange={onChange}>\r\n                                        </Text>\r\n                                        <Text size={6} label=\"Note\" name=\"note\"\r\n                                            value={details.note} onChange={onChange}>\r\n                                        </Text>\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={0} style={{paddingTop: 5}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'PACKAGE DETAILS'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <Grid item md={12} style={{paddingTop: 15, paddingBottom: 5}}>\r\n                                            <Button variant=\"contained\" color=\"primary\" endIcon={<Add />}\r\n                                                disabled={loading} onClick={() => setOverlayDetail({ cargoId: id })}>Add Package\r\n                                            </Button>\r\n                                        </Grid>\r\n                                        <Grid item md={12}>\r\n                                            <ListPackage \r\n                                                changed={changed} setChanged={setChanged}\r\n                                                setPackages={setPackages} packages={packages}\r\n                                                setOverlayDetail={setOverlayDetail} />\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={0} style={{paddingTop: 5}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'PAYMENT DETAILS'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <Grid item md={12}>\r\n                                            \r\n                                        </Grid>\r\n                                        <Grid item md={12}>\r\n                                            \r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={0} style={{paddingTop: 20}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <Grid container spacing={1} alignContent=\"flex-end\" alignItems=\"flex-end\" justify=\"flex-end\">\r\n                                <Button variant=\"contained\" color=\"primary\"  size=\"medium\" endIcon={<Create />} style={{marginRight: 5}}\r\n                                    disabled={loading} onClick={() => onCreate()}>Update HBL\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <LinearLoader loading={loading} />\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Grid, Button, ExpansionPanel, ExpansionPanelDetails\r\n} from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\nimport { Add } from '@material-ui/icons';\r\nimport {\r\n    LinearLoader, HeadingExpansion, HeadingOverlay, Text, Select\r\n} from 'business/widgets/Mini';\r\nimport Service from 'business/services/package.service';\r\nimport { clientX } from 'portal/services/client.service';\r\nimport { volume } from 'business/utils/number';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        setOverlayDetail, overlayDetail, setChanged, changed\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    \r\n    const [details, setDetails] = React.useState({});\r\n    const [loading, setLoading] = React.useState(false);\r\n\r\n    const create = () => {\r\n        if (!details.type) {\r\n            enqueueSnackbar('Please select Type', { variant: 'warning' });\r\n            return\r\n        }\r\n        setLoading(true)\r\n        Service.create(overlayDetail.cargoId, details)\r\n            .then(rows => {\r\n                enqueueSnackbar('Created', { variant: 'success' });\r\n                setChanged(changed + 1)\r\n                setOverlayDetail(false)\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not Create', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    };\r\n\r\n    const onBlur = e => {\r\n        if (e.target.name === 'quantity' || e.target.name === 'length' || e.target.name === 'height' || e.target.name === 'breadth')\r\n            setDetails({ ...details, volume: volume(details) })\r\n    };\r\n    \r\n    const onChange = e => {\r\n        setDetails({ ...details, [e.target.name]: e.target.value });\r\n    };\r\n    \r\n    const onChangeFloat = e => {\r\n        const str = (e.target.value + '').replace(/[^0-9.]/gi,'')\r\n        setDetails({ ...details, [e.target.name]: str });\r\n    };\r\n\r\n    return (<>\r\n        <div >\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <HeadingOverlay title={'ADD PACKAGE TO EXISTING HBL'} onClose={() => setOverlayDetail(false)} />\r\n                    <LinearLoader loading={loading} />\r\n                    <Grid container spacing={0} style={{paddingTop: 0}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'PACKAGE DETAILS'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <Select size={4} label=\"Type\" name=\"type\" values={clientX().packageType}\r\n                                            value={details.type} onChange={onChange}\r\n                                        />\r\n                                        <Grid item md={8} />\r\n                                        <Text size={3} label=\"Length (cm)\" name=\"length\"\r\n                                            value={details.length} onChange={onChangeFloat} onBlur={onBlur}\r\n                                        />\r\n                                        <Text size={3} label=\"Width\" name=\"breadth\"\r\n                                            value={details.breadth} onChange={onChangeFloat} onBlur={onBlur}\r\n                                        />\r\n                                        <Text size={3} label=\"Height\" name=\"height\"\r\n                                            value={details.height} onChange={onChangeFloat} onBlur={onBlur}\r\n                                        />\r\n                                        <Text size={3} label=\"Quantity\" name=\"quantity\"\r\n                                            value={details.quantity} onChange={onChangeFloat} onBlur={onBlur}\r\n                                        />\r\n                                        <Text size={3} label=\"Total Weight\" name=\"weight\"\r\n                                            value={details.weight} onChange={onChangeFloat}\r\n                                        />\r\n                                        <Text size={3} label=\"Volume (m.cu.)\" name=\"volume\"\r\n                                            value={details.volume} onChange={onChangeFloat}\r\n                                        />\r\n                                        <Text size={12} label=\"Remarks\" name=\"remarks\"\r\n                                            value={details.remarks} onChange={onChange}\r\n                                        />\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={0} style={{paddingTop: 20, paddingBottom: 20}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <Grid container spacing={1} alignContent=\"flex-end\" alignItems=\"flex-end\" justify=\"flex-end\">\r\n                                <Button variant=\"contained\" color=\"primary\" endIcon={<Add />}\r\n                                    onClick={() => create()}>Add Package to HBL\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Grid, Button, ExpansionPanel, ExpansionPanelDetails\r\n} from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\nimport { Add } from '@material-ui/icons';\r\nimport {\r\n    LinearLoader, HeadingExpansion, HeadingOverlay, Text, Select\r\n} from 'business/widgets/Mini';\r\nimport Service from 'business/services/package.service';\r\nimport { clientX } from 'portal/services/client.service';\r\nimport { volume } from 'business/utils/number';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        overlayDetail, setOverlayDetail, packages, setChanged, changed\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    \r\n    const [details, setDetails] = React.useState(packages.filter(i => i.id === overlayDetail.id)[0]);\r\n    const [loading, setLoading] = React.useState(false);\r\n\r\n    const create = () => {\r\n        if (!details.type) {\r\n            enqueueSnackbar('Please select Type', { variant: 'warning' });\r\n            return\r\n        }\r\n        setLoading(true)\r\n        Service.update(overlayDetail.id, details)\r\n            .then(rows => {\r\n                enqueueSnackbar('Created', { variant: 'success' });\r\n                setChanged(changed + 1)\r\n                setOverlayDetail(false)\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not Create', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    };\r\n\r\n    const onBlur = e => {\r\n        if (e.target.name === 'quantity' || e.target.name === 'length' || e.target.name === 'height' || e.target.name === 'breadth')\r\n            setDetails({ ...details, volume: volume(details) })\r\n    };\r\n    \r\n    const onChange = e => {\r\n        setDetails({ ...details, [e.target.name]: e.target.value });\r\n    };\r\n    \r\n    const onChangeFloat = e => {\r\n        const str = (e.target.value + '').replace(/[^0-9.]/gi,'')\r\n        setDetails({ ...details, [e.target.name]: str });\r\n    };\r\n\r\n    return (<>\r\n        <div >\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <HeadingOverlay title={'EDIT PACKAGE FROM HBL'} onClose={() => setOverlayDetail(false)} />\r\n                    <LinearLoader loading={loading} />\r\n                    <Grid container spacing={0} style={{paddingTop: 0}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'PACKAGE DETAILS'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <Select size={4} label=\"Type\" name=\"type\" values={clientX().packageType}\r\n                                            value={details.type} onChange={onChange}\r\n                                        />\r\n                                        <Text size={6} label=\"Type\" name=\"type\"\r\n                                            value={details.type} onChange={onChange}\r\n                                        />\r\n                                        <Grid item md={2} />\r\n                                        <Text size={3} label=\"Length (cm)\" name=\"length\"\r\n                                            value={details.length} onChange={onChangeFloat} onBlur={onBlur}\r\n                                        />\r\n                                        <Text size={3} label=\"Width\" name=\"breadth\"\r\n                                            value={details.breadth} onChange={onChangeFloat} onBlur={onBlur}\r\n                                        />\r\n                                        <Text size={3} label=\"Height\" name=\"height\"\r\n                                            value={details.height} onChange={onChangeFloat} onBlur={onBlur}\r\n                                        />\r\n                                        <Text size={3} label=\"Quantity\" name=\"quantity\"\r\n                                            value={details.quantity} onChange={onChangeFloat} onBlur={onBlur}\r\n                                        />\r\n                                        <Text size={3} label=\"Total Weight\" name=\"weight\"\r\n                                            value={details.weight} onChange={onChangeFloat}\r\n                                        />\r\n                                        <Text size={3} label=\"Volume\" name=\"volume\"\r\n                                            value={details.volume} onChange={onChangeFloat}\r\n                                        />\r\n                                        <Text size={12} label=\"Remarks\" name=\"remarks\"\r\n                                            value={details.remarks} onChange={onChange}\r\n                                        />\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={0} style={{paddingTop: 20, paddingBottom: 20}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <Grid container spacing={1} alignContent=\"flex-end\" alignItems=\"flex-end\" justify=\"flex-end\">\r\n                                <Button variant=\"contained\" color=\"primary\" endIcon={<Add />}\r\n                                    onClick={() => create()}>Save Package Changes\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Card, CardHeader, CardContent, Grid,\r\n} from '@material-ui/core';\r\nimport EditCargo from './components/EditCargo';\r\nimport AddPackage from './components/AddPackage';\r\nimport EditPackage from './components/EditPackage';\r\nimport { HoneyComb, Dialog } from 'business/widgets/Mini';\r\nimport { PERMS, hasAccess, NoAccessUI } from 'business/utils/permissions';\r\n\r\nconst UI = (props) => {\r\n    const [loading, setLoading] = React.useState(false);\r\n    const [overlayDetail, setOverlayDetail] = React.useState(false);\r\n    const [packages, setPackages] = React.useState([]);\r\n    const [changed, setChanged] = React.useState(0);\r\n    const id = props.match.params.id;\r\n    \r\n    if (!hasAccess(PERMS.EDIT_HBL)) return <NoAccessUI />\r\n    return (<>\r\n        <Card elevation={0}>\r\n            <CardHeader title={\r\n                <Grid container spacing={1} justify=\"space-between\" alignContent=\"space-between\" alignItems=\"space-between\">\r\n                    <HoneyComb size={4} childTitle={'Edit HBL'} subtitle={'OBA'} parentTitle={'< Search HBL'} onClick={() => props.history.push('/search-hbl')} />\r\n                    <Grid container spacing={2} xs={8} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\" style={{paddingRight: 10, paddingTop: 10}}>\r\n                    </Grid>\r\n                </Grid>}\r\n            />\r\n            <CardContent>\r\n                <Card style={{paddingTop: 0}}>\r\n                    <EditCargo id={id}\r\n                        changed={changed} setChanged={setChanged}\r\n                        setOverlayDetail={setOverlayDetail}\r\n                        packages={packages} setPackages={setPackages}\r\n                        loading={loading} setLoading={setLoading}\r\n                    />\r\n                    <div style={{padding: 20}}></div>\r\n                </Card>\r\n            </CardContent>\r\n        </Card>\r\n        <Dialog open={overlayDetail} width=\"sm\" content={\r\n            overlayDetail.id ? <EditPackage\r\n                changed={changed} setChanged={setChanged}\r\n                setPackages={setPackages} packages={packages}\r\n                overlayDetail={overlayDetail} setOverlayDetail={setOverlayDetail}\r\n            /> :\r\n            <AddPackage setPackages={setPackages} packages={packages}\r\n                setOverlayDetail={setOverlayDetail} overlayDetail={overlayDetail}\r\n                changed={changed} setChanged={setChanged}\r\n            />\r\n        }\r\n        />\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport { Chip } from '@material-ui/core';\r\nimport { Badge } from '@material-ui/core';\r\n\r\nexport default [\r\n    {\r\n        name: 'id',\r\n        options: { viewColumns: false, filter: false, sort: false, display: false },\r\n    },\r\n    {\r\n        name: 'driverId',\r\n        options: { viewColumns: false, filter: false, sort: false, display: false },\r\n    },\r\n    {\r\n        name: 'loadingId',\r\n        options: { viewColumns: false, filter: false, sort: false, display: false },\r\n    },\r\n    {\r\n        name: 'dispatchedId',\r\n        options: { viewColumns: false, filter: false, sort: false, display: false },\r\n    },\r\n    {\r\n        name: 'hbl',\r\n        options: { viewColumns: false, filter: false, sort: false, display: false },\r\n    },\r\n    {\r\n        label: 'Gender',\r\n        name: 'gender',\r\n        options: { viewColumns: false, filter: true, sort: false, display: false },\r\n    },\r\n    {\r\n        name: 'now', options: { viewColumns: false, filter: false, sort: false, display: false },\r\n    },\r\n    {\r\n        name: 'deleted', options: { viewColumns: false, filter: false, sort: false, display: false },\r\n    },\r\n    {\r\n        label: 'ID', name: '_id',\r\n        options: {\r\n            viewColumns: false, filter: false, display: false, sort: true,\r\n            customBodyRender: function(value, meta) {\r\n                if (meta.rowData[7]) { \r\n                    return <Badge color=\"secondary\" variant=\"dot\">\r\n                        <b>{value}</b> \r\n                    </Badge>\r\n                }\r\n                return <b>{value}</b> \r\n            }    \r\n        },\r\n    },\r\n    {\r\n        label: 'Short Name', name: 'shortName',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            customBodyRender: function(value, meta) {\r\n                return <Chip label={value} />\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'Full Name', name: 'fullName',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false\r\n        },\r\n    },\r\n    {\r\n        label: 'Batch', name: 'batch',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            customBodyRender: function(value, meta) {\r\n                if (value) return <Chip label={value} />\r\n            }\r\n        },\r\n    },\r\n    {\r\n        name: 'gender', label: 'Gender',\r\n        options: {\r\n            viewColumns: true, filter: false, sort: false\r\n        }\r\n    },\r\n    {\r\n        name: 'dateOfBirth', label: 'Date of Birth',\r\n        options: {\r\n            viewColumns: true, filter: false, sort: false\r\n        }\r\n    },\r\n    {\r\n        name: 'contact', label: 'Contact',\r\n        options: {\r\n            viewColumns: true, display: true, filter: false, sort: false\r\n        }\r\n    },\r\n    {\r\n        name: 'createdDate', label: 'Created Date',\r\n        options: { viewColumns: true, display: false, filter: false, sort: true }\r\n    }\r\n];\r\n\r\n","export const trim = (s, n) => {\r\n    if ((s + '').length > n)\r\n        return s.substring(0, n) + '...';\r\n    return s;\r\n}\r\n","import React from 'react';\r\nimport { Grid, } from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\nimport Service from 'business/services/members.service';\r\nimport columns from './Cols';\r\nimport Table from 'business/widgets/Table';\r\nimport {\r\n    LinearLoader, TableButton, ConfirmationFragment,\r\n} from 'business/widgets/Mini';\r\nimport { RemoveRedEye, Edit, DeleteForever } from '@material-ui/icons';\r\nimport { trim } from 'business/utils/strings';\r\nimport { useDialog } from 'muibox';\r\nimport palette from 'portal/theme/palette';\r\nimport { ROLES, hasAccess, NoAccessStr } from 'business/utils/permissions';\r\nimport { clientX } from 'portal/services/client.service';\r\nimport moment from 'moment';\r\nimport { types } from 'portal/helpers/constants';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        changed, searchFields, setOverlayDetail, setChanged, history\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const dialog = useDialog();\r\n    \r\n    const [loading, setLoading] = React.useState(false);\r\n    const [details, setDetails] = React.useState([]);\r\n\r\n    React.useEffect(() => {\r\n        if(changed === 0) return\r\n        if ((searchFields.nameWithInitials || '').length < 2 && !searchFields.batch) {\r\n            enqueueSnackbar('Please add search criteria', { variant: 'warning' });\r\n            return\r\n        }\r\n        setLoading(true);\r\n        Service.get(searchFields)\r\n            .then(rows => {\r\n                // debugger\r\n                const date = moment().format('YYYY-MM-DD')\r\n                const time = moment().format('HH')\r\n                const newRows = rows.map(row => ({\r\n                    ...row,\r\n                    _id: row.id,\r\n                    date: row.pickupDate + ' ' + row.pickupTime,\r\n                    name: trim(row.name, 15),\r\n                    address: trim(row.address, 30),\r\n                    now: (row.createdDate === date && row.createdTime.startsWith(time)),\r\n                }))\r\n                setDetails(newRows);  \r\n            }).catch(e => {\r\n                debugger\r\n                console.log(e)\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n            // eslint-disable-next-line\r\n    }, [enqueueSnackbar, changed]);\r\n    \r\n    const customToolbar = () => {\r\n        return (<>\r\n            <span style={{paddingRight: 30, marginLeft: -10, color: palette.shades.main }}>Filters</span>\r\n        </>)\r\n    }\r\n\r\n    const onDelete = ({id}) => {\r\n        if (!hasAccess(ROLES.ONLY_ADMIN)) { \r\n            enqueueSnackbar(NoAccessStr, { variant: 'warning' }); return;\r\n        }\r\n\r\n        dialog.confirm(ConfirmationFragment('Delete ' + 1 + ' item(s)', 'DELETE')).then(() => {\r\n            setLoading(true);\r\n            Service.deleteCargo([id])\r\n                .then(rows => {\r\n                    enqueueSnackbar('Deleted', { variant: 'success' });\r\n                    setChanged(changed + 1)\r\n                }).catch(e => {\r\n                    enqueueSnackbar('Could not Delete', { variant: 'error' });\r\n                }).finally(e => setLoading(false))\r\n        })\r\n    }\r\n\r\n    const columnsWithActions = [\r\n        ...columns,\r\n        {\r\n            label: 'Merchant', name: 'merchant',\r\n            options: {\r\n                viewColumns: false, filter: clientX().type === types.domestic, sort: true, display: clientX().type === types.domestic,\r\n            },\r\n        },\r\n        {\r\n            name: 'actions', label: '  ',\r\n            options: {\r\n                empty: true, viewColumns: false, filter: false, sort: false,\r\n                customBodyRender: (value, table) => (<>\r\n                    <TableButton title=\"View\" icon={<RemoveRedEye />} \r\n                        onClick={() => { \r\n                            setOverlayDetail({id: table.rowData[0]})\r\n                        }}\r\n                    />\r\n                    {!table.rowData[8] && <>                               \r\n                        {clientX().type !== types.delivery && <><TableButton title=\"Edit\" icon={<Edit />} \r\n                            onClick={() => { \r\n                                history.push('/edit-hbl/' + table.rowData[0]);\r\n                            }}\r\n                        />                                \r\n                        <TableButton title=\"Delete\" icon={<DeleteForever />} \r\n                            onClick={() => { \r\n                                onDelete({id: table.rowData[0]})\r\n                            }}\r\n                        /></>}    \r\n                    </>}\r\n                </>)\r\n            }\r\n        },\r\n        {\r\n            name: 'branch', label: 'From',\r\n            options: {\r\n                viewColumns: true, filter: false, sort: false, display: clientX().type === types.delivery\r\n            }\r\n        }\r\n    ]\r\n\r\n    return (\r\n        <div>\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <LinearLoader loading={loading} />\r\n                    <Table data={details} columns={columnsWithActions} filter={true} viewColumns={true}\r\n                        sort={true} customToolbar={customToolbar} />\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Card, CardHeader, CardContent, Grid,\r\n    Button,\r\n} from '@material-ui/core';\r\nimport List from './components/List';\r\nimport ViewHbl from '../ViewHbl';\r\nimport { DateOnly, Heading, Dialog, Text, ButtonGroup } from 'business/widgets/Mini';\r\nimport moment from 'moment';\r\nimport Edit from '@material-ui/icons/Edit';\r\nimport Pageview from '@material-ui/icons/Pageview';\r\nimport DateRange from '@material-ui/icons/DateRange';\r\n\r\nconst UI = (props) => {\r\n    const [changed, setChanged] = React.useState(0);\r\n    const [searchFields, setSearchFields] = React.useState({\r\n        hbl: '',\r\n        startDate: moment().subtract(6, 'd').format('YYYY-MM-DD'),\r\n        endDate: moment().format('YYYY-MM-DD'),\r\n    });\r\n    const [overlayDetail, setOverlayDetail] = React.useState(false);\r\n\r\n    const onChange = e => {\r\n        setSearchFields({ ...searchFields, [e.target.name]: e.target.value });\r\n    };\r\n    \r\n    const onKeyDown = e => {\r\n        if(e.keyCode === 13) setChanged(changed + 1)\r\n    }\r\n\r\n    const month2 = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().subtract(61, 'd').format('YYYY-MM-DD'),\r\n            endDate: moment().format('YYYY-MM-DD'),\r\n        });\r\n        setChanged(changed + 1)\r\n    };\r\n\r\n    const month = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().subtract(30, 'd').format('YYYY-MM-DD'),\r\n            endDate: moment().format('YYYY-MM-DD'),\r\n        });\r\n        setChanged(changed + 1)\r\n    };\r\n\r\n    const week = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().subtract(7, 'd').format('YYYY-MM-DD'),\r\n            endDate: moment().format('YYYY-MM-DD'),\r\n        });\r\n        setChanged(changed + 1)\r\n    };\r\n    \r\n    const today = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().format('YYYY-MM-DD'),\r\n            endDate: moment().format('YYYY-MM-DD'),\r\n        });\r\n        setChanged(changed + 1)\r\n    };\r\n\r\n    const yesterday = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().add(-1, 'd').format('YYYY-MM-DD'),\r\n            endDate: moment().add(-1, 'd').format('YYYY-MM-DD'),\r\n        });\r\n        setChanged(changed + 1)\r\n    };\r\n\r\n    return (<>\r\n        <Card elevation={0}>\r\n            <CardHeader title={\r\n                <Grid container spacing={1} justify=\"space-between\" alignContent=\"space-between\" alignItems=\"space-between\">\r\n                    <Heading Icon={Edit} size={2} title={'Search Members'} subtitle={'Zahira College ' + process.env.REACT_APP_OLD_TYPE} />\r\n                    <Grid container spacing={2} xs={10} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\" style={{paddingRight: 10, paddingTop: 10}}>\r\n                        <Grid container md={7} alignItems=\"center\" justify=\"flex-end\" spacing={1}>\r\n                            <Text size={4} label=\"Name\" name=\"nameWithInitials\" onKeyDown={onKeyDown}\r\n                                value={searchFields.nameWithInitials} onChange={onChange}>\r\n                            </Text>\r\n                            <Text size={2} label=\"O/L Batch\" name=\"batch\" onKeyDown={onKeyDown}\r\n                                value={searchFields.batch} onChange={onChange}>\r\n                            </Text>\r\n                            <Text size={2} label=\"Index Number\" name=\"indexNumber\" onKeyDown={onKeyDown}\r\n                                value={searchFields.indexNumber} onChange={onChange}>\r\n                            </Text>\r\n                            <Button endIcon={<Pageview />} color='primary' variant=\"outlined\" size=\"medium\" onClick={() => setChanged(changed + 1)} style={{marginTop: 3, marginLeft: 5, marginRight: 10}}>Search</Button>\r\n                        </Grid>\r\n                        {false && <><Grid container md={3}>\r\n                            <DateOnly size={6} label=\"Registered From\" name=\"startDate\"\r\n                                value={searchFields.startDate} onChange={onChange}\r\n                            />\r\n                            <DateOnly size={6} label=\"Registered Date\" name=\"endDate\"\r\n                                value={searchFields.endDate} onChange={onChange}\r\n                            />\r\n                        </Grid>\r\n                        <Button startIcon={<DateRange />} color='primary' variant=\"outlined\" size=\"medium\" onClick={() => setChanged(changed + 1)} style={{marginTop: 2}}>Search</Button>\r\n                        <ButtonGroup size={2} onClicks={[month2, month, week, today, yesterday]} options={['Two Month', 'One Month', 'One Week', 'Today', 'Yesterday']} /></>}\r\n                    </Grid>\r\n                </Grid>}\r\n            />\r\n            <CardContent>\r\n                <Card>\r\n                    <List changed={changed} setChanged={setChanged} history={props.history}\r\n                        searchFields={searchFields} setOverlayDetail={setOverlayDetail}\r\n                    />\r\n                </Card>\r\n            </CardContent>\r\n        </Card>\r\n        <Dialog open={overlayDetail} width=\"lg\" content={overlayDetail.id \r\n            ? <ViewHbl overlayDetail={overlayDetail} setOverlayDetail={setOverlayDetail} />\r\n            : <></>\r\n        }/>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport { Chip } from '@material-ui/core';\r\nimport palette from 'portal/theme/palette';\r\nimport { getStatusAlpha } from 'business/utils/statusLogic';\r\nimport { Badge } from '@material-ui/core';\r\nconst greenRgb = palette.shades.greenRgb.replace(')', '')\r\nexport default [\r\n    {\r\n        name: 'id',\r\n        options: { viewColumns: false, filter: false, sort: false, display: false },\r\n    },\r\n    {\r\n        name: 'driverId',\r\n        options: { viewColumns: false, filter: false, sort: false, display: false, download: false },\r\n    },\r\n    {\r\n        name: 'loadingId',\r\n        options: { viewColumns: false, filter: false, sort: false, display: false, download: false },\r\n    },\r\n    {\r\n        name: 'dispatchedId',\r\n        options: { viewColumns: false, filter: false, sort: false, display: false, download: false },\r\n    },\r\n    {\r\n        name: 'hbl',\r\n        options: { viewColumns: false, filter: false, sort: false, display: false, download: false },\r\n    },\r\n    {\r\n        label: 'Cargo Mode',\r\n        name: 'cargoMode',\r\n        options: { viewColumns: false, filter: true, sort: false, display: false, download: false },\r\n    },\r\n    {\r\n        label: 'Delivery Type',\r\n        name: 'deliveryType',\r\n        options: { viewColumns: false, filter: true, sort: false, display: false, download: false },\r\n    },\r\n    {\r\n        name: 'now', options: { viewColumns: false, filter: false, sort: false, display: false, download: false },\r\n    },\r\n    {\r\n        name: 'deleted', options: { viewColumns: false, filter: false, sort: false, display: false, download: false },\r\n    },\r\n    {\r\n        label: 'HBL', name: '_id',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: true,\r\n            customBodyRender: function(value, meta) {\r\n                if (meta.rowData[7]) { \r\n                    return <Badge color=\"secondary\" variant=\"dot\">\r\n                        <b>{value}</b> \r\n                    </Badge>\r\n                }\r\n                return <b>{value}</b> \r\n            }    \r\n        },\r\n    },\r\n    {\r\n        label: 'Packages', name: 'packages',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: true,\r\n        },\r\n    },\r\n    {\r\n        label: 'Name', name: 'name',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            customBodyRender: function(value, meta) {\r\n                return <Chip label={value} />\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'Name Consignee', name: 'slName',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            customBodyRender: function(value, meta) {\r\n                if (value) return <Chip label={value} />\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'Status', name: 'fetched',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: true,\r\n            customBodyRender: function(value, meta) {\r\n                const label = getStatusAlpha(value, meta.rowData[1], meta.rowData[2], meta.rowData[3], meta.rowData[8])\r\n                return <Chip label={label.txt} style={{textShadow: 'rgb(0 0 0) 1px 1px 2px', color: '#eeeeee', backgroundColor: `${greenRgb}, ${1.60 - (label.all - label.i) / (label.all)})`}} />\r\n            }\r\n        },\r\n    },\r\n    {\r\n        name: 'address', label: 'Address',\r\n        options: {\r\n            viewColumns: true, filter: false, sort: false\r\n        }\r\n    },\r\n    {\r\n        name: 'slAddress', label: 'Address Consignee',\r\n        options: {\r\n            viewColumns: true, filter: false, sort: false\r\n        }\r\n    },\r\n    {\r\n        name: 'contact', label: 'Contact',\r\n        options: {\r\n            viewColumns: true, display: false, filter: false, sort: false\r\n        }\r\n    },\r\n    {\r\n        name: 'slContact', label: 'Contact Consignee',\r\n        options: {\r\n            viewColumns: true, display: false, filter: false, sort: false\r\n        }\r\n    },\r\n    {\r\n        name: 'createdDate', label: 'Created Date',\r\n        options: { viewColumns: true, display: false, filter: false, sort: true }\r\n    },\r\n    {\r\n        name: 'cargoMode', label: 'Cargo Mode',\r\n        options: { viewColumns: true, display: false, filter: false, sort: false, download: false }\r\n    },\r\n    {\r\n        name: 'deliveryType', label: 'Delivery Type',\r\n        options: { viewColumns: true, display: false, filter: false, sort: false, download: false }\r\n    }\r\n];\r\n\r\n","import reduce from 'lodash/reduce';\r\nimport filter from 'lodash/filter';\r\n\r\nexport const totalOfColumn = (rows, key) => reduce(rows, (tot, i) => tot = tot + (+i[key] || 0), 0)\r\n\r\nexport const filterByKey = (rows, filters, key) => {\r\n    return filters[key]\r\n            ? rows.filter(i => i[key] === filters[key])\r\n            : rows\r\n}\r\n\r\nexport const searchByKey = (rows, needle, key) => {\r\n    return needle\r\n            ? rows.filter(i => (i[key] + '').includes(needle))\r\n            : rows\r\n}\r\n\r\nexport const onlyUnique = (arr) => {\r\n    return filter(arr, (value, index, self) => self.indexOf(value) === index);\r\n}\r\n\r\n","import React from 'react';\r\nimport { Grid, } from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\nimport Service from 'business/services/hbl.service';\r\nimport columns from './Cols';\r\nimport Table from 'business/widgets/Table';\r\nimport {\r\n    LinearLoader, TableButton\r\n} from 'business/widgets/Mini';\r\nimport { RemoveRedEye } from '@material-ui/icons';\r\nimport { trim } from 'business/utils/strings';\r\nimport palette from 'portal/theme/palette';\r\nimport { clientX } from 'portal/services/client.service';\r\nimport moment from 'moment';\r\nimport { types } from 'portal/helpers/constants';\r\nimport { filterByKey } from 'business/utils/array';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        changed, searchFields, setOverlayDetail, \r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    \r\n    const [loading, setLoading] = React.useState(false);\r\n    const [details, setDetails] = React.useState([]);\r\n    const [filteredRows, setFilteredRows] = React.useState([]);\r\n\r\n    React.useEffect(() => {\r\n        if(changed === 0) return\r\n        if (searchFields.startDate > searchFields.endDate) {\r\n            enqueueSnackbar('Start-Date should not be after From-Date', { variant: 'warning' });\r\n            return\r\n        }\r\n        setLoading(true);\r\n        Service.getForReports({ startDate: searchFields.startDate, endDate: searchFields.endDate })\r\n            .then(rows => {\r\n                const date = moment().format('YYYY-MM-DD')\r\n                const time = moment().format('HH')\r\n                const newRows = rows.map(({cargo, packages}) => ({\r\n                    ...cargo,\r\n                    packages: packages.map(i => i.type).join(', '),\r\n                    _id: clientX().type === types.domestic ? ('REF' + cargo.id) : cargo.hbl ? cargo.hbl : ('REF' + cargo.id),\r\n                    date: cargo.pickupDate + ' ' + cargo.pickupTime,\r\n                    name: trim(cargo.name, 15),\r\n                    slName: trim(cargo.slName, 20),\r\n                    address: trim(cargo.address, 30),\r\n                    slAddress: trim(cargo.slAddress, 30),\r\n                    now: (cargo.createdDate === date && cargo.createdTime.startsWith(time)),\r\n                }))\r\n                setDetails(newRows);  \r\n                onFilterChange(searchFields.merchant, newRows);\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n            // eslint-disable-next-line\r\n    }, [enqueueSnackbar, changed, searchFields.startDate, searchFields.endDate]);\r\n    \r\n    React.useEffect(() => {\r\n        onFilterChange(searchFields.merchant, details)\r\n        // eslint-disable-next-line\r\n    }, [enqueueSnackbar, changed, searchFields.merchant]);\r\n\r\n    const onFilterChange = (merchant, detailsCallbackIssue) => {\r\n        const newRows1 = filterByKey(detailsCallbackIssue, {merchant}, 'merchant')\r\n        setFilteredRows(newRows1);\r\n    }\r\n\r\n    const customToolbar = () => {\r\n        return (<>\r\n            <span style={{paddingRight: 30, marginLeft: -10, color: palette.shades.main }}>Filters</span>\r\n        </>)\r\n    }\r\n\r\n    const columnsWithActions = [\r\n        ...columns,\r\n        {\r\n            label: 'Merchant', name: 'merchant',\r\n            options: {\r\n                viewColumns: false, filter: clientX().type === types.domestic, sort: true, display: clientX().type === types.domestic,\r\n            },\r\n        },\r\n        {\r\n            name: 'actions', label: '  ',\r\n            options: {\r\n                empty: true, viewColumns: false, filter: false, sort: false,\r\n                customBodyRender: (value, table) => (<>\r\n                    <TableButton title=\"View\" icon={<RemoveRedEye />} \r\n                        onClick={() => { \r\n                            setOverlayDetail({id: table.rowData[0]})\r\n                        }}\r\n                    />\r\n                </>)\r\n            }\r\n        },\r\n    ]\r\n\r\n    return (\r\n        <div>\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <LinearLoader loading={loading} />\r\n                    <Table data={filteredRows} columns={columnsWithActions} filter={true} viewColumns={true}\r\n                        sort={true} customToolbar={customToolbar} />\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import { GET, POST, PUT, DELETE } from 'portal/helpers/adapter';\r\nimport { clientX } from 'portal/services/client.service';\r\n\r\nconst getById = async(id) => {\r\n    return GET(`/v1/merchant/get-by-id/${id}?branch=${clientX().branch}`)\r\n}\r\n\r\nconst get = async() => {\r\n    return GET(`/v1/merchant/get-all?branch=${clientX().branch}`)\r\n}\r\n\r\nconst create = async(obj) => {\r\n\treturn POST(`/v1/merchant/create?branch=${clientX().branch}`,  {\r\n        ...obj,\r\n        branch: clientX().branch,\r\n        auth: clientX().username,\r\n        createdDate: new Date()\r\n    })\r\n}\r\n\r\nconst update = async(id, obj) => {\r\n\treturn PUT(`/v1/merchant/update/${id}?branch=${clientX().branch}`, obj)\r\n}\r\n\r\nconst updatePassword = async(username, obj) => {\r\n\treturn PUT(`/v1/merchant/update-password?branch=${clientX().branch}`, {username: username, ...obj})\r\n}\r\n\r\nconst remove = async(id) => {\r\n\treturn DELETE(`/v1/merchant/delete/${id}?branch=${clientX().branch}`)\r\n}\r\n\r\nexport default {\r\n    get,\r\n    getById,\r\n    updatePassword,\r\n    create,\r\n    remove,\r\n    update\r\n}\r\n","import React from 'react';\r\nimport {\r\n    Card, CardHeader, CardContent, Grid,\r\n    Button,\r\n} from '@material-ui/core';\r\nimport List from './components/List';\r\nimport ViewHbl from '../../hbl/ViewHbl';\r\nimport { DateOnly, Heading, Dialog, ButtonGroup, Select } from 'business/widgets/Mini';\r\nimport moment from 'moment';\r\nimport DateRange from '@material-ui/icons/DateRange';\r\nimport ServiceMerchant from 'business/services/merchant.service';\r\nimport { filter, map } from 'lodash';\r\nimport { useSnackbar } from 'notistack';\r\nimport { BubbleChart } from '@material-ui/icons';\r\n\r\nconst UI = (props) => {\r\n    const [changed, setChanged] = React.useState(0);\r\n    const [searchFields, setSearchFields] = React.useState({\r\n        hbl: '',\r\n        startDate: moment().subtract(6, 'd').format('YYYY-MM-DD'),\r\n        endDate: moment().format('YYYY-MM-DD'),\r\n    });\r\n    const [overlayDetail, setOverlayDetail] = React.useState(false);\r\n    const [assigneeList, setAssigneeList] = React.useState([]);\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const onChange = e => {\r\n        setSearchFields({ ...searchFields, [e.target.name]: e.target.value });\r\n    };\r\n    \r\n    React.useEffect(() => {\r\n        ServiceMerchant.get()\r\n            .then(rows => {\r\n                setAssigneeList(map(filter(rows, k => !k.deleted), i => i.username));\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch Merchants', { variant: 'error' });\r\n            })\r\n    }, [enqueueSnackbar]);\r\n\r\n    const month2 = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().subtract(61, 'd').format('YYYY-MM-DD'),\r\n            endDate: moment().format('YYYY-MM-DD'),\r\n        });\r\n        setChanged(changed + 1)\r\n    };\r\n\r\n    const month = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().subtract(30, 'd').format('YYYY-MM-DD'),\r\n            endDate: moment().format('YYYY-MM-DD'),\r\n        });\r\n        setChanged(changed + 1)\r\n    };\r\n\r\n    const week = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().subtract(7, 'd').format('YYYY-MM-DD'),\r\n            endDate: moment().format('YYYY-MM-DD'),\r\n        });\r\n        setChanged(changed + 1)\r\n    };\r\n    \r\n    const today = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().format('YYYY-MM-DD'),\r\n            endDate: moment().format('YYYY-MM-DD'),\r\n        });\r\n        setChanged(changed + 1)\r\n    };\r\n\r\n    const yesterday = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().add(-1, 'd').format('YYYY-MM-DD'),\r\n            endDate: moment().add(-1, 'd').format('YYYY-MM-DD'),\r\n        });\r\n        setChanged(changed + 1)\r\n    };\r\n\r\n    return (<>\r\n        <Card elevation={0}>\r\n            <CardHeader title={\r\n                <Grid container spacing={1} justify=\"space-between\" alignContent=\"space-between\" alignItems=\"space-between\">\r\n                    <Heading Icon={BubbleChart} size={2} title={'Reports'} subtitle={'Merchant Delivery'} />\r\n                    <Grid container spacing={2} xs={10} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\" style={{paddingRight: 10, paddingTop: 10}}>\r\n                        <Select size={2} label=\"Merchant/Referrer\" name=\"merchant\" values={assigneeList} valueObjects={[{value: '', label: 'All'}]} \r\n                            value={searchFields.merchant} onChange={onChange} />\r\n                        <DateOnly size={2} label=\"From Date\" name=\"startDate\"\r\n                            value={searchFields.startDate} onChange={onChange}\r\n                        />\r\n                        <DateOnly size={2} label=\"To Date\" name=\"endDate\"\r\n                            value={searchFields.endDate} onChange={onChange}\r\n                        />\r\n                        <Button startIcon={<DateRange />} color='primary' variant=\"outlined\" size=\"medium\" onClick={() => setChanged(changed + 1)} style={{marginTop: 2}}>Search</Button>\r\n                        <ButtonGroup size={2} onClicks={[month2, month, week, today, yesterday]} options={['Two Month', 'One Month', 'One Week', 'Today', 'Yesterday']} />\r\n                    </Grid>\r\n                </Grid>}\r\n            />\r\n            <CardContent>\r\n                <Card>\r\n                    <List changed={changed} setChanged={setChanged} history={props.history}\r\n                        searchFields={searchFields} setOverlayDetail={setOverlayDetail}\r\n                    />\r\n                </Card>\r\n            </CardContent>\r\n        </Card>\r\n        <Dialog open={overlayDetail} width=\"lg\" content={overlayDetail.id \r\n            ? <ViewHbl overlayDetail={overlayDetail} setOverlayDetail={setOverlayDetail} />\r\n            : <></>\r\n        }/>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import { GET, DELETE,  POST } from 'portal/helpers/adapter';\r\nimport { clientX, clientC } from 'portal/services/client.service';\r\nimport moment from 'moment';\r\nimport { audit } from 'business/utils/audit';\r\n\r\nconst contact = () => (clientC().contact || \"\").replace(\"+\", \"\")\r\n\r\nconst getPendingPickups = async({ startDate, endDate, fetched }) => {\r\n\treturn POST(`/v1/customer-api/cargo/get-pending-pickup?contact=${contact()}`, { branch: clientX().branch, fetched: fetched === undefined ? -1 :fetched, start: startDate, end: endDate })\r\n}\r\n\r\nconst getAllHbl = async({ startDate, endDate, branch }) => {\r\n\treturn POST(`/v1/customer-api/cargo/get-all-extended?contact=${contact()}`, { branch: branch || clientX().branch, start: startDate, end: endDate })\r\n}\r\n\r\nconst momentFormat = (s, r) => {\r\n    if (!s) return moment().format(r); // check, if wrong retrun null\r\n    if (typeof s === \"string\") return s;\r\n    else {\r\n        return s.format(r)\r\n    }\r\n}\r\n\r\nconst addDomesticJob = async(obj, arr, amount, amountSystem, paid) => {\r\n    const cargo = {\r\n        ...obj,\r\n        amount: 0,\r\n        paid: 0,\r\n        amountSpec: '{}',\r\n        amountSystem: '{}',\r\n        pickupDate: momentFormat(obj.pickupDateTime, 'YYYY-MM-DD'),\r\n        pickupTime: momentFormat(obj.pickupDateTime, 'HH:mm'),\r\n        createdDate: moment().format('YYYY-MM-DD'),\r\n        createdTime: moment().format('HH:mm'),\r\n        auth: clientX().username,\r\n        branch: clientX().branch\r\n    }\r\n    delete cargo.pickupDateTime\r\n    const packages = arr.map(i => {\r\n        const p = { ...i }\r\n        delete p.id\r\n        return p;\r\n    })\r\n    return POST(`/v1/customer-api/cargo/create-with-package${audit('DOMESTIC-JOB-CREATED')}`, { cargo, packages })\r\n}\r\n\r\nconst getCargo = async(id) => {\r\n    return GET(`/v1/customer-api/cargo/get-by-id/${id}?branch=${clientX().branch}&contact=${contact()}`)\r\n}\r\n\r\nconst getCargoByHbl = async(id, branch) => {\r\n    return GET(`/v1/customer-api/cargo/get-by-hbl?hbl=${id}&branch=${branch || clientX().branch}&contact=${contact()}`)\r\n}\r\n\r\nconst deleteCargo = async(arr) => {\r\n    return DELETE(`/v1/customer-api/cargo/delete-many${audit('DELETE-CARGO')}&branch=${clientX().branch}&contact=${contact()}`, arr)\r\n}\r\n\r\nexport default {\r\n    addDomesticJob,\r\n    getPendingPickups,\r\n    getAllHbl,\r\n    getCargo,\r\n    getCargoByHbl,\r\n    deleteCargo,\r\n}\r\n","import React from 'react';\r\nimport { Chip } from '@material-ui/core';\r\nimport palette from 'portal/theme/palette';\r\nimport { getStatus } from 'business/utils/statusLogic';\r\nimport { Badge } from '@material-ui/core';\r\n\r\nexport default [\r\n    {\r\n        name: 'id',\r\n        options: { viewColumns: false, filter: false, sort: false, display: false },\r\n    },\r\n    {\r\n        name: 'driverId',\r\n        options: { viewColumns: false, filter: false, sort: false, display: false },\r\n    },\r\n    {\r\n        name: 'loadingId',\r\n        options: { viewColumns: false, filter: false, sort: false, display: false },\r\n    },\r\n    {\r\n        name: 'dispatchedId',\r\n        options: { viewColumns: false, filter: false, sort: false, display: false },\r\n    },\r\n    {\r\n        name: 'hbl',\r\n        options: { viewColumns: false, filter: false, sort: false, display: false },\r\n    },\r\n    {\r\n        label: 'Cargo Mode',\r\n        name: 'cargoMode',\r\n        options: { viewColumns: false, filter: true, sort: false, display: false },\r\n    },\r\n    {\r\n        label: 'Delivery Type',\r\n        name: 'deliveryType',\r\n        options: { viewColumns: false, filter: true, sort: false, display: false },\r\n    },\r\n    {\r\n        name: 'now',\r\n        options: { viewColumns: false, filter: false, sort: false, display: false },\r\n    },\r\n    {\r\n        name: 'deleted',\r\n        options: { viewColumns: false, filter: false, sort: false, display: false },\r\n    },\r\n    {\r\n        label: 'HBL', name: 'hbl',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            customBodyRender: function(value, meta) {\r\n                if (meta.rowData[7]) { \r\n                    return <Badge color=\"secondary\" variant=\"dot\">\r\n                        <b>{value || 'REF' + meta.rowData[0]}</b> \r\n                    </Badge>\r\n                }\r\n                return <b>{value || 'REF' + meta.rowData[0]}</b> \r\n            }    \r\n        },\r\n    },\r\n    {\r\n        label: 'Name', name: 'name',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            customBodyRender: function(value, meta) {\r\n                return <Chip label={value} />\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'Status', name: 'fetched',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            customBodyRender: function(value, meta) {\r\n                const label = getStatus(value, meta.rowData[1], meta.rowData[2], meta.rowData[3], meta.rowData[8])\r\n                return <Chip label={label} style={{color: 'white', backgroundColor: palette.shades.green}} />\r\n            }\r\n        },\r\n    },\r\n    {\r\n        name: 'address', label: 'Address',\r\n        options: {\r\n            viewColumns: true, filter: false, sort: true\r\n        }\r\n    },\r\n    {\r\n        name: 'contact', label: 'Contact',\r\n        options: {\r\n            viewColumns: true, filter: false, sort: true\r\n        }\r\n    },\r\n    {\r\n        name: 'slAddress', label: 'Address Consignee',\r\n        options: {\r\n            viewColumns: true, filter: false, sort: false\r\n        }\r\n    }\r\n];\r\n\r\n","import React from 'react';\r\nimport { Grid, } from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\nimport Service from 'business/services/hbl.service';\r\nimport ServiceCusApi from 'business/services/customer/customer.hbl.service';\r\nimport columns from './Cols';\r\nimport Table from 'business/widgets/Table';\r\nimport {\r\n    LinearLoader, TableButton,\r\n} from 'business/widgets/Mini';\r\nimport { RemoveRedEye } from '@material-ui/icons';\r\nimport { trim } from 'business/utils/strings';\r\nimport moment from 'moment';\r\nimport { clientX } from 'portal/services/client.service';\r\nimport { types } from 'portal/helpers/constants';\r\nimport { map } from 'lodash';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        searchFields, setOverlayDetail, changedHbl\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    \r\n    const [loading, setLoading] = React.useState(false);\r\n    const [details, setDetails] = React.useState([]);\r\n\r\n    React.useEffect(() => {\r\n        setDetails([]);  \r\n        if (!searchFields.hbl) {\r\n            if (searchFields.like) {\r\n                setLoading(true);\r\n                Service.getAllHblLike(searchFields.like, searchFields.branch)\r\n                    .then(rows => {\r\n                        const date = moment().format('YYYY-MM-DD')\r\n                        const time = moment().format('HH')\r\n                        const newRows = map(rows, row => ({\r\n                            ...row,\r\n                            date: row.pickupDate + ' ' + row.pickupTime,\r\n                            name: trim(row.name, 15),\r\n                            address: trim(row.address, 20),\r\n                            slName: trim(row.slName, 15),\r\n                            slAddress: trim(row.slAddress, 20),\r\n                            now: (row.createdDate === date && row.createdTime.startsWith(time)),\r\n                        }))\r\n                        setDetails(newRows);  \r\n                    }).catch(e => {\r\n                        console.log(e)\r\n                        enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n                    }).finally(e => setLoading(false))    \r\n            }\r\n            return\r\n        }\r\n        setLoading(true);\r\n        const func = (types.pickup_customer === clientX().type) \r\n            ? searchFields.hbl.toLowerCase().startsWith('ref') ? ServiceCusApi.getCargo : ServiceCusApi.getCargoByHbl\r\n            : searchFields.hbl.toLowerCase().startsWith('ref') ? Service.getCargo : Service.getCargoByHbl\r\n        func(searchFields.hbl.toLowerCase().replace('ref', ''), searchFields.branch)\r\n            .then(row => {\r\n                if (row.cargo.branch !== clientX().branch && row.cargo.destination !== clientX().branch) return;\r\n                const date = moment().format('YYYY-MM-DD')\r\n                const time = moment().format('HH')\r\n                const newRows = {\r\n                    ...row.cargo,\r\n                    date: row.cargo.pickupDate + ' ' + row.cargo.pickupTime,\r\n                    name: trim(row.cargo.name, 15),\r\n                    address: trim(row.cargo.address, 20),\r\n                    slName: trim(row.cargo.slName, 15),\r\n                    slAddress: trim(row.cargo.slAddress, 20),\r\n                    now: (row.cargo.createdDate === date && row.cargo.createdTime.startsWith(time)),\r\n                }\r\n                setDetails([newRows]);  \r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n            // eslint-disable-next-line\r\n    }, [enqueueSnackbar, changedHbl]);\r\n\r\n    const columnsWithActions = [\r\n        ...columns,\r\n        {\r\n            name: 'actions', label: '  ',\r\n            options: {\r\n                empty: true, viewColumns: false, filter: false, sort: false,\r\n                customBodyRender: (value, table) => (<>\r\n                    <TableButton title=\"View\" icon={<RemoveRedEye />} \r\n                        onClick={() => { \r\n                            setOverlayDetail({id: table.rowData[0]})\r\n                        }}\r\n                    />                                   \r\n                </>)\r\n            }\r\n        },\r\n        {\r\n            name: 'branch', label: 'From',\r\n            options: {\r\n                viewColumns: true, filter: false, sort: false, display: types.delivery\r\n            }\r\n        }\r\n    ]\r\n\r\n    return (\r\n        <div>\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <LinearLoader loading={loading} />\r\n                    <Table data={details} columns={columnsWithActions} filter={false} noDownload={true} noSearch={true}/>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Card, CardHeader, CardContent, Grid,\r\n    Button,\r\n} from '@material-ui/core';\r\nimport List from './components/List';\r\nimport ViewHbl from '../ViewHbl';\r\nimport { Heading, Dialog, Text, Select } from 'business/widgets/Mini';\r\nimport Pageview from '@material-ui/icons/Pageview';\r\nimport { Search } from '@material-ui/icons';\r\nimport { clientY } from 'portal/services/auth.service';\r\nimport { clientX } from 'portal/services/client.service';\r\n\r\nconst UI = (props) => {\r\n    const [changed, setChanged] = React.useState(0);\r\n    const [changedHbl, setChangedHbl] = React.useState(0);\r\n    const [searchFields, setSearchFields] = React.useState({\r\n        hbl: '',\r\n        like: '',\r\n        branch: clientX().branch || '',\r\n    });\r\n    const [overlayDetail, setOverlayDetail] = React.useState(false);\r\n\r\n    const onChange = e => {\r\n        setSearchFields({ ...searchFields, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const onKeyDown = e => {\r\n        if(e.keyCode === 13) setChangedHbl(changedHbl + 1)\r\n    }\r\n\r\n    return (<>\r\n        <Card elevation={0}>\r\n            <CardHeader title={\r\n                <Grid container spacing={1} justify=\"space-between\" alignContent=\"space-between\" alignItems=\"space-between\">\r\n                    <Heading Icon={Search} size={4} title={'HBL Status'} subtitle={'Cargo/Job'} />\r\n                    <Grid container spacing={2} xs={8} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\" style={{paddingRight: 15, paddingTop: 10}}>\r\n                        {clientX().type === 'delivery' && <Select size={2} label=\"Branch\" name=\"branch\" values={clientY()} style={{alignSelf: 'flex-start'}}\r\n                            value={searchFields.branch} onChange={onChange}>\r\n                        </Select>}\r\n                        <Text size={3} label=\"Partial search\" name=\"like\" onKeyDown={onKeyDown} helperText=\"Shipper or consignee name | Last 3 months\"\r\n                            value={searchFields.like} onChange={onChange} autoFocus>\r\n                        </Text>\r\n                        <Text size={3} label=\"HBL/JOB\" name=\"hbl\" onKeyDown={onKeyDown} helperText=\"For HBL: 12345 | |  For JOB: REF12345\"\r\n                            value={searchFields.hbl} onChange={onChange} autoFocus>\r\n                        </Text>\r\n                        <Button endIcon={<Pageview />} color='primary' variant=\"outlined\" size=\"medium\" onClick={() => setChangedHbl(changedHbl + 1)} style={{marginTop: 16, alignSelf: 'baseline'}}>{searchFields.hbl.toLowerCase().startsWith('ref') ? 'JOB' : 'HBL'}</Button>\r\n                    </Grid>\r\n                </Grid>}\r\n            />\r\n            <CardContent>\r\n                <Card>\r\n                    <List changed={changed} setChanged={setChanged} changedHbl={changedHbl}\r\n                        searchFields={searchFields} setOverlayDetail={setOverlayDetail}\r\n                    />\r\n                </Card>\r\n            </CardContent>\r\n        </Card>\r\n        <Dialog open={overlayDetail} width=\"lg\" content={overlayDetail.id \r\n            ? <ViewHbl overlayDetail={overlayDetail} setOverlayDetail={setOverlayDetail} />\r\n            : <></>\r\n        }/>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport { Chip } from '@material-ui/core';\r\nimport palette from 'portal/theme/palette';\r\nimport { Badge } from '@material-ui/core';\r\n\r\nexport default [\r\n    {\r\n        name: 'id', options: { viewColumns: false, filter: false, sort: false, display: false },\r\n    },\r\n    {\r\n        name: 'now', options: { viewColumns: false, filter: false, sort: false, display: false },\r\n    },\r\n    {\r\n        label: 'Reference', name: '_id',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: true,\r\n            customBodyRender: function(value, meta) {\r\n                if (meta.rowData[2]) { \r\n                    return <Badge color=\"secondary\" variant=\"dot\">\r\n                        <b>{value}</b> \r\n                    </Badge>\r\n                }\r\n                return <b>{value}</b>\r\n            }    \r\n        },\r\n    },\r\n    {\r\n        label: 'Name', name: 'name',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: true,\r\n            customBodyRender: function(value, meta) {\r\n                if (meta.rowData[12])\r\n                    return <Chip label={value} style={{color: 'white', backgroundColor: palette.shades.green}} />\r\n                return <Chip label={value} />\r\n            }\r\n        },\r\n    },\r\n    {\r\n        label: 'Zone', name: 'pickupArea',\r\n        options: {\r\n            viewColumns: true, display: false, filter: true, sort: true,\r\n            customBodyRender: function(value, meta) {\r\n                if (value) return <Chip label={value} />\r\n            }\r\n        },\r\n    },\r\n    {\r\n        name: 'address', label: 'Address',\r\n        options: {\r\n            viewColumns: true, filter: false, sort: true\r\n        }\r\n    },\r\n    {\r\n        name: 'contact', label: 'Contact',\r\n        options: {\r\n            viewColumns: true, filter: false, sort: true\r\n        }\r\n    },\r\n    {\r\n        name: 'createdDate', label: 'Created Date',\r\n        options: {\r\n            viewColumns: true, display: false, filter: false, sort: true\r\n        }\r\n    },\r\n    {\r\n        name: 'date', label: 'Pickup Date',\r\n        options: {\r\n            viewColumns: true, filter: false, sort: true\r\n        }\r\n    },\r\n    {\r\n        name: 'note', label: 'Note',\r\n        options: {\r\n            viewColumns: true, display: true, filter: false, sort: false\r\n        }\r\n    },\r\n    {\r\n        name: 'cargoMode', label: 'Cargo Mode',\r\n        options: {\r\n            viewColumns: true, filter: true, sort: false, display: true\r\n        }\r\n    },\r\n    {\r\n        name: 'driverName', label: 'Driver',\r\n        options: {\r\n            viewColumns: true, filter: false, sort: true,\r\n            customBodyRender: function(value, meta) {\r\n                if (value)\r\n                    return <Chip label={value} style={{color: 'white', backgroundColor: palette.shades.green}} />\r\n                return ''\r\n            }\r\n        }\r\n    },\r\n    {\r\n        name: 'auth', label: 'Auth',\r\n        options: {\r\n            viewColumns: true, display: false, filter: true, sort: true\r\n        }\r\n    },\r\n];\r\n\r\n","import React from 'react';\r\nimport { Grid, Button, Checkbox } from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\nimport Service from 'business/services/hbl.service';\r\nimport ServiceCusApi from 'business/services/customer/customer.hbl.service';\r\nimport ServiceDriver from 'business/services/driver.service';\r\nimport columns from './Cols';\r\nimport Table from 'business/widgets/Table';\r\nimport {\r\n    LinearLoader, TableButton, ConfirmationFragment,\r\n    useDialogSelect, useDialogInput, LabelChip, SelectGridless\r\n} from 'business/widgets/Mini';\r\nimport { Motorcycle, RemoveRedEye, DeleteForever, FileCopy, Edit } from '@material-ui/icons';\r\nimport { useDialog } from 'muibox';\r\nimport size from 'lodash/size';\r\nimport map from 'lodash/map';\r\nimport get from 'lodash/get';\r\nimport palette from 'portal/theme/palette';\r\nimport { PERMS, hasAccess, NoAccessStr, ROLES } from 'business/utils/permissions';\r\nimport moment from 'moment';\r\nimport { trim } from 'business/utils/strings';\r\nimport { filter } from 'lodash';\r\nimport { types } from 'portal/helpers/constants';\r\nimport { clientX } from 'portal/services/client.service';\r\nimport { filterByKey, onlyUnique } from 'business/utils/array';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        changed, searchFields, setOverlayDetail, setChanged, setOverlayType\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const dialog = useDialog();\r\n    const dialogSelect = useDialogSelect();\r\n    const dialogInput = useDialogInput();\r\n    \r\n    const [loading, setLoading] = React.useState(false);\r\n    const [details, setDetails] = React.useState([]);\r\n    const [checked, setChecked] = React.useState([]);\r\n    const [assigneeList, setAssigneeList] = React.useState([]);\r\n    const [filters, setFilters] = React.useState({});\r\n    const [filteredRows, setFilteredRows] = React.useState([]);\r\n\r\n    React.useEffect(() => {\r\n        if (searchFields.startDate > searchFields.endDate) {\r\n            enqueueSnackbar('Start-Date should not be after From-Date', { variant: 'warning' });\r\n            return\r\n        }\r\n        setChecked([])\r\n        setLoading(true);\r\n        (clientX().type === types.domestic ? Service.getPendingDomestic : clientX().type === types.pickup_customer\r\n            ? ServiceCusApi.getPendingPickups\r\n            : Service.getPendingPickups)(searchFields)\r\n            .then(rows => {\r\n                const date = moment().format('YYYY-MM-DD')\r\n                const time = moment().format('HH')\r\n                const newRows = rows.map(row => ({\r\n                    ...row,\r\n                    _id: 'REF' + row.id,\r\n                    date: get(row, 'pickupDate') + ' ' + get(row, 'pickupTime'),\r\n                    createdDate: get(row, 'createdDate') + ' ' + get(row, 'createdTime'),\r\n                    note: trim(row.note, 25),\r\n                    now: (row.createdDate === date && row.createdTime.startsWith(time)),\r\n                }))\r\n                setDetails(newRows);\r\n                onFilterChange(null, newRows);\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))   \r\n            // eslint-disable-next-line\r\n    }, [enqueueSnackbar, changed, searchFields]);\r\n\r\n    React.useEffect(() => {\r\n        if (clientX().type === types.pickup_customer) return;\r\n        ServiceDriver.getByBranch()\r\n            .then(rows => {\r\n                setAssigneeList(map(filter(rows, k => !k.deleted), i => ({value: i.id, label: i.username})));\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            })\r\n    }, [enqueueSnackbar]);\r\n\r\n    const onDelete = () => {\r\n        if (!hasAccess(ROLES.ONLY_ADMIN)) { \r\n            enqueueSnackbar(NoAccessStr, { variant: 'warning' }); return;\r\n        }\r\n\r\n        dialog.confirm(ConfirmationFragment('Delete ' + checked.length + ' items', 'DELETE')).then(() => {\r\n            setLoading(true);\r\n            const CopyCheckedForRenderIssue = [ ...checked ]\r\n            setDetails([]);\r\n            setChecked([]);\r\n            (clientX().type === types.pickup_customer ? ServiceCusApi.deleteCargo : Service.deleteCargo)(CopyCheckedForRenderIssue)\r\n                .then(rows => {\r\n                    enqueueSnackbar('Deleted', { variant: 'success' });\r\n                    setChanged(changed + 1)\r\n                }).catch(e => {\r\n                    enqueueSnackbar('Could not Delete', { variant: 'error' });\r\n                }).finally(e => setLoading(false))\r\n        })\r\n    }\r\n\r\n    const onAssign = () => {\r\n        if (!hasAccess(PERMS.PENDING_PICKUP_OPERATIONS)) { \r\n            enqueueSnackbar(NoAccessStr, { variant: 'warning' }); return;\r\n        }\r\n\r\n        dialogSelect.confirm({\r\n            title: 'Select driver to assign',\r\n            assigneeList,\r\n            callback: assigned => {\r\n                setLoading(true);\r\n                const CopyCheckedForRenderIssue = [ ...checked ]\r\n                setChecked([])\r\n                setDetails([]);\r\n                Service.assignCargo(CopyCheckedForRenderIssue, assigned)\r\n                    .then(rows => {\r\n                        enqueueSnackbar('Assigned', { variant: 'success' });\r\n                    }).catch(e => {\r\n                        enqueueSnackbar('Could not Assign', { variant: 'error' });\r\n                    }).finally(e => {\r\n                        setLoading(false)\r\n                        setChanged(changed + 1)\r\n                    })\r\n            }\r\n        })\r\n    }\r\n\r\n    const onClone = () => {\r\n        if (!hasAccess(PERMS.PENDING_PICKUP_OPERATIONS)) { \r\n            enqueueSnackbar(NoAccessStr, { variant: 'warning' }); return;\r\n        }\r\n\r\n        dialogInput.confirm({\r\n            title: 'Copy JOB - How many duplicates?',\r\n            assigneeList,\r\n            callback: assigned => {\r\n                setLoading(true);\r\n                Service.getCargo(checked[0])\r\n                    .then(rows => {\r\n                        const item = { ...rows.cargo }\r\n                        const packages = [ ...rows.packages ]\r\n                        setChecked([])\r\n                        setDetails([]);\r\n                        enqueueSnackbar('Copying in Progress! Thank you for waiting. This will take around 20 seconds', { variant: 'warning' });\r\n                        let counter = 0;\r\n                        const x = setInterval(() => {\r\n                            const thisCounter = counter + 1 \r\n                            if (counter === +assigned) {\r\n                                setLoading(false)\r\n                                clearInterval(x)\r\n                            } else {\r\n                                Service.addDomesticJob({\r\n                                    fetched: -1,\r\n                                    isDomestic: true,\r\n                                    cargoMode: \"B2B\",\r\n                                    warehouseLocation: \"B2B\",\r\n                                    deliveryType: \"B2B\",\r\n                                    currency: \"CAD\",\r\n                                    uuid:  Math.random().toString(16).slice(2, 10) + '-' + Math.random().toString(16).slice(2, 10),\r\n                                    slLocation: false,\r\n                                    name: item.name,\r\n                                    address: item.address,\r\n                                    contact: item.contact,\r\n                                    slContact: item.slContact,\r\n                                    slAddress: item.slAddress,\r\n                                    slName: item.slName,\r\n                                    slPpNo: item.slPpNo,\r\n                                    ppNo: item.ppNo,\r\n                                    note: item.note,\r\n                                    amount: 0,\r\n                                    paid: 0,\r\n                                    amountSpec: \"{}\",\r\n                                    amountSystem: \"{}\",\r\n                                    pickupDate: item.pickupDate,\r\n                                    pickupTime: item.pickupTime,\r\n                                    createdDate: item.createdDate,\r\n                                    createdTime: item.createdTime,\r\n                                    auth: \"Base_user\",\r\n                                    branch: item.branch\r\n                                }, packages)\r\n                                    .then(rows => {\r\n                                        enqueueSnackbar('Cloned ' + thisCounter + ' of ' + assigned + '. Please refresh in 10 seconds.', { variant: 'success' });\r\n                                        if (thisCounter === +assigned) {\r\n                                            setLoading(false)\r\n                                            setChanged(changed + 1)\r\n                                            clearInterval(x)\r\n                                        }\r\n                                    }).catch(e => {\r\n                                        enqueueSnackbar('Could not Clone', { variant: 'error' });\r\n                                    })\r\n                                counter++;\r\n                            }\r\n                            console.log(counter)\r\n                        }, 600)\r\n                    }).catch(e => {\r\n                        enqueueSnackbar('Could not fetch JOB', { variant: 'error' });\r\n                        setLoading(false)\r\n                        return;\r\n                    })\r\n            }\r\n        })\r\n    }\r\n\r\n    const title = <>\r\n        {clientX().type === types.pickup && <Button variant=\"contained\" color=\"primary\" size=\"small\" endIcon={<Motorcycle />} style={{marginLeft: 5}}\r\n            disabled={checked.length === 0} onClick={onAssign}>Assign Driver [ {checked.length} ]\r\n        </Button>}\r\n        <Button variant=\"contained\" color=\"primary\" size=\"small\" style={{marginLeft: 5}}\r\n            disabled={checked.length === 0} onClick={onDelete} startIcon={<DeleteForever />}>[ {checked.length} ]\r\n        </Button>\r\n        <Button variant=\"contained\" color=\"primary\" size=\"small\" style={{marginLeft: 5}}\r\n            disabled={checked.length !== 1} onClick={onClone} startIcon={<FileCopy />}>[ {checked.length} ] \r\n        </Button>\r\n    </>\r\n\r\n    const onFilterChange = (e, detailsCallbackIssue) => {\r\n        setChecked([])\r\n        const newFilters = e ? { ...filters, [e.target.name]: e.target.value } : filters\r\n        const newRows1 = filterByKey(e ? details : detailsCallbackIssue, newFilters, 'driverName')\r\n        // const newRows2 = filterByKey(newRows1, newFilters, 'cargoMode')\r\n        setFilters(newFilters);\r\n        setFilteredRows(newRows1);\r\n    }\r\n\r\n    const customToolbar = () => {\r\n        return (<>\r\n            <span style={{paddingRight: 30, marginLeft: -10, color: palette.shades.main }}>Filters</span>\r\n            <LabelChip label={'Total'} value={size(details)} />\r\n            <SelectGridless name=\"driverName\" label={'Driver'} valueObjects={[{value: '', label: 'All'}]} values={onlyUnique(details.map(i => i.driverName))}\r\n                value={filters.driverName} onChange={onFilterChange} style={{marginLeft: 5, width: 120, minWidth: '120px !important'}} />\r\n\r\n        </>)\r\n    }\r\n\r\n    const columnsWithActions = [\r\n        {\r\n            name: 'check', label: '  ',\r\n            options: {\r\n                viewColumns: false, filter: false, sort: false,\r\n                setCellProps: () => ({style: {width:10}}),\r\n                customBodyRender: (value, table) => (<>\r\n                    {!loading && <Checkbox style={{padding: 0, margin: 0}} onClick={e => {\r\n                            if (e.target.checked)\r\n                                setChecked([...checked, table.rowData[1]])\r\n                            else\r\n                                setChecked([...checked.filter(i => i !== table.rowData[1])])\r\n                        }}\r\n                    />}                                \r\n                </>)\r\n            }\r\n        },\r\n        ...columns,\r\n        {\r\n            name: 'actions', label: '  ',\r\n            options: {\r\n                empty: true, viewColumns: false, filter: false, sort: false,\r\n                customBodyRender: (value, table) => (<>\r\n                    <TableButton style={{paddingRight: 0, marginRight: 0}} title=\"View\" icon={<RemoveRedEye />} \r\n                        onClick={() => { \r\n                            setOverlayDetail({id: table.rowData[1]})\r\n                            setOverlayType('VIEW')\r\n                        }}\r\n                    />                                \r\n                    <TableButton style={{paddingRight: 0, marginRight: 0}} title=\"Edit\" icon={<Edit />} \r\n                        onClick={() => { \r\n                            setOverlayDetail({id: table.rowData[1]})\r\n                            setOverlayType('EDIT')\r\n                        }}\r\n                    />                                \r\n                </>)\r\n            }\r\n        },\r\n    ]\r\n\r\n    return (\r\n        <div>\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <LinearLoader loading={loading} />\r\n                    <Table data={filteredRows} columns={columnsWithActions} viewColumns title={title}\r\n                        sort={true} customToolbar={customToolbar} filter={true} />\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default React.memo(UI);\r\n","import React from 'react';\r\nimport {\r\n    Grid, ExpansionPanel, ExpansionPanelDetails\r\n} from '@material-ui/core';\r\nimport {\r\n    LinearLoader, HeadingExpansion, HeadingOverlay, DateTime, Select\r\n} from 'business/widgets/Mini';\r\nimport { Create } from '@material-ui/icons';\r\nimport { Button } from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\nimport Service from 'business/services/hbl.service';\r\nimport ServiceZone from 'business/services/zone.service';\r\nimport { filter, map } from 'lodash';\r\nimport moment from 'moment';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        setOverlayDetail, setChanged, changed, overlayDetail\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const [details, setDetails] = React.useState({\r\n    });\r\n    const [loading, setLoading] = React.useState(false);\r\n    const [assigneeList, setAssigneeList] = React.useState([]);\r\n\r\n    React.useEffect(() => {\r\n        if (overlayDetail.id === undefined) return;\r\n        setLoading(true);\r\n        Service.getCargo(overlayDetail.id)\r\n            .then(rows => {\r\n                const cargo = rows.cargo || {};\r\n                setDetails({\r\n                    ...cargo,\r\n                    pickupDateTime: cargo.pickupDate && moment(cargo.pickupDate + ' ' + cargo.pickupTime)\r\n                });\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    }, [enqueueSnackbar, overlayDetail.id]);\r\n\r\n    React.useEffect(() => {\r\n        ServiceZone.get()\r\n            .then(rows => {\r\n                setAssigneeList(map(filter(rows, k => !k.deleted), i => i.name));\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            })\r\n    }, [enqueueSnackbar]);\r\n\r\n    const onAction = () => {\r\n        setLoading(true)\r\n        Service.editJob(overlayDetail.id, details)\r\n            .then(rows => {\r\n                enqueueSnackbar('Updated', { variant: 'success' });\r\n                setChanged(changed + 1) \r\n                setOverlayDetail(false)\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not Update', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    };\r\n\r\n    const onChange = e => {\r\n        setDetails({ ...details, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    return (<>\r\n        <div >\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <HeadingOverlay title={'EDIT JOB'} onClose={() => setOverlayDetail(false)} />\r\n                    <LinearLoader loading={loading} />\r\n                    <Grid container spacing={0} style={{paddingTop: 20}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'JOB BASIC DETAILS'} />\r\n                                <ExpansionPanelDetails>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <Select size={6} label=\"Zone\" name=\"pickupArea\" values={assigneeList}\r\n                                            value={details.pickupArea} onChange={onChange} />\r\n                                        {details.pickupDateTime && <DateTime size={6} label={'Pickup Date Time'} name=\"pickupDateTime\"\r\n                                            value={details.pickupDateTime} onChange={onChange}\r\n                                        />}\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={0} style={{paddingTop: 20, paddingBottom: 20}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <Grid container spacing={1} alignContent=\"flex-end\" alignItems=\"flex-end\" justify=\"flex-end\">\r\n                                <Button variant=\"contained\" color=\"primary\" endIcon={<Create />}\r\n                                    disabled={loading} onClick={() => onAction()}>Edit Job\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <LinearLoader loading={loading} />\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport ViewTab from './components/Edit';\r\n\r\nconst UI = ({ overlayDetail, setOverlayDetail, setChanged, changed }) => {\r\n\r\n    return (<>\r\n        <ViewTab\r\n            setChanged={setChanged} changed={changed}\r\n            overlayDetail={overlayDetail} setOverlayDetail={setOverlayDetail} \r\n        />\r\n        <div style={{padding: 20}}></div>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Card, CardHeader, CardContent, Grid,\r\n    Button,\r\n} from '@material-ui/core';\r\nimport List from './components/List';\r\nimport ViewHbl from '../ViewHbl';\r\nimport { DateOnly, Heading, Dialog, ButtonGroup } from 'business/widgets/Mini';\r\nimport moment from 'moment';\r\nimport Motorcycle from '@material-ui/icons/Motorcycle';\r\nimport EditJob from '../EditJob';\r\n\r\nconst UI = (props) => {\r\n    const [changed, setChanged] = React.useState(0);\r\n    const [searchFields, setSearchFields] = React.useState({\r\n        startDate: moment().subtract(5, 'd').format('YYYY-MM-DD'),\r\n        endDate: moment().format('YYYY-MM-DD'),\r\n    });\r\n    const [overlayDetail, setOverlayDetail] = React.useState(false);\r\n    const [overlayType, setOverlayType] = React.useState(false);\r\n\r\n    const onChange = e => {\r\n        setSearchFields({ ...searchFields, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const days7 = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().subtract(7, 'd').format('YYYY-MM-DD'),\r\n            endDate: moment().format('YYYY-MM-DD'),\r\n        });\r\n    };\r\n    \r\n    const today = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().format('YYYY-MM-DD'),\r\n            endDate: moment().format('YYYY-MM-DD'),\r\n        });\r\n    };\r\n\r\n    const tmrw = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().add(1, 'd').format('YYYY-MM-DD'),\r\n            endDate: moment().add(1, 'd').format('YYYY-MM-DD'),\r\n        });\r\n    };\r\n\r\n    return (<>\r\n        <Card elevation={0}>\r\n            <CardHeader title={\r\n                <Grid container spacing={1} justify=\"space-between\" alignContent=\"space-between\" alignItems=\"space-between\">\r\n                    <Heading Icon={Motorcycle} size={4} title={'Pending Pickups'} subtitle={'Inquiry'} />\r\n                    <Grid container spacing={2} xs={8} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\" style={{paddingRight: 10, paddingTop: 10}}>\r\n                        <DateOnly label=\"From Date\" name=\"startDate\"\r\n                            value={searchFields.startDate} onChange={onChange}\r\n                        />\r\n                        <DateOnly label=\"To Date\" name=\"endDate\"\r\n                            value={searchFields.endDate} onChange={onChange}\r\n                        />\r\n                        <Button color='primary' variant=\"outlined\" size=\"medium\" onClick={() => setChanged(changed + 1)} style={{marginTop: 2}}>Search</Button>\r\n                        <ButtonGroup size={3} onClicks={[days7, today, tmrw]} options={['One Week', 'Today', 'Tommorow']} />\r\n                    </Grid>\r\n                </Grid>}\r\n            />\r\n            <CardContent>\r\n                <Card>\r\n                    <List changed={changed} setChanged={setChanged}\r\n                        searchFields={searchFields} setOverlayDetail={setOverlayDetail}\r\n                        setOverlayType={setOverlayType}\r\n                    />\r\n                </Card>\r\n            </CardContent>\r\n        </Card>\r\n        <Dialog open={overlayDetail} width={overlayType === 'VIEW' ? \"lg\" : 'sm'} content={overlayType === 'VIEW' \r\n            ? <ViewHbl overlayDetail={overlayDetail} setOverlayDetail={setOverlayDetail} />\r\n            : <EditJob\r\n                changed={changed} setChanged={setChanged}\r\n                overlayDetail={overlayDetail} setOverlayDetail={setOverlayDetail} />\r\n        }/>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport { Chip } from '@material-ui/core';\r\nimport palette from 'portal/theme/palette';\r\n\r\nexport default [\r\n    {\r\n        label: '', name: 'id',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false, display: false\r\n        },\r\n    },\r\n    {\r\n        label: 'HBL', name: 'hbl',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: true,\r\n            customBodyRender: function(value, meta) {\r\n                return <b>{value}</b> \r\n            }    \r\n        },\r\n    },\r\n    {\r\n        label: 'Name', name: 'name',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: true,\r\n            customBodyRender: function(value, meta) {\r\n                return <Chip label={value} />\r\n            }\r\n        },\r\n    },\r\n    {\r\n        name: 'address', label: 'Address',\r\n        options: {\r\n            viewColumns: true, display: false, filter: false, sort: true\r\n        }\r\n    },\r\n    {\r\n        name: 'date', label: 'Picked Date',\r\n        options: {\r\n            viewColumns: true, filter: false, sort: true\r\n        }\r\n    },\r\n    {\r\n        name: 'totalWeight', label: 'Weight',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: true,\r\n            setCellProps: () => ({ align: \"right\" }),\r\n        }\r\n    },\r\n    {\r\n        name: 'totalVolume', label: 'Volume',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: true,\r\n            setCellProps: () => ({ align: \"right\" }),\r\n        }\r\n    },\r\n    {\r\n        name: 'amount', label: 'Amount',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: true,\r\n            setCellProps: () => ({ align: \"right\" }),\r\n            customBodyRender: function(value, meta) {\r\n                return <Chip label={value} style={{color: 'white', backgroundColor: palette.shades.green}} />\r\n            }\r\n        }\r\n    },\r\n    {\r\n        name: 'paid', label: 'Paid',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: true,\r\n            setCellProps: () => ({ align: \"right\" }),\r\n            customBodyRender: function(value, meta) {\r\n                return <Chip label={value} style={{color: 'white', backgroundColor: palette.shades.green}} />\r\n            }\r\n        }\r\n    },\r\n    {\r\n        name: 'cargoMode', label: 'Cargo Mode',\r\n        options: {\r\n            viewColumns: true, filter: true, sort: true,\r\n            setCellProps: () => ({ align: \"center\" }),\r\n        }\r\n    },\r\n    {\r\n        name: 'driverName', label: 'Driver',\r\n        options: {\r\n            viewColumns: true, filter: false, sort: true\r\n        }\r\n    },\r\n    {\r\n        name: 'auth', label: 'Source',\r\n        options: {\r\n            viewColumns: true, filter: false, sort: false\r\n        }\r\n    },\r\n];\r\n\r\n","import React from 'react';\r\nimport { Grid, Button, Checkbox } from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\nimport Service from 'business/services/hbl.service';\r\nimport columns from './Cols';\r\nimport Table from 'business/widgets/Table';\r\nimport {\r\n    LinearLoader, TableButton, ConfirmationFragment,\r\n    LabelChip, SelectGridless\r\n} from 'business/widgets/Mini';\r\nimport { AttachMoney, LocalAtm, RemoveRedEye } from '@material-ui/icons';\r\nimport { useDialog } from 'muibox';\r\nimport get from 'lodash/get';\r\nimport { totalOfColumn, filterByKey, onlyUnique } from 'business/utils/array';\r\nimport { volumeInMeterCube, oneDecimal } from 'business/utils/number';\r\nimport { orderBy, reduce } from 'lodash';\r\nimport { PERMS, hasAccess, NoAccessStr } from 'business/utils/permissions';\r\nimport { trim } from 'business/utils/strings';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        changed, searchFields, setOverlayDetail, setChanged, setOverlayType\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const dialog = useDialog();\r\n    \r\n    const [loading, setLoading] = React.useState(false);\r\n    const [details, setDetails] = React.useState([]);\r\n    const [checked, setChecked] = React.useState([]);\r\n    const [totals, setTotals] = React.useState({});\r\n    const [filters, setFilters] = React.useState({});\r\n    const [filteredRows, setFilteredRows] = React.useState([]);\r\n\r\n    React.useEffect(() => {\r\n        if (searchFields.startDate > searchFields.endDate) {\r\n            enqueueSnackbar('Start-Date should not be after From-Date', { variant: 'warning' });\r\n            return\r\n        }\r\n        setChecked([])\r\n        setLoading(true);\r\n        Service.getCashSettlements(searchFields)\r\n            .then(rows => {\r\n                const adjustedRows = orderBy(rows, 'driverName').map(item => {\r\n                    return {\r\n                        ...item,\r\n                        totalVolume: volumeInMeterCube({volume: item.totalVolume}),\r\n                        totalWeight: oneDecimal(item.totalWeight),\r\n                        name: trim(item.name, 15),\r\n                        address: trim(item.address, 30),\r\n                        date: get(item, 'pickedUpDate') + ' ' + get(item, 'pickedUpTime'),\r\n                        issue: get(item, 'amountSpec', 0) === get(item, 'amountSpecDummy', 1) ? \"\" : \"Yes\"\r\n                    }\r\n                })\r\n                setDetails(adjustedRows);  \r\n                onFilterChange(null, adjustedRows)\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n            // eslint-disable-next-line\r\n    }, [enqueueSnackbar, changed, searchFields]);\r\n\r\n    const onCashReceived = () => {\r\n        if (!hasAccess(PERMS.CASH_SETTLEMENT_OPERATIONS)) { \r\n            enqueueSnackbar(NoAccessStr, { variant: 'warning' }); return;\r\n        }\r\n        const allDrivers = reduce(checked, (t, thisId) => {\r\n            const r = filteredRows.find(i => i.id === thisId)\r\n            return [ ...t, r.driverName]\r\n        }, [])\r\n        if ((new Set(allDrivers)).size !== 1) { \r\n            enqueueSnackbar(\"All selected should be same driver\", { variant: 'warning' }); return;\r\n        }\r\n\r\n        dialog.confirm(ConfirmationFragment('Cash Receive ' + checked.length + ' item(s)', 'RECEIVE')).then(() => {\r\n            setLoading(true);\r\n            const CopyCheckedForRenderIssue = [ ...checked ]\r\n            setFilteredRows([]);\r\n            setChecked([])\r\n            Service.receiveCashCargo(CopyCheckedForRenderIssue, allDrivers[0])\r\n                .then(rows => {\r\n                    enqueueSnackbar('Cash Received', { variant: 'success' });\r\n                    setChecked([])\r\n                    setChanged(changed + 1)\r\n                }).catch(e => {\r\n                    enqueueSnackbar('Could not Cash Receive', { variant: 'error' });\r\n                }).finally(e => setLoading(false))\r\n        })\r\n    }\r\n    \r\n    const onFilterChange = (e, detailsCallbackIssue) => {\r\n        setChecked([])\r\n        const newFilters = e ? { ...filters, [e.target.name]: e.target.value } : filters\r\n        const newRows1 = filterByKey(e ? details : detailsCallbackIssue, newFilters, 'driverName')\r\n        const newRows2 = filterByKey(newRows1, newFilters, 'cargoMode')\r\n        const newRows3 = filterByKey(newRows2, newFilters, 'deliveryType')\r\n        const newRows4 = filterByKey(newRows3, newFilters, 'auth')\r\n        setFilters(newFilters);\r\n        setFilteredRows(newRows4);\r\n        generateTotals(newRows4)\r\n    }\r\n   \r\n    const generateTotals = rows => {\r\n        const paid = Math.round(totalOfColumn(rows, 'paid') * 10) / 10\r\n        const cash = Math.round(totalOfColumn(rows, 'cash') * 10) / 10\r\n        setTotals({paid, cash})\r\n    }\r\n\r\n    const customToolbar = () => {\r\n        return (<>\r\n            <SelectGridless name=\"driverName\" label={'Driver'} valueObjects={[{value: '', label: 'All'}]} values={onlyUnique(details.map(i => i.driverName))}\r\n                value={filters.driverName} onChange={onFilterChange} style={{width: 110, minWidth: '110px !important'}} />\r\n            <SelectGridless name=\"auth\" label={'Officer'} valueObjects={[{value: '', label: 'All'}]} values={onlyUnique(details.map(i => i.auth))}\r\n                value={filters.auth} onChange={onFilterChange} style={{marginLeft: 5, width: 110, minWidth: '110px !important'}} />\r\n            <SelectGridless name=\"cargoMode\" label={'Cargo Mode'} valueObjects={[{value: '', label: 'All'}]} values={onlyUnique(details.map(i => i.cargoMode))}\r\n                value={filters.cargoMode} onChange={onFilterChange} style={{marginLeft: 5, width: 120, minWidth: '120px !important'}} />\r\n            <SelectGridless name=\"deliveryType\" label={'Delivery Type'} valueObjects={[{value: '', label: 'All'}]} values={onlyUnique(details.map(i => i.deliveryType))}\r\n                value={filters.deliveryType} onChange={onFilterChange} style={{marginLeft: 5, width: 120, minWidth: '120px !important'}} />\r\n        </>)\r\n    }\r\n\r\n    const title =\r\n        (<>\r\n            <Button variant=\"contained\" color=\"primary\" size=\"small\" endIcon={<AttachMoney />} style={{marginLeft: 5}}\r\n                disabled={checked.length === 0} onClick={onCashReceived}>Cash Received [ {checked.length} ]\r\n            </Button>\r\n            <LabelChip label={'Total Paid'} value={get(totals, 'paid')} />\r\n        </>)\r\n\r\n    const columnsWithActions = [\r\n        {\r\n            name: 'check', label: '  ', empty: true,\r\n            options: {\r\n                empty: true, viewColumns: false, filter: false, sort: false,\r\n                setCellProps: () => ({style: {width:10}}),\r\n                customBodyRender: (value, table) => (<>\r\n                    {!loading && <Checkbox style={{padding: 0, margin: 0}} onClick={e => {\r\n                            if (e.target.checked)\r\n                                setChecked([...checked, table.rowData[1]])\r\n                            else\r\n                                setChecked([...checked.filter(i => i !== table.rowData[1])])\r\n                        }}\r\n                    />}                     \r\n                </>)\r\n            }\r\n        },\r\n        ...columns,\r\n        {\r\n            name: 'actions', label: '  ',\r\n            options: {\r\n                empty: true, viewColumns: false, filter: false, sort: false,\r\n                customBodyRender: (value, table) => (<>\r\n                    <TableButton style={{padding: 0, margin: 0}} title=\"View\" icon={<RemoveRedEye />} \r\n                        onClick={() => { \r\n                            setOverlayDetail({id: table.rowData[1]})\r\n                            setOverlayType('VIEW')\r\n                        }}\r\n                    />                                \r\n                    <TableButton style={{padding: 5, margin: 0}} title=\"Edit Payment\" icon={<LocalAtm />} \r\n                        onClick={() => { \r\n                            setOverlayDetail({id: table.rowData[1]})\r\n                            setOverlayType('EDIT_PAYMENT')\r\n                        }}\r\n                    />                                \r\n                </>)\r\n            }\r\n        },\r\n    ]\r\n\r\n    return (\r\n        <div>\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <LinearLoader loading={loading} />\r\n                    <Table data={filteredRows} columns={columnsWithActions} filter={false}\r\n                        sort={true} customToolbar={customToolbar} title={title} viewColumns />\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","\r\nexport default [\r\n    {\r\n        label: 'ID', name: 'id', options: { display: false },\r\n    },\r\n    {\r\n        label: 'quantity', name: 'quantity', options: { display: false },\r\n    },\r\n    {\r\n        label: 'Weight', name: 'weight', options: { display: false },\r\n    },\r\n    {\r\n        label: 'Height', name: 'height', options: { display: false },\r\n    },\r\n    {\r\n        label: 'Width', name: 'breadth', options: { display: false },\r\n    },\r\n    {\r\n        label: 'Length', name: 'length', options: { display: false },\r\n    },\r\n];\r\n\r\n","import React from 'react';\r\nimport {\r\n    Grid, IconButton\r\n} from '@material-ui/core';\r\nimport columns from './ColsPackage';\r\nimport Table from 'business/widgets/Table';\r\nimport { Edit, DeleteForever } from '@material-ui/icons';\r\nimport { useDialog } from 'muibox';\r\nimport { LinearLoader, ConfirmationFragment } from 'business/widgets/Mini';\r\nimport { useSnackbar } from 'notistack';\r\nimport Service from 'business/services/package.service';\r\nimport { Chip } from '@material-ui/core';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        setOverlayDetail, packages, setChanged, changed, showActions\r\n    } = props;\r\n    const dialog = useDialog();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const [loading, setLoading] = React.useState(false);\r\n    \r\n    const remove = (id, name) => {\r\n        dialog.confirm(ConfirmationFragment('Delete ' + name, 'DELETE')).then(() => {\r\n            setLoading(true);\r\n            Service.remove(id)\r\n                .then(rows => {\r\n                    setChanged(changed + 1)\r\n                }).catch(e => {\r\n                    enqueueSnackbar('Could not Delete', { variant: 'error' });\r\n                }).finally(e => setLoading(false))\r\n        })\r\n    }\r\n\r\n    const columnsWithActions = [ ...columns,\r\n        {\r\n            name: 'type', label: '',\r\n            options: {\r\n                empty: true, viewColumns: false, filter: false, sort: false,\r\n                setCellProps: () => ({style: {width:10}}),\r\n                customBodyRender: (value, table) => (<React.Fragment>\r\n                    <Chip label={value} /><br/>\r\n                    {showActions && <>\r\n                        <IconButton style={{padding: 0, margin: 0}} onClick={() => remove(table.rowData[0], table.rowData[1])}>\r\n                            <DeleteForever />\r\n                        </IconButton>\r\n                        <IconButton onClick={() => setOverlayDetail({ id: table.rowData[0] }) }>\r\n                            <Edit />\r\n                        </IconButton>\r\n                    </>}\r\n                </React.Fragment>)\r\n            }\r\n        },\r\n        {\r\n            label: 'Details', name: 'field', options: {\r\n                setCellProps: () => ({style: {width:10}}),\r\n                customBodyRender: (value, table) => (<React.Fragment>\r\n                    {'Q:' + table.rowData[1] + ' W:' + table.rowData[2]}<br />\r\n                    {'H' + table.rowData[3] + ' B' + table.rowData[4] + ' L' + table.rowData[5]}<br />\r\n                </React.Fragment>)\r\n            }\r\n        },\r\n    ]\r\n\r\n    return (\r\n        <div>\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <LinearLoader loading={loading} />\r\n                    {packages.length > 0 && <Table data={packages} columns={columnsWithActions} minified={true} />}\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Grid, Button, Typography\r\n} from '@material-ui/core';\r\nimport { Text, Label } from 'business/widgets/Mini';\r\nimport { calculatePrice } from '../../../../utils/PriceLogic';\r\nimport { AttachMoney } from '@material-ui/icons';\r\nimport map from 'lodash/map';\r\nimport { clientX, clientF } from 'portal/services/client.service';\r\nimport { grandTotal, oneDecimal, twoDecimal } from 'business/utils/number';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        packages, cargo, weight, volume, paid, setPaid, amount, setAmount, setAmountSystem\r\n    } = props;\r\n\r\n    const onChangeFloat = e => {\r\n        const str = (e.target.value + '').replace(/[^0-9.]/gi,'')\r\n        const vat = clientF(clientX().branch).vat * 100\r\n        if (e.target.name === 'BOX CHARGES') {\r\n            const newAmount = amount\r\n                .map(i => i.costType === 'BOX CHARGES' ? { ...i, costType: e.target.name, amount: str } : i)\r\n                .map(i => i.costType === 'BOX VAT ' + vat + '%' ? { ...i, costType: 'BOX VAT ' + vat + '%', amount: oneDecimal((+(str || 0)) * clientF(clientX().branch).vat) } : i);\r\n            setAmount(newAmount);\r\n        } else {\r\n            const newAmount = amount.map(i => i.costType === e.target.name ? { ...i, costType: e.target.name, amount: str } : i);\r\n            setAmount(newAmount);\r\n        }\r\n    };\r\n\r\n    const onChangePaid = e => {\r\n        const str = (e.target.value + '').replace(/[^0-9.]/gi,'')\r\n        setPaid(str);\r\n    };\r\n\r\n    const calculate = e => {\r\n        const price = calculatePrice(cargo.cargoMode, cargo.deliveryType, weight, volume, cargo.warehouseLocation)\r\n        setAmount(price);\r\n        setAmountSystem(price);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Grid container>\r\n                <Grid container spacing={2} xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <Grid item md={12} style={{paddingTop: 15, paddingBottom: 5}}>\r\n                        <Button variant=\"contained\" color=\"primary\" endIcon={<AttachMoney />}\r\n                            disabled={packages.length === 0} onClick={calculate}>{amount ? 'Re-Calculate' : 'Calculate'}\r\n                        </Button>\r\n                    </Grid>\r\n                    {amount && <>\r\n                        {map(amount, i => (\r\n                            <Grid container spacing={2} md={12} justify=\"space-between\" style={{paddingLeft: 20}}>\r\n                                <Grid md={6}><Typography style={{paddingTop: 20}}>{i.costType}</Typography></Grid>\r\n                                <Text size={6} label={i.costType} name={i.costType} disabled={!i.editable}\r\n                                    value={i.amount} onChange={onChangeFloat}\r\n                                />\r\n                            </Grid>\r\n                        ))}\r\n                        <hr style={{marginLeft: 10, marginTop: 10, width: '100%'}} />\r\n                        <Grid container spacing={2} md={12} justify=\"space-between\" style={{paddingLeft: 20, paddingBottom: 15}}>\r\n                            <Grid md={6}><Typography style={{paddingTop: 20}}><b>GRAND TOTAL</b></Typography></Grid>\r\n                            <Grid xs={6} justify=\"center\" style={{textAlign: 'center'}}><Typography style={{textAlign: 'center', paddingLeft: 20, paddingTop: 20, fontWeight: 'bold'}}>{grandTotal(amount)} {clientX().currency}</Typography></Grid>\r\n                        </Grid>\r\n                        <hr style={{marginLeft: 10, marginTop: 10, width: '100%'}} />\r\n                        <Grid container spacing={2} md={12} justify=\"space-between\" style={{paddingLeft: 20}}>\r\n                            <Label label={'Packages'} value={packages.length} size={4} />\r\n                            <Label label={'Weight'} value={oneDecimal(weight)} size={4} />\r\n                            <Label label={'Volume'} value={twoDecimal(volume)} size={4} />\r\n                        </Grid>\r\n                        <hr style={{marginLeft: 10, marginTop: 10, width: '100%'}} />\r\n                        <Grid container spacing={2} sm={12} justify=\"space-between\" style={{paddingTop: 20}}>\r\n                            <Grid sm={6}></Grid>\r\n                            <Grid sm={6} style={{paddingLeft: 20}}>\r\n                                <Text size={12} label={'PAID AMOUNT'}\r\n                                    value={paid} onChange={onChangePaid}\r\n                                />\r\n                            </Grid>\r\n                        </Grid>\r\n                    </>}\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Grid, Button, ExpansionPanel, ExpansionPanelDetails\r\n} from '@material-ui/core';\r\nimport {\r\n    LinearLoader, HeadingExpansion, ConfirmationFragment\r\n} from 'business/widgets/Mini';\r\nimport { useSnackbar } from 'notistack';\r\nimport Service from 'business/services/hbl.service';\r\nimport { AttachMoney } from '@material-ui/icons';\r\nimport ListPackage from './ListPackage';\r\nimport AmountList from './AmountList';\r\nimport moment from 'moment';\r\nimport reduce from 'lodash/reduce';\r\nimport { clientX } from 'portal/services/client.service';\r\nimport { volume } from 'business/utils/number';\r\nimport { useDialog } from 'muibox';\r\nimport { hasAccess, NoAccessStr, ROLES } from 'business/utils/permissions';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        setOverlayDetail, overlayDetail, setChanged, changed\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const dialog = useDialog();\r\n    \r\n    const [packages, setPackages] = React.useState([]);\r\n    const [details, setDetails] = React.useState({});\r\n    const [amount, setAmount] = React.useState(false);\r\n    const [amountSystem, setAmountSystem] = React.useState(false);\r\n    const [paid, setPaid] = React.useState(0);\r\n    const [loading, setLoading] = React.useState(false);\r\n    \r\n    React.useEffect(() => {\r\n        if (!overlayDetail.id) return;\r\n        setLoading(true);\r\n        Service.getCargo(overlayDetail.id)\r\n            .then(rows => {\r\n                if (clientX().branch !== rows.cargo.branch) {\r\n                    enqueueSnackbar('You are not Authorized', { variant: 'warning' });\r\n                }\r\n                setDetails({\r\n                    ...rows.cargo,\r\n                    pickupDateTime: moment(rows.cargo.pickupDate + 'T' + rows.cargo.pickupTime + ':00')\r\n                });\r\n                setPackages(rows.packages || []);\r\n                setPaid(rows.cargo?.paid)\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    }, [enqueueSnackbar, overlayDetail.id, setLoading, setPackages]);\r\n\r\n    const onCreate = () => {\r\n        if (paid === 0) {\r\n            dialog.confirm(ConfirmationFragment('Continue? Paid amount is Zero', 'ALLOW ZERO PAID')).then(() => {\r\n                onAdd()\r\n            })    \r\n        } else {\r\n            onAdd()\r\n        }\r\n    };\r\n\r\n    const onAdd = () => {\r\n        if (!hasAccess(ROLES.ONLY_ADMIN)) { \r\n            enqueueSnackbar(NoAccessStr, { variant: 'warning' }); return;\r\n        }\r\n\r\n        setLoading(true)\r\n        Service.editHbl(overlayDetail.id, { ...details }, amount, amountSystem, paid, {\r\n            pickedUpTime: details.pickedUpTime, pickedUpDate: details.pickedUpDate\r\n        }, 'PAYMENT-EDIT')\r\n            .then(rows => {\r\n                setChanged(changed + 1)\r\n                setOverlayDetail(false)\r\n                enqueueSnackbar('Payments updated', { variant: 'success' });\r\n            }).catch(e => {\r\n                console.log(e)\r\n                setLoading(false)\r\n                enqueueSnackbar('Could not add payments', { variant: 'error' });\r\n            })\r\n    };\r\n\r\n    return (<>\r\n        <div >\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <LinearLoader loading={loading} />\r\n                    <Grid container spacing={0} style={{paddingTop: 5}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'PACKAGE DETAILS'} />\r\n                                <ExpansionPanelDetails style={{padding: 0}}>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <Grid item xs={12}>\r\n                                            <ListPackage \r\n                                                setPackages={setPackages} packages={packages}\r\n                                                setOverlayDetail={setOverlayDetail} />\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={0} style={{paddingTop: 5}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <ExpansionPanel defaultExpanded>\r\n                                <HeadingExpansion title={'PAYMENT DETAILS'} />\r\n                                <ExpansionPanelDetails style={{padding: 10}}>\r\n                                    <Grid container spacing={1} alignContent=\"flex-start\" alignItems=\"flex-start\" justify=\"flex-start\">\r\n                                        <AmountList\r\n                                            paid={paid} setPaid={setPaid}\r\n                                            weight={reduce(packages, (t, i) => t + +i.weight, 0)}\r\n                                            volume={reduce(packages, (t, i) => t + volume(i), 0)}\r\n                                            amount={amount} setAmount={setAmount} setAmountSystem={setAmountSystem}\r\n                                            cargo={details} packages={packages} />\r\n                                    </Grid>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={0} style={{paddingTop: 20}}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                            <Grid container style={{padding: 10}} spacing={1} alignContent=\"space-between\" alignItems=\"space-between\" justify=\"space-between\">\r\n                                <Button variant=\"contained\" color=\"primary\"  size=\"medium\" endIcon={<AttachMoney />}\r\n                                    disabled={loading || !amount} onClick={() => onCreate()}>Update Payments\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <LinearLoader loading={loading} />\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Card, CardHeader, CardContent,\r\n} from '@material-ui/core';\r\nimport EditCargoPayments from './components/EditCargoPayments';\r\nimport { HeadingOverlay } from 'business/widgets/Mini';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        overlayDetail, setOverlayDetail, changed, setChanged\r\n    } = props;\r\n    \r\n    return (<>\r\n        <Card elevation={0} style={{marginTop: 0}}>\r\n            <CardHeader style={{padding: 0}} title={\r\n                <HeadingOverlay title={'EDIT HBL PAYMENTS'} onClose={() => setOverlayDetail(false)} />\r\n            }\r\n            />\r\n            <CardContent style={{padding: 0, paddingBottom: 100}}>\r\n                <Card style={{paddingTop: 0}}>\r\n                    <EditCargoPayments\r\n                        overlayDetail={overlayDetail} setOverlayDetail={setOverlayDetail}\r\n                        changed={changed} setChanged={setChanged}\r\n                    />\r\n                    <div style={{padding: 20}}></div>\r\n                </Card>\r\n            </CardContent>\r\n        </Card>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Card, CardHeader, CardContent, Grid,\r\n    Button,\r\n} from '@material-ui/core';\r\nimport List from './components/List';\r\nimport ViewHbl from '../ViewHbl';\r\nimport EditHblPayments from '../EditHblPayments';\r\nimport { DateOnly, Heading, Dialog, ButtonGroup } from 'business/widgets/Mini';\r\nimport moment from 'moment';\r\nimport AttachMoney from '@material-ui/icons/AttachMoney';\r\nimport { PERMS, hasAccess, NoAccessUI } from 'business/utils/permissions';\r\n\r\nconst UI = (props) => {\r\n    const [changed, setChanged] = React.useState(0);\r\n    const [searchFields, setSearchFields] = React.useState({\r\n        startDate: moment().subtract(30, 'd').format('YYYY-MM-DD'),\r\n        endDate: moment().format('YYYY-MM-DD'),\r\n    });\r\n    const [overlayDetail, setOverlayDetail] = React.useState(false);\r\n    const [overlayType, setOverlayType] = React.useState(false);\r\n\r\n    const onChange = e => {\r\n        setSearchFields({ ...searchFields, [e.target.name]: e.target.value });\r\n    };\r\n    \r\n    const month = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().subtract(30, 'd').format('YYYY-MM-DD'),\r\n            endDate: moment().format('YYYY-MM-DD'),\r\n        });\r\n    };\r\n    \r\n    const today = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().format('YYYY-MM-DD'),\r\n            endDate: moment().format('YYYY-MM-DD'),\r\n        });\r\n    };\r\n\r\n    const yesterday = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().add(-1, 'd').format('YYYY-MM-DD'),\r\n            endDate: moment().add(-1, 'd').format('YYYY-MM-DD'),\r\n        });\r\n    };\r\n\r\n    if (!hasAccess(PERMS.CASH_SETTLEMENT)) return <NoAccessUI />\r\n    return (<>\r\n        <Card elevation={0}>\r\n            <CardHeader title={\r\n                <Grid container spacing={1} justify=\"space-between\" alignContent=\"space-between\" alignItems=\"space-between\">\r\n                    <Heading Icon={AttachMoney} size={4} title={'Cash Settlements'} subtitle={'Inquiry'} />\r\n                    <Grid container spacing={2} xs={8} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\" style={{paddingRight: 10, paddingTop: 10}}>\r\n                        <DateOnly label=\"From Date\" name=\"startDate\"\r\n                            value={searchFields.startDate} onChange={onChange}\r\n                        />\r\n                        <DateOnly label=\"To Date\" name=\"endDate\"\r\n                            value={searchFields.endDate} onChange={onChange}\r\n                        />\r\n                        <Button color='primary' variant=\"outlined\" size=\"medium\" onClick={() => setChanged(changed + 1)} style={{marginTop: 2}}>Search</Button>\r\n                        <ButtonGroup size={3} onClicks={[month, today, yesterday]} options={['One Month', 'Today', 'Yesterday']} />\r\n                    </Grid>\r\n                </Grid>}\r\n            />\r\n            <CardContent>\r\n                <Card>\r\n                    <List changed={changed} setChanged={setChanged}\r\n                        searchFields={searchFields} setOverlayDetail={setOverlayDetail}\r\n                        setOverlayType={setOverlayType}\r\n                    />\r\n                </Card>\r\n            </CardContent>\r\n        </Card>\r\n        <Dialog open={overlayDetail} width={overlayType === 'VIEW' ? \"lg\" : 'md'} content={overlayType === 'VIEW'\r\n            ? <ViewHbl overlayDetail={overlayDetail} setOverlayDetail={setOverlayDetail} />\r\n            : <EditHblPayments\r\n                changed={changed} setChanged={setChanged}\r\n                overlayDetail={overlayDetail} setOverlayDetail={setOverlayDetail} />\r\n        }/>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport { Chip } from '@material-ui/core';\r\nimport palette from 'portal/theme/palette';\r\n\r\nexport default [\r\n    {\r\n        label: '', name: 'id',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false, display: false\r\n        },\r\n    },\r\n    {\r\n        label: '', name: 'memberId',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false, display: false\r\n        },\r\n    },\r\n    {\r\n        label: 'Name', name: 'fullName',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            customBodyRender: function(value, meta) {\r\n                return <Chip label={value} size=\"small\"/>\r\n            }\r\n        },\r\n    },\r\n    {\r\n        name: 'batchOl', label: 'Batch O/L',\r\n        options: {\r\n            viewColumns: true, filter: false, sort: false\r\n        }\r\n    },\r\n    {\r\n        name: 'date', label: 'Paid Date',\r\n        options: {\r\n            viewColumns: true, filter: false, sort: false\r\n        }\r\n    },\r\n    {\r\n        name: 'forNote', label: 'Paid for',\r\n        options: {\r\n            viewColumns: true, filter: false, sort: true\r\n        }\r\n    },\r\n    {\r\n        name: 'amount', label: 'Amount',\r\n        options: {\r\n            viewColumns: true, filter: false, sort: true,\r\n            setCellProps: () => ({ align: \"right\" }),\r\n            customBodyRender: function(value, meta) {\r\n                return <Chip label={value} size=\"small\" style={{color: 'white', backgroundColor: palette.shades.green}} />\r\n            }\r\n        }\r\n    },\r\n];\r\n\r\n","import React from 'react';\r\nimport { Grid, Button, Checkbox } from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\nimport Service from 'business/services/subs.service';\r\nimport columns from './Cols';\r\nimport Table from 'business/widgets/Table';\r\nimport {\r\n    LinearLoader, TableButton, ConfirmationFragment,\r\n    LabelChip, SelectGridless, useDialogSelect\r\n} from 'business/widgets/Mini';\r\nimport { RemoveRedEye, DeveloperMode, LocalConvenienceStore } from '@material-ui/icons';\r\nimport { useDialog } from 'muibox';\r\nimport get from 'lodash/get';\r\nimport map from 'lodash/map';\r\nimport { totalOfColumn, filterByKey, onlyUnique } from 'business/utils/array';\r\nimport { twoDecimal, oneDecimal, volumeInMeterCube } from 'business/utils/number';\r\nimport { trim } from 'business/utils/strings';\r\nimport { filter, size } from 'lodash';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        changed, searchFields, setOverlayDetail, setChanged\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const dialog = useDialog();\r\n    const dialogSelect = useDialogSelect();\r\n    \r\n    const [loading, setLoading] = React.useState(false);\r\n    const [details, setDetails] = React.useState([]);\r\n    const [checked, setChecked] = React.useState([]);\r\n    const [totals, setTotals] = React.useState({});\r\n    const [filters, setFilters] = React.useState({});\r\n    const [filteredRows, setFilteredRows] = React.useState([]);\r\n    const [assigneeList, setAssigneeList] = React.useState([]);\r\n\r\n    React.useEffect(() => {\r\n        if (searchFields.startDate > searchFields.endDate) {\r\n            enqueueSnackbar('Start-Date should not be after From-Date', { variant: 'warning' });\r\n            return\r\n        }\r\n        setLoading(true);\r\n        Service.get(searchFields)\r\n            .then(rows => {\r\n                debugger\r\n                const newRows = rows.map(row => ({\r\n                    ...row,\r\n                    amountRaw: row.amount,\r\n                    amount: (+row.amount)?.toLocaleString(),\r\n                }))\r\n                setDetails(newRows);  \r\n                onFilterChange(null, newRows);\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n            // eslint-disable-next-line\r\n    }, [enqueueSnackbar, changed, searchFields]);\r\n\r\n    const onFilterChange = (e, detailsCallbackIssue) => {\r\n        setChecked([])\r\n        const newFilters = e ? { ...filters, [e.target.name]: e.target.value } : filters\r\n        const newRows1 = filterByKey(e ? details : detailsCallbackIssue, newFilters, 'batchOl')\r\n        // const newRows2 = filterByKey(newRows1, newFilters, 'warehouseLocation')\r\n        // const newRows3 = filterByKey(newRows2, newFilters, 'deliveryType')\r\n        setFilters(newFilters);\r\n        setFilteredRows(newRows1);\r\n        generateTotals(newRows1)\r\n    }\r\n   \r\n    const generateTotals = rows => {\r\n        const TOTAL = size(rows) \r\n        const SUM = twoDecimal(totalOfColumn(rows, 'amountRaw'))?.toLocaleString() + '/='\r\n        setTotals({SUM, TOTAL})\r\n    }\r\n\r\n    const customToolbar = () => {\r\n        return (<>\r\n            <SelectGridless name=\"batchOl\" label={'Batch O/L'} valueObjects={[{value: '', label: 'All'}]} values={onlyUnique(details.map(i => i.batchOl))}\r\n                value={filters.batchOl} onChange={onFilterChange} style={{width: 120, minWidth: '120px !important'}} />\r\n        </>)\r\n    }\r\n    \r\n    const title = (<>\r\n            <LabelChip label={'SUM'} value={get(totals, 'SUM')} />\r\n            <LabelChip label={'TNX'} value={get(totals, 'TOTAL')} />\r\n        </>)\r\n    \r\n\r\n    const columnsWithActions = [\r\n        {\r\n            name: 'check', label: '  ',\r\n            options: {\r\n                display: false, viewColumns: false, filter: false, sort: false,\r\n                setCellProps: () => ({style: {width:10}}),\r\n                customBodyRender: (value, table) => (<>\r\n                    <Checkbox style={{padding: 0, margin: 0}} onClick={e => {\r\n                            if (e.target.checked)\r\n                                setChecked([...checked, table.rowData[1]])\r\n                            else\r\n                                setChecked([...checked.filter(i => i !== table.rowData[1])])\r\n                        }}\r\n                    />                                \r\n                </>)\r\n            }\r\n        },\r\n        ...columns,\r\n        {\r\n            name: 'actions', label: '  ',\r\n            options: {\r\n                empty: true, viewColumns: false, filter: false, sort: false,\r\n                customBodyRender: (value, table) => (<>\r\n                    {false && <TableButton title=\"View\" icon={<RemoveRedEye />} \r\n                        onClick={() => { \r\n                            setOverlayDetail({id: table.rowData[1]})\r\n                        }}\r\n                    />}                                \r\n                    {/* <TableButton style={{padding: 0, margin: 0}} title=\"Print Reciept\" icon={<DeveloperMode />} \r\n                        onClick={() => { \r\n                            window.open('print/' + table.rowData[1] + '/' + clientX().branch + '/3', '_blank')\r\n                        }}\r\n                    />                                 */}\r\n                </>)\r\n            }\r\n        },\r\n    ]\r\n\r\n    return (\r\n        <div>\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <LinearLoader loading={loading} />\r\n                    <Table data={filteredRows} columns={columnsWithActions} filter={false} noDownload={false}\r\n                        sort={true} customToolbar={customToolbar} title={title} />\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Card, CardHeader, CardContent, Grid,\r\n    Button,\r\n} from '@material-ui/core';\r\nimport List from './components/List';\r\nimport ViewHbl from '../ViewHbl';\r\nimport { DateOnly, Heading, Dialog, ButtonGroup } from 'business/widgets/Mini';\r\nimport moment from 'moment';\r\nimport AttachMoney from '@material-ui/icons/AttachMoney';\r\nimport { PERMS, hasAccess, NoAccessUI } from 'business/utils/permissions';\r\n\r\nconst UI = (props) => {\r\n    const [changed, setChanged] = React.useState(0);\r\n    const [searchFields, setSearchFields] = React.useState({\r\n        startDate: moment().subtract(15, 'd').format('YYYY-MM-DD'),\r\n        endDate: moment().format('YYYY-MM-DD'),\r\n    });\r\n    const [overlayDetail, setOverlayDetail] = React.useState(false);\r\n\r\n    const onChange = e => {\r\n        setSearchFields({ ...searchFields, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const month = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().subtract(30, 'd').format('YYYY-MM-DD'),\r\n            endDate: moment().format('YYYY-MM-DD'),\r\n        });\r\n    };\r\n\r\n    const week = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().subtract(7, 'd').format('YYYY-MM-DD'),\r\n            endDate: moment().format('YYYY-MM-DD'),\r\n        });\r\n    };\r\n    \r\n    const today = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().format('YYYY-MM-DD'),\r\n            endDate: moment().format('YYYY-MM-DD'),\r\n        });\r\n    };\r\n\r\n    const yesterday = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().add(-1, 'd').format('YYYY-MM-DD'),\r\n            endDate: moment().add(-1, 'd').format('YYYY-MM-DD'),\r\n        });\r\n    };\r\n\r\n    if (!hasAccess(PERMS.PICKUP_WAREHOUSE)) return <NoAccessUI />\r\n    return (<>\r\n        <Card elevation={0}>\r\n            <CardHeader title={\r\n                <Grid container spacing={1} justify=\"space-between\" alignContent=\"space-between\" alignItems=\"space-between\">\r\n                    <Heading Icon={AttachMoney} size={4} title={'Subscriptions'} subtitle={'Financials'} />\r\n                    <Grid container spacing={2} xs={8} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\" style={{paddingRight: 10, paddingTop: 10}}>\r\n                        <DateOnly label=\"From Date\" name=\"startDate\"\r\n                            value={searchFields.startDate} onChange={onChange}\r\n                        />\r\n                        <DateOnly label=\"To Date\" name=\"endDate\"\r\n                            value={searchFields.endDate} onChange={onChange}\r\n                        />\r\n                        <Button color='primary' variant=\"outlined\" size=\"medium\" onClick={() => setChanged(changed + 1)} style={{marginTop: 2}}>Search</Button>\r\n                        <ButtonGroup size={3} onClicks={[month, week, today, yesterday]} options={['One Month', 'Week', 'Today', 'Yesterday']} />\r\n                    </Grid>\r\n                </Grid>}\r\n            />\r\n            <CardContent>\r\n                <Card>\r\n                    <List changed={changed} setChanged={setChanged}\r\n                        searchFields={searchFields} setOverlayDetail={setOverlayDetail}\r\n                    />\r\n                </Card>\r\n            </CardContent>\r\n        </Card>\r\n        <Dialog open={overlayDetail} width=\"lg\" content={overlayDetail.id \r\n            ? <ViewHbl overlayDetail={overlayDetail} setOverlayDetail={setOverlayDetail} />\r\n            : <></>\r\n        }/>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport { Chip } from '@material-ui/core';\r\n\r\nexport default [\r\n    {\r\n        name: 'id', options: { viewColumns: false, filter: false, sort: false, display: false },\r\n    },\r\n    {\r\n        label: 'HBL', name: 'hbl',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            customBodyRender: function(value, meta) {\r\n                return <b>{value || 'REF' + meta.rowData[0]}</b> \r\n            }    \r\n        },\r\n    },\r\n    {\r\n        label: 'Name', name: 'name',\r\n        options: {\r\n            viewColumns: false, filter: false, sort: false,\r\n            customBodyRender: function(value, meta) {\r\n                return <Chip label={value} />\r\n            }\r\n        },\r\n    },\r\n    {\r\n        name: 'address', label: 'Address',\r\n        options: {\r\n            viewColumns: true, filter: false, sort: true\r\n        }\r\n    },\r\n    {\r\n        name: 'date', label: 'Pickup Date/Time',\r\n        options: {\r\n            viewColumns: true, filter: false, sort: true\r\n        }\r\n    },\r\n    {\r\n        name: 'cargoMode', label: 'Cargo Mode',\r\n        options: {\r\n            viewColumns: true, filter: true, sort: false\r\n        }\r\n    },\r\n    {\r\n        name: 'driverName', label: 'Driver',\r\n        options: {\r\n            viewColumns: true, filter: true, sort: false\r\n        }\r\n    },\r\n];\r\n\r\n","import React from 'react';\r\nimport { Grid } from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\nimport Service from 'business/services/hbl.service';\r\nimport columns from './Cols';\r\nimport Table from 'business/widgets/Table';\r\nimport {\r\n    LinearLoader, TableButton, ConfirmationFragment\r\n} from 'business/widgets/Mini';\r\nimport { RemoveRedEye, RestoreFromTrash } from '@material-ui/icons';\r\nimport get from 'lodash/get';\r\nimport { ROLES, hasAccess, NoAccessStr } from 'business/utils/permissions';\r\nimport { useDialog } from 'muibox';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        setChanged, changed, searchFields, setOverlayDetail\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const dialog = useDialog();\r\n    \r\n    const [loading, setLoading] = React.useState(false);\r\n    const [details, setDetails] = React.useState([]);\r\n\r\n    React.useEffect(() => {\r\n        if (searchFields.startDate > searchFields.endDate) {\r\n            enqueueSnackbar('Start-Date should not be after From-Date', { variant: 'warning' });\r\n            return\r\n        }\r\n        setLoading(true);\r\n        Service.getDeletedCargo(searchFields)\r\n            .then(rows => {\r\n                const newRows = rows.map(row => ({\r\n                    ...row,\r\n                    date: get(row, 'pickupDate') + ' ' + get(row, 'pickupTime')\r\n                }))\r\n                setDetails(newRows);\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false)) \r\n    }, [enqueueSnackbar, changed, searchFields]);\r\n\r\n    const onDelete = ({id}) => {\r\n        if (!hasAccess(ROLES.ONLY_ADMIN)) { \r\n            enqueueSnackbar(NoAccessStr, { variant: 'warning' }); return;\r\n        }\r\n\r\n        dialog.confirm(ConfirmationFragment('Undo Delete ' + 1 + ' item', 'UNDO DELETE')).then(() => {\r\n            setLoading(true);\r\n            Service.undoDeleteCargo(id)\r\n                .then(rows => {\r\n                    enqueueSnackbar('Deleted Restored', { variant: 'success' });\r\n                    setChanged(changed + 1)\r\n                }).catch(e => {\r\n                    enqueueSnackbar('Could not Restore', { variant: 'error' });\r\n                }).finally(e => setLoading(false))\r\n        })\r\n    }\r\n\r\n    const columnsWithActions = [\r\n        ...columns,\r\n        {\r\n            name: 'actions', label: '  ',\r\n            options: {\r\n                empty: true, viewColumns: false, filter: false, sort: false,\r\n                customBodyRender: (value, table) => (<>\r\n                    <TableButton title=\"View\" icon={<RemoveRedEye />} \r\n                        onClick={() => { \r\n                            setOverlayDetail({id: table.rowData[0]})\r\n                        }}\r\n                    />                                \r\n                    <TableButton title=\"Undo Delete\" icon={<RestoreFromTrash />} \r\n                        onClick={() => { \r\n                            onDelete({id: table.rowData[0]})\r\n                        }}\r\n                    />                                \r\n                </>)\r\n            }\r\n        },\r\n    ]\r\n\r\n    return (\r\n        <div>\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <LinearLoader loading={loading} />\r\n                    <Table data={details} columns={columnsWithActions} filter={true} />\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Card, CardHeader, CardContent, Grid,\r\n    Button,\r\n} from '@material-ui/core';\r\nimport List from './components/List';\r\nimport ViewHbl from '../ViewHbl';\r\nimport { DateOnly, Heading, Dialog } from 'business/widgets/Mini';\r\nimport moment from 'moment';\r\nimport DeleteSweep from '@material-ui/icons/DeleteSweep';\r\n\r\nconst UI = (props) => {\r\n    const [changed, setChanged] = React.useState(0);\r\n    const [searchFields, setSearchFields] = React.useState({\r\n        startDate: moment().subtract(15, 'd').format('YYYY-MM-DD'),\r\n        endDate: moment().format('YYYY-MM-DD'),\r\n    });\r\n    const [overlayDetail, setOverlayDetail] = React.useState(false);\r\n\r\n    const onChange = e => {\r\n        setSearchFields({ ...searchFields, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    return (<>\r\n        <Card elevation={0}>\r\n            <CardHeader title={\r\n                <Grid container spacing={1} justify=\"space-between\" alignContent=\"space-between\" alignItems=\"space-between\">\r\n                    <Heading Icon={DeleteSweep} size={4} title={'Cancelled HBLs'} subtitle={'OBA - Inquiry'} />\r\n                    <Grid container spacing={2} xs={8} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\" style={{paddingRight: 10, paddingTop: 10}}>\r\n                        <DateOnly label=\"From Date\" name=\"startDate\"\r\n                            value={searchFields.startDate} onChange={onChange}\r\n                        />\r\n                        <DateOnly label=\"To Date\" name=\"endDate\"\r\n                            value={searchFields.endDate} onChange={onChange}\r\n                        />\r\n                        <Button color='primary' variant=\"outlined\" size=\"medium\" onClick={() => setChanged(changed + 1)} style={{marginTop: 2}}>Search</Button>\r\n                    </Grid>\r\n                </Grid>}\r\n            />\r\n            <CardContent>\r\n                <Card>\r\n                    <List changed={changed} setChanged={setChanged}\r\n                        searchFields={searchFields} setOverlayDetail={setOverlayDetail}\r\n                    />\r\n                </Card>\r\n            </CardContent>\r\n        </Card>\r\n        <Dialog open={overlayDetail} width=\"lg\" content={overlayDetail.id \r\n            ? <ViewHbl overlayDetail={overlayDetail} setOverlayDetail={setOverlayDetail} />\r\n            : <></>\r\n        }/>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React, { Suspense } from 'react';\r\n\r\nconst SuspenseUI = React.lazy(() => import('./suspense'));\r\n\r\nconst UI = (props) => {\r\n\r\n    return <Suspense fallback={<div>Loading PDF All Library...</div>}><SuspenseUI {...props} /></Suspense>\r\n\r\n};\r\n\r\nexport default UI;\r\n","import React, { Suspense } from 'react';\r\n\r\nconst SuspenseUI = React.lazy(() => import('./suspense'));\r\n\r\nconst UI = (props) => {\r\n\r\n    return <Suspense fallback={<div>Loading PDF/EXCEL/IMAGE Library...</div>}><SuspenseUI {...props} /></Suspense>\r\n\r\n};\r\n\r\nexport default UI;\r\n","import { GET } from 'portal/helpers/adapter';\r\nimport { clientX } from 'portal/services/client.service';\r\n\r\nconst get = async(obj) => {\r\n    const t = obj.startDate?.split(' ')\r\n    // return new Promise(e => e({\"1655116808\":\"25.0909048,51.4478579\",\"1655130793\":\"25.2612225,51.5220181\",\"1655126098\":\"25.2809142,51.5614852\",\"1655127064\":\"25.2809175,51.5614976\",\"1655134318\":\"25.2612174,51.5220192\",\"1655145051\":\"25.2407668,51.5443103\",\"1655107816\":\"25.3351779,51.4389658\",\"1655150487\":\"25.2890069,51.4966975\",\"1655151458\":\"25.2459404,51.4647804\",\"1655149091\":\"25.3210553,51.5033597\",\"1655116441\":\"25.0826118,51.4587876\",\"1655147029\":\"25.2604801,51.5223025\",\"1655145404\":\"25.2407862,51.5442627\",\"1655143501\":\"25.2468892,51.5148809\",\"1655143226\":\"25.2469427,51.5148512\",\"1655150524\":\"25.2800485,51.4941824\",\"1655126524\":\"25.2809116,51.5614963\",\"1655128543\":\"25.2699336,51.5193989\",\"1655143782\":\"25.2542113,51.5146447\",\"1655108275\":\"25.3351912,51.4389585\",\"1655108413\":\"25.3352196,51.4390012\",\"1655130364\":\"25.2611682,51.5219953\",\"1655069188\":\"25.3014266,51.410624\",\"1655127130\":\"25.2809175,51.5614976\",\"1655068695\":\"25.3016402,51.4109623\",\"1655146709\":\"25.2606417,51.5225276\",\"1655146908\":\"25.2606504,51.5225408\",\"1655107806\":\"25.3351779,51.4389658\",\"1655118220\":\"25.1627188,51.5606983\",\"1655130120\":\"25.2701934,51.5193931\",\"1655151807\":\"25.2459833,51.4643942\",\"1655118137\":\"25.1627188,51.5606983\",\"1655147910\":\"25.322077,51.4860133\",\"1655142863\":\"25.2469894,51.5146966\",\"1655144845\":\"25.2410123,51.5443611\",\"1655126877\":\"25.2809107,51.5614932\",\"1655146109\":\"25.2616338,51.522066\",\"1655148644\":\"25.3210764,51.5033689\",\"1655149853\":\"25.3209986,51.503472\",\"1655126278\":\"25.2809146,51.5614978\",\"1655144685\":\"25.2408736,51.5444052\",\"1655107951\":\"25.3346997,51.4395135\",\"1655107872\":\"25.3352014,51.4389758\",\"1655108522\":\"25.3352001,51.4389955\",\"1655130973\":\"25.2612227,51.522012\",\"1655147094\":\"25.2604988,51.5223043\",\"1655134495\":\"25.2610736,51.5219866\",\"1655138214\":\"25.0825706,51.4592733\",\"1655118690\":\"25.1627565,51.5607132\",\"1655150820\":\"25.2800485,51.4941824\",\"1655116586\":\"25.0784433,51.454695\",\"1655150343\":\"25.2928182,51.4962765\",\"1655134650\":\"25.2610904,51.5219828\",\"1655117596\":\"25.1559029,51.5471751\",\"1655143883\":\"25.2539125,51.5264063\",\"1655151917\":\"25.2459851,51.4644029\",\"1655127519\":\"25.2810654,51.5615281\",\"1655118766\":\"25.1627535,51.5607163\",\"1655125931\":\"25.280924,51.5615791\",\"1655117316\":\"25.1465528,51.5143326\",\"1655149268\":\"25.3211026,51.5033427\",\"1655117517\":\"25.1557798,51.5471441\",\"1655146155\":\"25.2627274,51.5217199\",\"1655126389\":\"25.2809127,51.5614876\",\"1655118408\":\"25.1627188,51.5606983\",\"1655108134\":\"25.3352035,51.4389866\",\"1655128720\":\"25.2702891,51.5193999\",\"1655143044\":\"25.2467966,51.5144483\",\"1655143640\":\"25.2467613,51.5144747\",\"1655152076\":\"25.2459807,51.4644003\",\"1655114959\":\"25.1279792,51.493782\",\"1655150094\":\"25.3110832,51.4963075\",\"1655130542\":\"25.2612175,51.522006\",\"1655130666\":\"25.2612197,51.5220106\",\"1655148393\":\"25.3214731,51.5033819\",\"1655138748\":\"25.0823388,51.4589677\",\"1655068876\":\"25.3014428,51.4106519\",\"1655130181\":\"25.2701088,51.5193262\",\"1655134582\":\"25.2610751,51.5219966\",\"1655151227\":\"25.2475248,51.4658263\",\"1655131155\":\"25.2612208,51.5220077\",\"1655148825\":\"25.3210787,51.5033713\",\"1655143576\":\"25.2470172,51.5145463\",\"1655070919\":\"25.2885061,51.4380128\",\"1655126739\":\"25.2809137,51.5615013\",\"1655126937\":\"25.2809082,51.5614924\",\"1655151626\":\"25.2459771,51.4643436\",\"1655146529\":\"25.2605523,51.5223945\",\"1655148948\":\"25.3211038,51.5033196\",\"1655124632\":\"25.1627619,51.5607214\",\"1655126693\":\"25.2809113,51.561503\",\"1655069094\":\"25.301425,51.4106325\"}))\r\n    return GET(`/v1/location/get?username=${obj.id}&date=${t[0].split('-').join('_')}&startTime=${t[1]}&branch=${clientX().branch}`)\r\n}\r\n\r\nexport default {\r\n    get,\r\n}\r\n","// Marker.js\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport palette from 'portal/theme/palette';\r\n\r\nconst Wrapper = styled.div`\r\n    &:hover {\r\n        width: 42px;\r\n        height: 41px;\r\n        font-size: 35px;     \r\n        text-shadow: 0px 0px 15px ${palette.shades.main};\r\n        z-index: 10;\r\n    }\r\n    position: absolute;\r\n    width: 38px;\r\n    height: 37px;\r\n    background-image: ${props => 'url(/app/images/a' + (props.text === 'LAST' ? 8 : props.direction) + '.png)'};\r\n    filter: ${props => `grayscale(${1 - (props.order)/props.total})`};\r\n    background-size: contain;\r\n    text-align: center;\r\n    text-shadow: 1px 1px #ffffff;\r\n    background-repeat: no-repeat;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    -webkit-transform: translate(-50%,-50%);\r\n    -ms-transform: translate(-50%,-50%);\r\n    transform: translate(-50%,-50%);\r\n    cursor: grab;\r\n`;\r\n\r\nconst Marker = ({ direction, text, total, order, onClick }) => (\r\n    <Wrapper total={total}\r\n        direction={direction}\r\n        order={order}\r\n        alt={text}\r\n        onClick={onClick}\r\n    >{text}[{order}]<br/></Wrapper>\r\n);\r\n\r\nMarker.defaultProps = {\r\n    onClick: null,\r\n};\r\n\r\nMarker.propTypes = {\r\n    onClick: PropTypes.func,\r\n    text: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Marker;","import React from 'react';\r\n\r\nimport GoogleMapReact from 'google-map-react';\r\nimport styled from 'styled-components';\r\nimport Marker from './Marker';\r\nimport { MAP_KEY } from 'business/utils/keys';\r\nimport palette from 'portal/theme/palette';\r\n\r\nconst Wrapper = styled.main`\r\n  width: 100%;\r\n  height: 80vh;\r\n`;\r\n\r\nconst segment = arr => {\r\n    const pathSets = []\r\n    let thisSets = []\r\n    arr.forEach((i, j) => {\r\n        if (thisSets.length === 0) {\r\n            thisSets.push(i)\r\n        } else {\r\n            if (i.timestamp - arr[j - 1].timestamp < 30 * 60) {\r\n                thisSets.push(i)\r\n            } else {\r\n                pathSets.push([...thisSets])\r\n                thisSets = []\r\n            }\r\n        }\r\n    })\r\n    return pathSets;\r\n}\r\n\r\nconst UI = (props) => {\r\n   const { path, coordinates, zoom } = props;\r\n\r\n    const [state, setState] = React.useState({\r\n        mapApiLoaded: false,\r\n        mapInstance: null,\r\n        mapApi: null,\r\n        geoCoder: null,\r\n        places: [],\r\n        center: [coordinates.lat, coordinates.lng],\r\n        zoom,\r\n        address: '',\r\n        draggable: true,\r\n        lat: coordinates.lat,\r\n        lng: coordinates.lng\r\n    });\r\n\r\n    React.useEffect(() => {\r\n        setState({\r\n            draggable: true,\r\n            zoom,\r\n            center: [0, props.coordinates.lng],\r\n            lat: 0,\r\n            lng: props.coordinates.lng\r\n        });\r\n        setTimeout(() => {\r\n            console.log('timeoout')\r\n            setState({\r\n                draggable: true,\r\n                zoom,\r\n                center: [props.coordinates.lat, props.coordinates.lng],\r\n                lat: props.coordinates.lat,\r\n                lng: props.coordinates.lng\r\n            });    \r\n        }, 150) // was 500\r\n    }, [props.coordinates, zoom]);\r\n    \r\n    const _onChange = ({ center, zoom }) => {\r\n        setState({\r\n            ...state,\r\n            center: center,\r\n            zoom: zoom,\r\n        });\r\n\r\n    }\r\n\r\n    const apiHasLoaded = (map, maps) => {\r\n        segment(path).forEach(set => {\r\n            var flightPath = new maps.Polyline({\r\n                path: set,\r\n                geodesic: true,\r\n                strokeColor: palette.shades.main,\r\n                strokeOpacity: 0.5,\r\n                strokeWeight: 2\r\n            });\r\n            flightPath.setMap(map);\r\n        })\r\n        setState({\r\n            ...state,\r\n            mapApiLoaded: true,\r\n            mapInstance: map,\r\n            mapApi: maps,\r\n        });\r\n    };\r\n\r\n    console.log(state.lat, state.lng)\r\n    return (\r\n        <Wrapper>\r\n            <GoogleMapReact\r\n                center={state.center}\r\n                zoom={state.zoom}\r\n                draggable={state.draggable}\r\n                onChange={_onChange}\r\n                onChildClick={() => console.log('child click')}\r\n                bootstrapURLKeys={{\r\n                    key: MAP_KEY,\r\n                    libraries: [],\r\n                }}\r\n                yesIWantToUseGoogleMapApiInternals\r\n                onGoogleApiLoaded={({ map, maps }) => apiHasLoaded(map, maps)}\r\n            >\r\n                {path.map((i, j) => \r\n                    <Marker\r\n                        order={j}\r\n                        direction={i.direction}\r\n                        total={path.length}\r\n                        text={i.date}\r\n                        lat={i.lat}\r\n                        lng={i.lng}\r\n                    />\r\n                )}\r\n                <Marker\r\n                    order={0}\r\n                    total={1}\r\n                    text={'LAST'}\r\n                    lat={coordinates.lat + 0.0002}\r\n                    lng={coordinates.lng + 0.0001}\r\n                />\r\n            </GoogleMapReact>\r\n        </Wrapper >\r\n    );\r\n}\r\n\r\nexport default UI;","import React from 'react';\r\nimport { Grid } from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\nimport Service from 'business/services/location.service';\r\nimport { LinearLoader } from 'business/widgets/Mini';\r\nimport MyGoogleMap from './MyGoogleMap';\r\nimport moment from 'moment';\r\nimport { orderBy } from 'lodash';\r\n\r\nconst makeArray = obj => {\r\n    const arrSet = []\r\n    for (var key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n            const val = obj[key].split(',')\r\n            arrSet.push({\r\n                date: +key,\r\n                lat: +val[0],\r\n                lng: +val[1],\r\n            });\r\n        }\r\n    }\r\n\r\n    return arrSet;\r\n}\r\n\r\nconst side = (arrSet, expectedDate) => {\r\n\r\n    const arrAll = orderBy(arrSet, ['date'])\r\n    const arr = []\r\n    arrAll.forEach((i, j) => {\r\n        if (j !== arrAll.length - 1) {\r\n            const dy = arrAll[j + 1].lat - i.lat\r\n            const dx = arrAll[j + 1].lng - i.lng\r\n\r\n            if (dy < 0.0002 && dx < 0.0002) {\r\n                return false\r\n            }\r\n            if (dy < 0.001 && dx < 0.001) {\r\n                arr.push(i);\r\n                arr.push({\r\n                    ...i,\r\n                    lat: i.lat + (dy/2),\r\n                    lng: i.lng + (dx/2)\r\n                });\r\n            }\r\n            else {\r\n                arr.push(i);\r\n            }            \r\n        } else {\r\n            arr.push(i);\r\n        }\r\n    })\r\n\r\n    // console.log(arr)\r\n    const tan22 = 0.414\r\n    const tan67 = 2.414\r\n    const res = arr.map((i, j) => {\r\n        let direction = 8;\r\n        if (j !== arr.length - 1) {\r\n            const dy = arr[j + 1].lat - i.lat\r\n            const dx = arr[j + 1].lng - i.lng\r\n            if (dx === 0) {\r\n                if (dy > 0) {\r\n                    direction = 2;\r\n                } else {\r\n                    direction = 6;\r\n                }\r\n            } else {\r\n                const ratio = Math.abs(dy)/Math.abs(dx);\r\n\r\n                if (dx > 0 && dy > 0) {\r\n                    if (ratio < tan22) {\r\n                        direction = 0;\r\n                    } else if (ratio > tan67){ \r\n                        direction = 2;\r\n                    } else {\r\n                        direction = 1;\r\n                    }\r\n                } else if (dx < 0 && dy > 0) {\r\n                    if (ratio < tan22) {\r\n                        direction = 4;\r\n                    } else if (ratio > tan67){ \r\n                        direction = 2;\r\n                    } else {\r\n                        direction = 3;\r\n                    }                \r\n                } else if (dx > 0 && dy < 0) {\r\n                    if (ratio < tan22) {\r\n                        direction = 0;\r\n                    } else if (ratio > tan67){ \r\n                        direction = 6;\r\n                    } else {\r\n                        direction = 7;\r\n                    }\r\n                } else {\r\n                    if (ratio < tan22) {\r\n                        direction = 4;\r\n                    } else if (ratio > tan67){ \r\n                        direction = 6;\r\n                    } else {\r\n                        direction = 5;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        const date = moment(i.date * 1000).format(\"HH:mm\")\r\n        const dateTime = moment(i.date * 1000).format(\"yyyy-MM-DD\")\r\n        return { ...i, timestamp: i.date, date, dateTime, direction }\r\n    })\r\n    // console.log(res)\r\n    return res.filter(i => i.dateTime === expectedDate);\r\n}\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        changed, searchFields, trackSelectedHour\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    \r\n    const [loading, setLoading] = React.useState(false);\r\n    const [zoom, setZoom] = React.useState(11);\r\n    const [coordinates, setCoordinates] = React.useState({\r\n        lat: 25.274,\r\n        lng: 51.295\r\n    });\r\n    const [path, setPath] = React.useState(side({}));\r\n\r\n    React.useEffect(() => {\r\n        setLoading(true);\r\n        Service.get(searchFields)\r\n            .then(rows => {\r\n                const arrSet = makeArray(rows) \r\n                if (arrSet.length > 0) setCoordinates({ lat: arrSet[0].lat, lng: arrSet[0].lng})\r\n\r\n                const cords = side(arrSet, searchFields.startDate.split(' ')?.[0]) \r\n                // console.log(cords.map((i, j) => j === 0 ? i : ({date:i.date, dy: cords[j-1].lat - i.lat, dx: cords[j-1].lng - i.lng})))\r\n                if (cords.length > 0) {\r\n                    setCoordinates(cords[cords.length - 1]);\r\n                    setPath(cords);\r\n                } else {\r\n                    setPath([]);\r\n                }\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not Fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    }, [enqueueSnackbar, changed, searchFields]);\r\n    \r\n    React.useEffect(() => {\r\n        if (isNaN(trackSelectedHour) || path.length === 0) return\r\n        const less = path.filter(i => i.date < ((trackSelectedHour < 10 ? '0' + trackSelectedHour : trackSelectedHour) + ':59'))\r\n        if (less.length > 0) {\r\n            setZoom(17);\r\n            setCoordinates(path[less.length - 1]);\r\n        } else {\r\n            setCoordinates(path[0]);\r\n        }\r\n    }, [trackSelectedHour, path]);\r\n\r\n    return (\r\n        <div >\r\n            <Grid container>\r\n                <Grid item xs={12} sm={12} md={12} lg={12} xl={12}>\r\n                    <LinearLoader loading={loading} />\r\n                    {path.length > 0 && !loading && <MyGoogleMap zoom={zoom} path={path} coordinates={coordinates} setCoordinates={setCoordinates} />}\r\n                    {path.length === 0 && !loading && <div style={{padding: 20}}>No tracking data</div>}\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Card, CardHeader, CardContent, Grid\r\n} from '@material-ui/core';\r\nimport List from './components/List';\r\nimport { Heading, Select, Slider } from 'business/widgets/Mini';\r\nimport { TrackChanges } from '@material-ui/icons';\r\nimport { ButtonGroup } from '@material-ui/core';\r\nimport { Button } from '@material-ui/core';\r\nimport moment from 'moment';\r\nimport { useSnackbar } from 'notistack';\r\nimport ServiceDriver from 'business/services/driver.service';\r\nimport { filter, map } from 'lodash';\r\nimport { PERMS, hasAccess, NoAccessUI } from 'business/utils/permissions';\r\n\r\nconst timeFrames = ['Day before', 'Yesterday', 'Today'];\r\n\r\nconst UI = (props) => {\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const [changed, setChanged] = React.useState(0);\r\n    const [trackStartHour] = React.useState(0);\r\n    const [trackEndHour] = React.useState(24);\r\n    const [trackSelectedHour, setTrackSelectedHour] = React.useState();\r\n    const [assigneeListRaw, setAssigneeListRaw] = React.useState([]);\r\n    const [assigneeList, setAssigneeList] = React.useState([]);\r\n    const [searchFields, setSearchFields] = React.useState({\r\n        id: '',\r\n        startDate: moment().subtract(0, 'd').format('YYYY-MM-DD HH:mm'),\r\n        timeFrame: timeFrames[2],\r\n    });\r\n\r\n    const onChangeTime = e => {\r\n        let startDate;\r\n        if (e === timeFrames[0]) {\r\n            startDate = moment().subtract(2, 'd').format('YYYY-MM-DD HH:mm')\r\n        }\r\n        else if (e === timeFrames[1]) {\r\n            startDate = moment().subtract(1, 'd').format('YYYY-MM-DD HH:mm')\r\n        }\r\n        else if (e === timeFrames[2]) {\r\n            startDate = moment().subtract(0, 'd').format('YYYY-MM-DD HH:mm')\r\n        }\r\n        setSearchFields({ ...searchFields, timeFrame: e, startDate });\r\n        setChanged(changed + 1)\r\n    };\r\n    \r\n    const onChange = e => {\r\n        setSearchFields({ ...searchFields, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        ServiceDriver.getByBranch()\r\n            .then(rows => {\r\n                setAssigneeListRaw(filter(rows, k => !k.deleted));\r\n                setAssigneeList(map(filter(rows, k => !k.deleted), i => ({value: i.username, label: i.username})));\r\n            }).catch(e => {\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            })\r\n    }, [enqueueSnackbar]);\r\n\r\n    if (!hasAccess(PERMS.REPORTS)) return <NoAccessUI />\r\n    return (<>\r\n        <Card elevation={0}>\r\n            <CardHeader title={\r\n                <Grid container spacing={1} justify=\"space-between\" alignContent=\"space-between\" alignItems=\"space-between\">\r\n                    <Heading Icon={TrackChanges} size={2} title={'Manage Drivers'} subtitle={'OBA Tracking'} />\r\n                    <Grid item md={6}>\r\n                        <Slider\r\n                            shiftStart={+(assigneeListRaw.find(i => i.username === searchFields.id)?.shiftStart) || 14}\r\n                            shiftEnd={+(assigneeListRaw.find(i => i.username === searchFields.id)?.shiftEnd) || 2}\r\n                            setTrackSelectedHour={setTrackSelectedHour}\r\n                            trackStartHour={trackStartHour} trackEndHour={trackEndHour} />\r\n                    </Grid>\r\n                    <Grid container md={4}  justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\">\r\n                        <Select size={4} label=\"Driver\" name=\"id\" valueObjects={assigneeList}\r\n                            value={searchFields.id} onChange={onChange}\r\n                        />\r\n                        <ButtonGroup color=\"primary\" style={{marginLeft: 10, marginTop: 2}}>\r\n                            {timeFrames.map(i =>\r\n                                <Button size=\"small\" style={{height: 35}} variant={i === searchFields.timeFrame ? 'contained' : 'outlined'} onClick={e => onChangeTime(i)} >{i}</Button>)}\r\n                        </ButtonGroup>\r\n                    </Grid>\r\n                </Grid>}\r\n            />\r\n            <CardContent>\r\n                <Card>\r\n                    {searchFields.id && <List\r\n                        trackSelectedHour={trackSelectedHour}\r\n                        changed={changed} setChanged={setChanged}\r\n                        searchFields={searchFields}\r\n                    />}\r\n                </Card>\r\n            </CardContent>\r\n        </Card>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport { Grid, } from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\nimport Service from 'business/services/customer/customer.hbl.service';\r\nimport {\r\n    CardGrid, HeadingAlt, LinearLoader,\r\n} from 'business/widgets/Mini';\r\nimport { trim } from 'business/utils/strings';\r\nimport moment from 'moment';\r\nimport { forOwn, groupBy } from 'lodash';\r\nimport palette from 'portal/theme/palette';\r\n\r\nconst UI = (props) => {\r\n    const {\r\n        changed, searchFields, setOverlayDetail\r\n    } = props;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    \r\n    const [loading, setLoading] = React.useState(false);\r\n    const [d1, setD1] = React.useState([]);\r\n    const [d2, setD2] = React.useState([]);\r\n    const [d3, setD3] = React.useState([]);\r\n    const [d4, setD4] = React.useState([]);\r\n\r\n    React.useEffect(() => {\r\n        if(changed === 0) return\r\n        if (searchFields.startDate > searchFields.endDate) {\r\n            enqueueSnackbar('Start-Date should not be after From-Date', { variant: 'warning' });\r\n            return\r\n        }\r\n        setLoading(true);\r\n        setD1([{}, {}])\r\n        setD3([{}])\r\n        setD4([{}, {}, {}, {}])\r\n        Service.getAllHbl({ startDate: searchFields.startDate, endDate: searchFields.endDate })\r\n            .then(rows => {\r\n                setD1([]); setD2([]); setD3([]); setD4([]);\r\n                const date = moment().format('YYYY-MM-DD')\r\n                const time = moment().format('HH')\r\n                const packObjs = groupBy(rows, i => (i.driverId ? 'y' : 'n') + i.fetched)\r\n                forOwn(packObjs, (packs, key) => {\r\n                    if (key === 'n-1') {\r\n                        const newRows = packs.map(row => ({\r\n                            ...row,\r\n                            address: trim(row.address, 19),\r\n                            slAddress: trim(row.slAddress, 19),\r\n                            now: (row.createdDate === date && row.createdTime.startsWith(time)),\r\n                        }))\r\n                        setD1(newRows);  \r\n                    } else if (key === 'y-1') {\r\n                        const newRows = packs.map(row => ({\r\n                            ...row,\r\n                            address: trim(row.address, 19),\r\n                            slAddress: trim(row.slAddress, 19),\r\n                            now: (row.createdDate === date && row.createdTime.startsWith(time)),\r\n                        }))\r\n                        setD2(newRows);  \r\n                    } else if (key === 'y12') {\r\n                        const newRows = packs.map(row => ({\r\n                            ...row,\r\n                            address: trim(row.address, 19),\r\n                            slAddress: trim(row.slAddress, 19),\r\n                            now: (row.pickedUpDate === date && row.pickedUpTime.startsWith(time)),\r\n                        }))\r\n                        setD3(newRows);  \r\n                    } else if (key === 'y42') {\r\n                        const newRows = packs.map(row => ({\r\n                            ...row,\r\n                            address: trim(row.address, 19),\r\n                            slAddress: trim(row.slAddress, 19),\r\n                            now: (row.deliveredDate === date && row.deliveredTime.startsWith(time)),\r\n                        }))\r\n                        setD4(newRows);  \r\n                    }\r\n                })\r\n            }).catch(e => {\r\n                setD1([]); setD2([]); setD3([]); setD4([]);\r\n                enqueueSnackbar('Could not fetch', { variant: 'error' });\r\n            }).finally(e => setLoading(false))\r\n    }, [enqueueSnackbar, changed, searchFields.startDate, searchFields.endDate]);\r\n\r\n    const onClick = (id) => setOverlayDetail({id});\r\n\r\n    return (\r\n        <div>\r\n            <Grid container style={{paddingBottom: 20}}>\r\n                <Grid item md={12} lg={12}>\r\n                    <LinearLoader loading={loading} />\r\n                </Grid>\r\n                {!loading && d1.length + d2.length + d3.length + d4.length > 0 && <Grid container justify=\"space-around\" md={12} lg={12} style={{marginBottom: 10}}>\r\n                    <HeadingAlt title={'Info Received [' + d1.length + ']'} subtitle={'Not assigned'} style={{borderRight: '5px solid', borderLeft: '5px solid', paddingLeft: 5, paddingRight: 5, borderRadius: 5}}/>\r\n                    <HeadingAlt title={'Driver assigned [' + d2.length + ']'} subtitle={'Not picked'} style={{borderRight: '5px solid ' + palette.shades.main, borderLeft: '5px solid ' + palette.shades.main, paddingLeft: 5, paddingRight: 5, borderRadius: 5}}/>\r\n                    <HeadingAlt title={'In Transit [' + d3.length + ']'} subtitle={'Not delivered'} style={{borderRight: '5px solid ' + palette.secondary.main, borderLeft: '5px solid ' + palette.secondary.main, paddingLeft: 5, paddingRight: 5, borderRadius: 5}}/>\r\n                    <HeadingAlt title={'Items Delivered [' + d4.length + ']'} subtitle={'Job Completed'} style={{borderRight: '5px solid ' + palette.shades.green, borderLeft: '5px solid ' + palette.shades.green, paddingLeft: 5, paddingRight: 5, borderRadius: 5}}/>\r\n                </Grid>}\r\n                <Grid item md={3} lg={3}>\r\n                    {d1.map(i => <Grid item md={12} lg={12}>\r\n                        <CardGrid data={i} loading={loading} onClick={onClick} />\r\n                    </Grid>)}\r\n                </Grid>\r\n                <Grid item md={3} lg={3}>\r\n                    {d2.map(i => <Grid item md={12} lg={12}>\r\n                        <CardGrid data={i} loading={loading} onClick={onClick} color={palette.shades.main} />\r\n                    </Grid>)}\r\n                </Grid>\r\n                <Grid item md={3} lg={3}>\r\n                    {d3.map(i => <Grid item md={12} lg={12}>\r\n                        <CardGrid data={i} loading={loading} onClick={onClick} color={palette.secondary.main} />\r\n                    </Grid>)}\r\n                </Grid>\r\n                <Grid item md={3} lg={3}>\r\n                    {d4.map(i => <Grid item md={12} lg={12}>\r\n                        <CardGrid data={i} loading={loading} onClick={onClick} color={palette.shades.green} />\r\n                    </Grid>)}\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport {\r\n    Card, CardHeader, CardContent, Grid,\r\n    Button,\r\n} from '@material-ui/core';\r\nimport List from './components/List';\r\nimport ViewHbl from '../../hbl/ViewHbl';\r\nimport { DateOnly, Heading, Dialog, ButtonGroup } from 'business/widgets/Mini';\r\nimport moment from 'moment';\r\nimport ViewCompact from '@material-ui/icons/ViewCompact';\r\nimport DateRange from '@material-ui/icons/DateRange';\r\n\r\nconst UI = (props) => {\r\n    const [changed, setChanged] = React.useState(0);\r\n    const [searchFields, setSearchFields] = React.useState({\r\n        hbl: '',\r\n        startDate: moment().subtract(3, 'd').format('YYYY-MM-DD'),\r\n        endDate: moment().format('YYYY-MM-DD'),\r\n    });\r\n    const [overlayDetail, setOverlayDetail] = React.useState(false);\r\n\r\n    const onChange = e => {\r\n        setSearchFields({ ...searchFields, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const week = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().subtract(7, 'd').format('YYYY-MM-DD'),\r\n            endDate: moment().format('YYYY-MM-DD'),\r\n        });\r\n        setChanged(changed + 1)\r\n    };\r\n    \r\n    const today = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().format('YYYY-MM-DD'),\r\n            endDate: moment().format('YYYY-MM-DD'),\r\n        });\r\n        setChanged(changed + 1)\r\n    };\r\n\r\n    const yesterday = e => {\r\n        setSearchFields({\r\n            ...searchFields,         \r\n            startDate: moment().add(-1, 'd').format('YYYY-MM-DD'),\r\n            endDate: moment().add(-1, 'd').format('YYYY-MM-DD'),\r\n        });\r\n        setChanged(changed + 1)\r\n    };\r\n\r\n    return (<>\r\n        <Card elevation={0}>\r\n            <CardHeader title={\r\n                <Grid container spacing={1} justify=\"space-between\" alignContent=\"space-between\" alignItems=\"space-between\">\r\n                    <Heading Icon={ViewCompact} size={2} title={'HBL/JOBs'} subtitle={'Grid Overview'} />\r\n                    <Grid container spacing={2} xs={10} justify=\"flex-end\" alignContent=\"center\" alignItems=\"center\" style={{paddingRight: 10, paddingTop: 10}}>\r\n                        <DateOnly size={2} label=\"From Date\" name=\"startDate\"\r\n                            value={searchFields.startDate} onChange={onChange}\r\n                        />\r\n                        <DateOnly size={2} label=\"To Date\" name=\"endDate\"\r\n                            value={searchFields.endDate} onChange={onChange}\r\n                        />\r\n                        <Button startIcon={<DateRange />} color='primary' variant=\"outlined\" size=\"medium\" onClick={() => setChanged(changed + 1)} style={{marginTop: 2}}>Search</Button>\r\n                        <ButtonGroup size={2} onClicks={[week, today, yesterday]} options={['One Week', 'Today', 'Yesterday']} />\r\n                    </Grid>\r\n                </Grid>}\r\n            />\r\n            <CardContent>\r\n                <Card>\r\n                    <List changed={changed} setChanged={setChanged} history={props.history}\r\n                        searchFields={searchFields} setOverlayDetail={setOverlayDetail}\r\n                    />\r\n                </Card>\r\n            </CardContent>\r\n        </Card>\r\n        <Dialog open={overlayDetail} width=\"lg\" content={overlayDetail.id \r\n            ? <ViewHbl overlayDetail={overlayDetail} setOverlayDetail={setOverlayDetail} />\r\n            : <></>\r\n        }/>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\r\n\r\nconst quotes = [\r\n    ['Like waves, there could be rough days and smooth ones.', 'Like a ship, gracefully sail through both.'],\r\n    ['Dont let fear stop you from reaching horizons.', ''],\r\n    ['Your only limit is You', ''],\r\n    ['When we strive to become better than we are', 'everything around us becomes better too'],\r\n    ['Either you run the day or the day runs you.', ''],\r\n    ['', ''],\r\n]\r\n\r\nconst UI = (props) => {\r\n\r\n    const rand = Math.floor(Math.random() * quotes.length);\r\n    const quote = quotes[rand];\r\n\r\n    return (<>\r\n        <div style={{width:'100%', height:'90vh', backgroundColor: '#fafafa', marginTop: -8}}>\r\n            <div style={{position: 'absolute', top: 80, left: '40%', color: '#777', fontSize: 20, fontFamily: 'American Typewriter, serif' }}>You are doing great!</div>\r\n            <div style={{position: 'absolute', top: 110, left: '40%', color: '#777' }}>{quote[0]}</div>\r\n            <div style={{position: 'absolute', top: 128, left: '40%', color: '#777' }}>{quote[1]}</div>\r\n            {/* <iframe title=\"relax-1\" src=\"../relax_dot.html\" style={{border: 'none', width:'100%', height:'100%'}}></iframe>  */}\r\n        </div>\r\n    </>);\r\n};\r\n\r\nexport default UI;\r\n","import React from 'react';\nimport { Switch, Redirect } from 'react-router-dom';\nimport { Main as MainLayout, Minimal as MinimalLayout } from './layouts';\nimport PrivateRouteWithLayout from './layouts/PrivateRouteWithLayout';\nimport RouteWithLayout from './layouts/RouteWithLayout';\nimport { types } from './helpers/constants';\n\nimport SignIn from './SignIn';\nimport NotFoundView from './NotFound';\nimport UserVerification from './UserVerification';\nimport UserProfile from './UserProfile';\n\nimport {\n    Dashboard, Efficiency, Comparision, Sales, CrossBranch, Shipment360,\n    NewHbl, EditHbl, SearchHbl, Status,\n    PendingPickups, CashSettlements, Warehouse, CancelledHbls,\n    PrintHbl, PrintHblAll, ViewDocs, MapTrack, GridOverview, Relax, ReportHbl,\n} from '../business/views';\n\nconst AllRoute = () => {\n    return (\n        <Switch>\n            <Redirect exact from=\"/\" to=\"/dashboard\" />\n\n            <PrivateRouteWithLayout component={Dashboard} path=\"/dashboard\" types={[types.pickup, types.delivery]} exact layout={MainLayout} />\n            <PrivateRouteWithLayout component={Efficiency} path=\"/efficiency\" types={[types.pickup, types.delivery, types.domestic]} exact layout={MainLayout} />\n            <PrivateRouteWithLayout component={Comparision} path=\"/batch-summary\" types={[types.pickup, types.domestic]} exact layout={MainLayout} />\n            <PrivateRouteWithLayout component={Sales} path=\"/sales\" types={[types.pickup, types.domestic]} exact layout={MainLayout} />\n            <PrivateRouteWithLayout component={CrossBranch} path=\"/cross-branch\" types={[types.pickup, types.delivery]} exact layout={MainLayout} />\n            <PrivateRouteWithLayout component={Shipment360} path=\"/shipment-360\" types={[types.pickup, types.delivery]} exact layout={MainLayout} />\n\n            <PrivateRouteWithLayout component={NewHbl} path=\"/new-member\" exact layout={MainLayout} />\n            <PrivateRouteWithLayout component={EditHbl} path=\"/edit/:id\" types={[types.pickup, types.domestic]} exact layout={MainLayout} />\n            <PrivateRouteWithLayout component={SearchHbl} path=\"/search\" types={[types.pickup, types.delivery, types.domestic]} exact layout={MainLayout} />\n            <PrivateRouteWithLayout component={ReportHbl} path=\"/reports\" types={[types.domestic]} exact layout={MainLayout} />\n            <PrivateRouteWithLayout component={GridOverview} path=\"/grid\" types={[types.domestic]} exact layout={MainLayout} />\n            <PrivateRouteWithLayout component={Status} path=\"/cargo-status\" types={[types.pickup, types.delivery, types.domestic, types.pickup_customer]} exact layout={MainLayout} />\n            <PrivateRouteWithLayout component={PendingPickups} path=\"/pending\" exact layout={MainLayout} />\n            <PrivateRouteWithLayout component={CashSettlements} path=\"/cash-settlements\" types={[types.pickup]} exact layout={MainLayout} />\n            <PrivateRouteWithLayout component={Warehouse} path=\"/subscriptions\" types={[types.pickup]} exact layout={MainLayout} />\n            <PrivateRouteWithLayout component={CancelledHbls} path=\"/cancelled-hbls\" types={[types.pickup, types.domestic]} exact layout={MainLayout} />\n            <PrivateRouteWithLayout component={PrintHbl} path=\"/print/:id/:branch/:tab\" types={[types.pickup, types.delivery]} exact layout={MinimalLayout} />\n            <PrivateRouteWithLayout component={PrintHblAll} path=\"/print-all/:id/:branch/:tab\" types={[types.pickup, types.delivery]} exact layout={MinimalLayout} />\n            <PrivateRouteWithLayout component={ViewDocs} path=\"/view-docs/:id/:filename\" types={[types.pickup, types.delivery, types.domestic]} exact layout={MinimalLayout} />\n\n            <PrivateRouteWithLayout component={MapTrack} path=\"/driver/track\" types={[types.pickup, types.delivery, types.domestic]} exact layout={MainLayout} />\n            <PrivateRouteWithLayout component={Relax} path=\"/cool/relax\" types={[types.pickup, types.delivery, types.domestic, types.pickup_customer]} exact layout={MainLayout} />\n\n            <RouteWithLayout component={SignIn} path=\"/sign-in\" exact layout={MinimalLayout} />\n            <RouteWithLayout component={UserVerification} path=\"/user/verify\" exact layout={MinimalLayout} />\n            <RouteWithLayout component={UserProfile} path=\"/user/profile\" exact layout={MinimalLayout} />\n            <RouteWithLayout component={NotFoundView} path=\"/not-found\" exact layout={MinimalLayout} />\n            <Redirect to=\"/not-found\" />\n        </Switch>\n    );\n};\n\nexport default AllRoute;\n","import palette from './palette';\r\n\r\nexport default {\r\n\tfontFamily: \"'IBM Plex Sans', sans-serif\",\r\n\t// fontFamily: \"sans-serif\",\r\n\t// fontFamily: \"'IBM Plex Sans'\",\r\n\th1: {\r\n\t\t// color: palette.text.primary,\r\n\t\tfontWeight: 500,\r\n\t\tfontSize: '35px',\r\n\t\tletterSpacing: '-0.24px',\r\n\t\tlineHeight: '40px'\r\n\t},\r\n\th2: {\r\n\t\t// color: palette.text.primary,\r\n\t\tfontWeight: 500,\r\n\t\tfontSize: '29px',\r\n\t\tletterSpacing: '-0.24px',\r\n\t\tlineHeight: '32px'\r\n\t},\r\n\th3: {\r\n\t\t// color: palette.text.primary,\r\n\t\tfontWeight: 500,\r\n\t\tfontSize: '24px',\r\n\t\tletterSpacing: '-0.06px',\r\n\t\tlineHeight: '28px'\r\n\t},\r\n\th4: {\r\n\t\t// color: palette.text.primary,\r\n\t\tfontWeight: 500,\r\n\t\tfontSize: '20px',\r\n\t\tletterSpacing: '-0.06px',\r\n\t\tlineHeight: '24px'\r\n\t},\r\n\th5: {\r\n\t\t// color: palette.text.primary,\r\n\t\tfontWeight: 500,\r\n\t\tfontSize: '16px',\r\n\t\tletterSpacing: '-0.05px',\r\n\t\tlineHeight: '20px'\r\n\t},\r\n\th6: {\r\n\t\t// color: palette.text.primary,\r\n\t\tfontWeight: 500,\r\n\t\tfontSize: '14px',\r\n\t\tletterSpacing: '-0.05px',\r\n\t\tlineHeight: '20px'\r\n\t},\r\n\tsubtitle1: {\r\n\t\t// color: palette.text.primary,\r\n\t\tfontSize: '16px',\r\n\t\tletterSpacing: '-0.05px',\r\n\t\tlineHeight: '25px'\r\n\t},\r\n\tsubtitle2: {\r\n\t\tcolor: palette.text.secondary,\r\n\t\tfontWeight: 400,\r\n\t\tfontSize: '14px',\r\n\t\tletterSpacing: '-0.05px',\r\n\t\tlineHeight: '21px'\r\n\t},\r\n\tbody1: {\r\n\t\t// color: palette.text.primary,\r\n\t\tfontSize: '14px',\r\n\t\tletterSpacing: '-0.05px',\r\n\t\tlineHeight: '21px'\r\n\t},\r\n\tbody2: {\r\n\t\tcolor: palette.text.secondary,\r\n\t\tfontSize: '12px',\r\n\t\tletterSpacing: '-0.04px',\r\n\t\tlineHeight: '18px'\r\n\t},\r\n\tbutton: {\r\n\t\t// color: palette.text.primary,\r\n\t\tfontSize: '14px'\r\n\t},\r\n\tcaption: {\r\n\t\t// color: palette.text.secondary,\r\n\t\tfontSize: '11px',\r\n\t\tletterSpacing: '0.33px',\r\n\t\tlineHeight: '13px'\r\n\t},\r\n\toverline: {\r\n\t\tcolor: palette.text.secondary,\r\n\t\tfontSize: '11px',\r\n\t\tfontWeight: 500,\r\n\t\tletterSpacing: '0.33px',\r\n\t\tlineHeight: '13px',\r\n\t\ttextTransform: 'uppercase'\r\n\t}\r\n};\r\n","import palette from '../palette';\r\n\r\nexport default {\r\n  root: {\r\n    margin : '0 8px',\r\n    padding : 8,\r\n    fontSize: 20,\r\n    color: palette.icon,\r\n    '&:hover': {\r\n      cursor : 'pointer'\r\n    }\r\n  }\r\n};\r\n","import MuiButton from './MuiButton';\r\nimport MuiIconButton from './MuiIconButton';\r\nimport MuiPaper from './MuiPaper';\r\nimport MuiTableCell from './MuiTableCell';\r\nimport MuiTableHead from './MuiTableHead';\r\nimport MuiTypography from './MuiTypography';\r\nimport MuiDialogTitle from './MuiDialogTitle';\r\nimport MUIDataTableBodyCell from './MUIDataTableBodyCell';\r\nimport MUIDataTableHeadCell from './MUIDataTableHeadCell';\r\nimport MUIDataTableToolbar from './MUIDataTableToolbar';\r\nimport MUITable from './MUITable';\r\nimport MUIDataTableFilterList from './MUIDataTableFilterList';\r\nimport MUIDataTable from './MUIDataTable';\r\nimport MuiLink from './MuiLink';\r\nimport palette from '../palette';\r\n\r\nexport default {\r\n    MuiButton,\r\n    MuiIconButton,\r\n    MuiPaper,\r\n    MuiTableCell,\r\n    MuiTableHead,\r\n    MuiTypography,\r\n    MuiDialogTitle,\r\n    MUIDataTableBodyCell,\r\n    MUIDataTableHeadCell,\r\n    MUIDataTableToolbar,\r\n    MUITable,\r\n    MUIDataTableFilterList,\r\n    MUIDataTable,\r\n    MuiLink,\r\n    MuiExpansionPanelSummary: {\r\n        root: { \r\n            minHeight: '45px !important', height: 45, background: palette.shades.light\r\n        }\r\n    },\r\n    MuiStepper: {\r\n        root: {\r\n            padding: '24px 0',\r\n            '& .MuiStepLabel-root': {\r\n                padding: '8px 0',\r\n            },\r\n            '& .MuiStepLabel-label': {\r\n                fontSize: '1rem',\r\n                fontWeight: 500,\r\n                '@media (min-width: 600px)': {\r\n                    fontSize: '1.125rem',\r\n                }\r\n            },\r\n            '& .MuiStepIcon-root': {\r\n                width: '32px',\r\n                height: '32px',\r\n                fontSize: '1.5rem',\r\n                '@media (min-width: 600px)': {\r\n                    width: '36px',\r\n                    height: '36px',\r\n                    fontSize: '1.75rem',\r\n                }\r\n            },\r\n            '& .MuiStepIcon-text': {\r\n                fontSize: '1rem',\r\n                fontWeight: 'bold',\r\n                '@media (min-width: 600px)': {\r\n                    fontSize: '1.125rem',\r\n                }\r\n            },\r\n            '& .MuiStepConnector-line': {\r\n                borderTopWidth: '2px',\r\n                '@media (min-width: 600px)': {\r\n                    borderTopWidth: '3px',\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","export default {\r\n    contained: {\r\n        boxShadow:\r\n            '0 1px 1px 0 rgba(0,0,0,0.14), 0 2px 1px -1px rgba(0,0,0,0.12), 0 1px 3px 0 rgba(0,0,0,0.20)',\r\n        backgroundColor: '#FFFFFF'\r\n    }\r\n};\r\n","export default {\r\n  elevation1: {\r\n    boxShadow: 'none',\r\n  },\r\n  elevation4: {\r\n    boxShadow: 'none',\r\n  }\r\n};\r\n","import palette from '../palette';\r\nimport typography from '../typography';\r\n\r\nexport default {\r\n  root: {\r\n    ...typography.body1,\r\n    borderBottom: `1px solid ${palette.divider}`\r\n  }\r\n};\r\n","import { colors } from '@material-ui/core';\r\n\r\nexport default {\r\n  root: {\r\n    backgroundColor: colors.grey[50]\r\n  }\r\n};\r\n","export default {\r\n  gutterBottom: {\r\n    marginBottom: 8\r\n  },\r\n};\r\n","import palette from '../palette';\r\nexport default {\r\n    root: {\r\n        color : palette.black\r\n      }\r\n};\r\n","export default {\r\n    root: {\r\n    }\r\n};\r\n","import palette from \"portal/theme/palette\";\r\n\r\nexport default{\r\n    root: {\r\n        padding: '8px !important' ,\r\n        border : '1px solid ' + palette.shades.light,\r\n        color : palette.shades.main + ' !important'\r\n    }\r\n}","import palette from \"portal/theme/palette\";\r\n\r\nexport default {\r\n    root : { \r\n        minHeight: '12% !important',\r\n        maxHeight: '12% !important',\r\n        padding: '0 4px',\r\n    },\r\n    iconActive:{\r\n        color : palette.tableHeader.color + ' !important',\r\n    },\r\n    icon :{\r\n        color : palette.tableHeader.color + ' !important',\r\n    }\r\n}","export default{\r\n    root: {\r\n        overflowY: 'scroll'\r\n    }\r\n}","export default {\r\n    root:{\r\n        paddingBottom: '8px',\r\n        margin: '0 !important',\r\n        background : 'none'\r\n    }\r\n}","export default {\r\n    paper:{\r\n        height: '100%',\r\n        whiteSpace: 'nowrap',\r\n        // boxShadow: '8px 8px 8px rgb(0,0,0, 0.10)',\r\n        padding : '8px',\r\n    },\r\n    responsiveScrollFullHeight:{\r\n        height: '80% ',\r\n        overflowY: 'scroll'\r\n    },\r\n    responsiveScrollMaxHeight: {\r\n        maxHeight: 'none'\r\n    },\r\n    responsiveScroll: {\r\n        maxHeight: 'none'\r\n    }\r\n}","export default{\r\n    root: {\r\n        cursor: 'pointer'\r\n    }\r\n}","import { createMuiTheme } from '@material-ui/core';\r\n\r\nimport palette from './palette';\r\nimport typography from './typography';\r\nimport overrides from './overrides';\r\n\r\nconst theme = createMuiTheme({\r\n  props: {\r\n    MuiButton: {\r\n      size: 'small',\r\n    },\r\n    MuiFilledInput: {\r\n      margin: 'dense',\r\n    },\r\n    // MuiFormControl: {\r\n    //   margin: 'dense',\r\n    // },\r\n    MuiFormHelperText: {\r\n      margin: 'dense',\r\n    },\r\n    MuiIconButton: {\r\n      size: 'small',\r\n    },\r\n    MuiInputBase: {\r\n      margin: 'dense',\r\n    },\r\n    MuiInputLabel: {\r\n      margin: 'dense',\r\n    },\r\n    MuiListItem: {\r\n      dense: true,\r\n    },\r\n    MuiOutlinedInput: {\r\n      margin: 'dense',\r\n    },\r\n    MuiFab: {\r\n      size: 'small',\r\n    },\r\n    MuiTable: {\r\n      size: 'small',\r\n    },\r\n    MuiTextField: {\r\n      margin: 'dense',\r\n    },\r\n    MuiToolbar: {\r\n      variant: 'dense',\r\n    },\r\n  },\r\n  palette,\r\n  typography,\r\n  overrides,\r\n  zIndex: {\r\n    appBar: 1200,\r\n    drawer: 1100\r\n  }\r\n});\r\n\r\nexport default theme;\r\n","import './polyfill';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","import moment from \"moment\";\r\nimport { clientX } from \"portal/services/client.service\";\r\n\r\nexport const audit = (txt, pre) =>\r\n    `${pre || '?'}audit=${moment().format('YYYY-MM-DD_HH-mm')}_${clientX().branch}_${txt}_${clientX().username}`;\r\n","if (typeof process === 'undefined') {\n    window.process = {\n        env: {\n            REACT_APP_OLD_TYPE: 'OBA',\n            REACT_APP_BASE_URL: '',\n            NODE_ENV: 'development'\n        }\n    };\n}\n","import { PUT, DELETE } from 'portal/helpers/adapter';\nimport { clientX } from 'portal/services/client.service';\nimport { POST, GET, GETbyId, GET_AGG } from 'portal/services/fs.service';\nimport { startAt, orderBy, endAt, where } from 'firebase/firestore';\nimport { doc, updateDoc } from 'firebase/firestore';\nimport { getDb } from 'portal/services/fs.service';\n\nconst collectionName = 'members'\nconst get = async(search) => {\n    // debugger\n    const params = []\n    if (search.id) {\n        // debugger\n    \treturn GETbyId(collectionName, search.id)\n    }\n    if (search.batch) {\n        params.push(where('batchOl', '==', search.batch))\n    }\n    if (search.nameWithInitials) {\n        params.push(orderBy('nameWithInitials'))\n        params.push(startAt(search.nameWithInitials))\n        params.push(endAt(search.nameWithInitials + '\\uf8ff'))\n    }\n\treturn GET(collectionName, ...params)\n}\n\nconst getMax = async() => {\n    // DISABLED: Server dependency disabled for UI focus\n    // return GET_AGG(collectionName, \"count\");\n    console.log('[MOCK] getMax: Returning mock value 1000');\n    return 1000; // Mock value\n}\n\n/**\n * Get next sequence number for membership ID generation\n * Finds the highest sequence number for a given year and gender\n */\nconst getNextSequence = async (gender, year) => {\n    // DISABLED: Server dependency disabled for UI focus\n    // try {\n    //     // Query members with matching gender and year in memberCode\n    //     const genderCode = gender === 'Female' ? 'G' : 'B';\n    //     const pattern = `ZO${genderCode}${year}`;\n    //     \n    //     // Get all members and filter by pattern\n    //     const allMembers = await GET(collectionName, []);\n    //     \n    //     if (!allMembers || allMembers.length === 0) {\n    //         return 1;\n    //     }\n\n    //     // Filter members with matching pattern and extract sequence numbers\n    //     const matchingMembers = allMembers.filter(member => {\n    //         if (!member.memberCode) return false;\n    //         return member.memberCode.startsWith(pattern);\n    //     });\n\n    //     if (matchingMembers.length === 0) {\n    //         return 1;\n    //     }\n\n    //     // Extract sequence numbers and find max\n    //     const sequences = matchingMembers.map(member => {\n    //         const code = member.memberCode;\n    //         // Extract last 4 digits (sequence)\n    //         const seqStr = code.substring(code.length - 4);\n    //         return parseInt(seqStr) || 0;\n    //     });\n\n    //     const maxSequence = Math.max(...sequences);\n    //     return maxSequence + 1;\n    // } catch (error) {\n    //     console.error('Error getting next sequence:', error);\n    //     return 1; // Fallback to 1 if error\n    // }\n    console.log('[MOCK] getNextSequence: Returning mock value 1');\n    return 1; // Mock value\n}\n\nconst getMembersByBatch = async() => {\n    return GET_AGG(collectionName, \"sum\");\n}\n\nconst create = async(obj) => {\n    // DISABLED: Server dependency disabled for UI focus\n    // return POST(collectionName,  {\n    //     ...obj\n    // })\n    console.log('[MOCK] create: Would create member with data:', obj);\n    return new Promise((resolve) => {\n        setTimeout(() => {\n            const mockId = 'mock-member-' + Date.now();\n            console.log('[MOCK] create: Returning mock ID:', mockId);\n            resolve(mockId);\n        }, 500); // Simulate network delay\n    });\n}\n\nconst update = async(id, obj) => {\n\treturn PUT(`/v1/user/update-type/${id}?branch=${clientX().branch}`, obj)\n}\n\nconst updateSettings = async(id, obj) => {\n\treturn PUT(`/v1/user/update-settings/${id}?branch=${clientX().branch}`, obj)\n}\n\nconst updatePassword = async(username, obj) => {\n\treturn PUT(`/v1/user/update-password?branch=${clientX().branch}`, {username: username || clientX().username, ...obj})\n}\n\nconst resetPassword = async(username, obj) => {\n\treturn PUT(`/v1/user/reset-password?branch=${clientX().branch}`, {username: username || clientX().username, ...obj})\n}\n\nconst remove = async(id, obj) => {\n\treturn DELETE(`/v1/user/delete/${id}?branch=${clientX().branch}`, obj)\n}\n\n// User self-update (doesn't require admin authentication)\nconst updateSelf = async(id, obj) => {\n    // DISABLED: Server dependency disabled for UI focus\n    // const db = getDb();\n    // const memberRef = doc(db, collectionName, id);\n    // \n    // // Remove undefined values as Firestore doesn't accept them\n    // const cleanObj = Object.keys(obj).reduce((acc, key) => {\n    //     if (obj[key] !== undefined) {\n    //         acc[key] = obj[key];\n    //     }\n    //     return acc;\n    // }, {});\n    // \n    // await updateDoc(memberRef, {\n    //     ...cleanObj,\n    //     lastUpdatedDate: new Date(),\n    //     lastUpdatedBy: 'self'\n    // });\n    // return { success: true };\n    console.log('[MOCK] updateSelf: Would update member', id, 'with data:', obj);\n    return new Promise((resolve) => {\n        setTimeout(() => {\n            console.log('[MOCK] updateSelf: Mock update successful');\n            resolve({ success: true });\n        }, 500); // Simulate network delay\n    });\n}\n\nexport default {\n    get,\n    getMax,\n    getMembersByBatch,\n    getNextSequence,\n    updatePassword,\n    resetPassword,\n    create,\n    remove,\n    update,\n    updateSettings,\n    updateSelf\n}\n","// Firestore service - only initializes Firestore, NOT Firebase Auth\n// This prevents iframe injection when UserProfile page loads\nimport firebase from 'firebase/compat/app';\nimport { getFirestore, query, doc, collection, addDoc, getDoc, getDocs, getCountFromServer } from 'firebase/firestore';\n\nconst firebaseConfig = process.env.REACT_APP_OLD_TYPE === 'OBA' ? {\n    apiKey: \"AIzaSyCuRogbNMfuUz5j_L-h8eEpJrvOSV9DF-E\",\n    authDomain: \"ob-test-41e9f.firebaseapp.com\",\n    projectId: \"ob-test-41e9f\",\n    storageBucket: \"ob-test-41e9f.appspot.com\",\n    messagingSenderId: \"217234626807\",\n    appId: \"1:217234626807:web:958d5eb68520d053a4dbf2\"\n} : process.env.REACT_APP_OLD_TYPE === 'OGA' ? {\n    apiKey: \"AIzaSyBGvxtiRJD9TWvZdWdRdAnqYTXtcbNgWbc\",\n    authDomain: \"og-test-23bbc.firebaseapp.com\",\n    projectId: \"og-test-23bbc\",\n    storageBucket: \"og-test-23bbc.appspot.com\",\n    messagingSenderId: \"106688948302\",\n    appId: \"1:106688948302:web:796c0efde6fbcc5e327b1f\"\n} : {};\n\nconst app = firebase.initializeApp(firebaseConfig);\n\n// Export firebase instance for backward compatibility (but auth is not initialized here)\nexport const fs = firebase;\n\nlet db = null;\nexport const getDb = () => {\n    if (!db) db = getFirestore(app);\n    return db;\n};\n\nexport const GETbyId = async (collectionName, id) => {\n    const res = doc(getDb(), collectionName, id);\n    const snapshot = await getDoc(res);\n    if (snapshot.exists()) {\n        return snapshot.data();\n    } else {\n        return {};\n    }\n};\n\nexport const GET = async (collectionName, ...where) => {\n    const res = query(collection(getDb(), collectionName), ...where);\n    const snapshot = await getDocs(res);\n    const list = snapshot.docs.map(doc => ({ ...doc.data(), id: doc.id }));\n    return list;\n};\n\nexport const GET_AGG = async (collectionName, type) => {\n    const coll = collection(getDb(), collectionName);\n    const snapshot = await getCountFromServer(coll);\n    return snapshot.data().count;\n};\n\nexport const POST = async (collectionName, object) => {\n    const res = await addDoc(collection(getDb(), collectionName), object);\n    return res.id;\n};\n\n","/**\n * Utility to detect and remove overlay iframes that block user interaction\n * These are typically created by browser extensions or malicious scripts\n */\n\nexport const removeOverlayIframes = () => {\n  // Find all iframes with suspicious overlay characteristics\n  const iframes = document.querySelectorAll('iframe');\n  \n  iframes.forEach(iframe => {\n    const style = window.getComputedStyle(iframe);\n    const zIndex = parseInt(style.zIndex, 10);\n    \n    // Check if it's a full-screen overlay with very high z-index\n    if (\n      style.position === 'fixed' &&\n      (style.top === '0px' || style.top === '0') &&\n      (style.left === '0px' || style.left === '0') &&\n      (style.width === '100%' || style.width === window.innerWidth + 'px') &&\n      (style.height === '100%' || style.height === window.innerHeight + 'px') &&\n      (zIndex > 1000000 || zIndex === 2147483647) // Very high z-index or max z-index\n    ) {\n      console.warn('Removing suspicious overlay iframe:', iframe);\n      iframe.remove();\n    }\n  });\n};\n\n// Auto-remove on page load\nif (typeof window !== 'undefined') {\n  const initObserver = () => {\n    // Run immediately\n    removeOverlayIframes();\n    \n    // Watch for dynamically added iframes\n    const observer = new MutationObserver(() => {\n      removeOverlayIframes();\n    });\n    \n    if (document.body) {\n      observer.observe(document.body, {\n        childList: true,\n        subtree: true\n      });\n    }\n  };\n  \n  // Run when DOM is ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', initObserver);\n  } else {\n    // DOM already loaded\n    initObserver();\n  }\n}\n\n","import { langs } from 'business/utils/lang';\r\nimport { userTypes, types } from 'portal/helpers/constants';\r\nimport { GET } from '../helpers/adapter';\r\n\r\nconst data = {\r\n    client: {\r\n        branch: '',\r\n        type: '',\r\n        displayName: 'OBA MANAGEMENT',\r\n        eduType: ['Course', 'Diploma', 'HND', 'Degree', 'Masters', 'MBA', 'Doctorate'],\r\n        eduCategory: ['IT', 'Bio', 'Construction', 'Engineering', 'Medicine', 'Law', 'Marketting', 'Psycology', 'Accounting', 'Management', 'Sales', 'Islamic Studies'].sort(),\r\n        workCategory: ['IT', 'Bio', 'Construction', 'Engineering', 'Doctor', 'Lawyer', 'Marketting', 'Psycologist', 'Accountant', 'Manager', 'Executive', 'Moulavi'].sort(),\r\n        warehouseLocation: ['Colombo', 'Nintavur', 'Kurunegala'],\r\n        userType: 'editor',\r\n        username: 'base_',\r\n    }\r\n}\r\n\r\nconst perms = {\r\n    client: {\r\n        \r\n    }\r\n}\r\n\r\nconst prices = {\r\n    client: [\r\n    ]\r\n}\r\n\r\nconst customerData = {\r\n    client: {}\r\n}\r\n\r\nconst feData = {\r\n    qatar: {\r\n        parent: '',\r\n        phone: '',\r\n        website: '',\r\n        barcode: true,\r\n        qrcode: false,\r\n        printPriceBreakdown: false,\r\n        qidLabel: '',\r\n        currency: '',\r\n    },\r\n    \"philippines-dropex\": {\r\n        parent: 'dropex',\r\n        phone: 'Philippines: +63966 50895',\r\n        website: '063092/063530',\r\n        barcode: true,\r\n        qrcode: false,\r\n        printPriceBreakdown: true,\r\n    },\r\n    \"china-dropex\": {\r\n        parent: 'dropex',\r\n        phone: 'China: +63966 508',\r\n        website: '063092/0635304',\r\n        barcode: true,\r\n        qrcode: false,\r\n        printPriceBreakdown: true,\r\n    },\r\n    default: {\r\n        parent: 'oba',\r\n        phone: ' ',\r\n        website: ' ',        \r\n        barcode: true,\r\n        qrcode: false,\r\n        printPriceBreakdown: false,\r\n    }\r\n}\r\n\r\nexport const clientX = () => data.client\r\nexport const clientZ = () => perms.client\r\nexport const clientP = () => prices.client\r\nexport const clientC = () => customerData.client\r\nexport const clientF = b => (feData[b] || feData['default'])\r\n\r\nconst getBranchDetails = async(branch) => {\r\n    // console.log(branch, GET, branch.toLowerCase())\r\n    const userType = localStorage.getItem(\"mw-u-type\")\r\n    const resp = await GET(`/v1/client/branch/${branch.toLowerCase()}?userType=${userType}&userName=${localStorage.getItem(\"mw-u\")}`)\r\n    try {\r\n        const d = (typeof resp.branchData === 'string') ? JSON.parse(resp.branchData.split('\\'').join('\"')) : resp.branchData\r\n        data.client = {\r\n            ...d,\r\n            lang: resp.lang || langs.ENGLISH,\r\n            backupEmail: resp.backupEmail || 'N/A',\r\n            username: localStorage.getItem(\"mw-u\"),\r\n            userType,\r\n            type: userType === userTypes.customer ? types.pickup_customer : d.type\r\n        };\r\n        if (data.client.branch === 'dubai') { // TODO: remove this and add in database itself\r\n            data.client.packageType = [\r\n                'CTN [70x45x45] (919,748.2)',\r\n                'CTN [80x60x60] (566,428)',\r\n                'CTN [112x72x72] (471,368.7)',\r\n                '1M [124x90x83] (301.2,192.2)',\r\n                '1.5M [124x100x130] (301.2,192.2)',\r\n                '2M [124x124x130] (301.2,192.2)',\r\n                '2.5M [155x124x130] (301.2,192.2)',\r\n                '3M [185x124x130] (301.2,192.2)',\r\n                '3.5M [230x124x130] (301.2,192.2)',\r\n                '4M [245x124x130] (301.2,192.2)',\r\n                'CBM PER (360,230)',\r\n                'TILE CBM PER (525,425)',\r\n                ...data.client.packageType\r\n            ] \r\n        }\r\n        const p = (typeof resp.userData === 'string') ? JSON.parse(resp.userData.split('\\'').join('\"')) : resp.userData\r\n        perms.client = {\r\n            ...p,\r\n        };\r\n        const pr = (typeof resp.priceData === 'string') ? JSON.parse(resp.priceData.split('\\'').join('\"')) : resp.priceData\r\n        prices.client = [\r\n            ...pr,\r\n        ];\r\n        const cusData = resp.customerData || {}\r\n        customerData.client = {\r\n            ...cusData,\r\n        };\r\n        \r\n        // console.log(d)\r\n        return data.client;\r\n    } catch (e) {\r\n        console.log(e)\r\n        // data.client = { };\r\n        return {};\r\n    }\r\n}\r\n\r\nexport default {\r\n    getBranchDetails,\r\n}\r\n","// Firebase Auth service - separate from Firestore to prevent iframe injection\n// This is only imported by pages that need authentication (SignIn, PrivateRouteWithLayout)\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\n\nconst firebaseConfig = process.env.REACT_APP_OLD_TYPE === 'OBA' ? {\n    apiKey: \"AIzaSyCuRogbNMfuUz5j_L-h8eEpJrvOSV9DF-E\",\n    authDomain: \"ob-test-41e9f.firebaseapp.com\",\n    projectId: \"ob-test-41e9f\",\n    storageBucket: \"ob-test-41e9f.appspot.com\",\n    messagingSenderId: \"217234626807\",\n    appId: \"1:217234626807:web:958d5eb68520d053a4dbf2\"\n} : process.env.REACT_APP_OLD_TYPE === 'OGA' ? {\n    apiKey: \"AIzaSyBGvxtiRJD9TWvZdWdRdAnqYTXtcbNgWbc\",\n    authDomain: \"og-test-23bbc.firebaseapp.com\",\n    projectId: \"og-test-23bbc\",\n    storageBucket: \"og-test-23bbc.appspot.com\",\n    messagingSenderId: \"106688948302\",\n    appId: \"1:106688948302:web:796c0efde6fbcc5e327b1f\"\n} : {};\n\n// Get or initialize Firebase app (may already be initialized by fs.service.js)\nlet app;\ntry {\n    app = firebase.app();\n} catch (e) {\n    app = firebase.initializeApp(firebaseConfig);\n}\n\n// Initialize Firebase Auth (this is what creates the iframe)\nconst auth = firebase.auth();\n\nconst provider = new firebase.auth.GoogleAuthProvider();\nprovider.setCustomParameters({ prompt: 'select_account' });\n\nexport const signInWithGoogle = () => auth.signInWithPopup(provider);\n\n// Email link authentication (bypasses email verification)\nexport const sendSignInLinkToEmail = async (email) => {\n    const actionCodeSettings = {\n        url: `${window.location.origin}/sign-in?email=${encodeURIComponent(email)}`,\n        handleCodeInApp: true,\n    };\n    await auth.sendSignInLinkToEmail(email, actionCodeSettings);\n    // Store email in localStorage for when user clicks the link\n    localStorage.setItem('emailForSignIn', email);\n};\n\n// Check if user is signing in via email link\nexport const isSignInWithEmailLink = (url) => {\n    return auth.isSignInWithEmailLink(url);\n};\n\n// Complete sign in with email link\nexport const signInWithEmailLink = async (email, emailLink) => {\n    return await auth.signInWithEmailLink(email, emailLink);\n};\n\nexport const getAuth = () => auth;\nexport const fs = firebase; // For backward compatibility\n\n","export default async function(response, isBlob) {\r\n\tif (isBlob) {\r\n\t\tconsole.log(response.headers.get('content-type'))\r\n\t\treturn await response.blob()\r\n\t}\r\n\tlet responseType = response.headers.get('content-type')\r\n\tlet data = null;\r\n\tif(responseType && responseType.indexOf('application/json') > -1) {\r\n\t\tlet t = await response.text();\r\n\t\ttry {\r\n\t\t\tdata = JSON.parse(t);\r\n\t\t}\r\n\t\tcatch {\r\n\t\t\tdata = t;\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tdata = await response.text();\r\n\t}\r\n\tif(response.ok) {\r\n\t\tif(data) return data;\r\n\t\telse return response;\r\n\t}\r\n\telse{\r\n\t\tif(response.status === 401 || response.status === 403) {\r\n\t\t\tif (window.location.href.includes('/customer/')) \r\n\t\t\t\twindow.location = `${process.env.REACT_APP_BASE_URL || ''}/sign-in/customer`;\r\n\t\t\telse if (!window.location.href.includes('driver-app') || !window.location.href.includes('/driver')) \r\n\t\t\t\twindow.location = `${process.env.REACT_APP_BASE_URL || ''}/sign-in`;\r\n\t\t\telse {\r\n\t\t\t\twindow.Android.mwLogout();\r\n\t\t\t\t// window.location = `${process.env.REACT_APP_BASE_URL || ''}/sign-in/driver`;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(data) throw data;\r\n\t\telse throw response;\r\n\t}\r\n}\r\n"],"sourceRoot":""}